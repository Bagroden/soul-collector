# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–∑—É—á–µ–Ω–∏—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π –ª–µ—Ç—É—á–µ–π –º—ã—à–∏

## üêõ –ü—Ä–æ–±–ª–µ–º–∞:
–ü—Ä–∏ –ø–æ–±–µ–¥–µ –Ω–∞–¥ –ª–µ—Ç—É—á–µ–π –º—ã—à—å—é –ø—Ä–æ–≥—Ä–µ—Å—Å –∏–∑—É—á–µ–Ω–∏—è –µ—ë –ø–∞—Å—Å–∏–≤–Ω—ã—Ö —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π –Ω–µ —É–≤–µ–ª–∏—á–∏–≤–∞–ª—Å—è.

## üîç –ü—Ä–∏—á–∏–Ω–∞:
1. **–í `AbilityLearningSystem.gd`** –Ω–µ –±—ã–ª–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π –ª–µ—Ç—É—á–µ–π –º—ã—à–∏
2. **–í `battle_manager.gd`** –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ –≤—Ä–∞–≥–∞ —Ä–∞–±–æ—Ç–∞–ª–æ —Ç–æ–ª—å–∫–æ –¥–ª—è –∫—Ä—ã—Å

## ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

### **1. –î–æ–±–∞–≤–ª–µ–Ω—ã —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –ª–µ—Ç—É—á–µ–π –º—ã—à–∏ –≤ AbilityLearningSystem.gd:**

```gdscript
# –°–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –ª–µ—Ç—É—á–µ–π –º—ã—à–∏
"bat_speed": {
    "name": "–°–∫–æ—Ä–æ—Å—Ç—å –ª–µ—Ç—É—á–µ–π –º—ã—à–∏",
    "required_progress": 100,
    "sources": {
        "common_–õ–µ—Ç—É—á–∞—è –º—ã—à—å": 10,      # 10% –∑–∞ –æ–±—ã—á–Ω—É—é –ª–µ—Ç—É—á—É—é –º—ã—à—å
        "uncommon_–õ–µ—Ç—É—á–∞—è –º—ã—à—å": 10,    # 10% –∑–∞ –Ω–µ–æ–±—ã—á–Ω—É—é –ª–µ—Ç—É—á—É—é –º—ã—à—å
        "rare_–õ–µ—Ç—É—á–∞—è –º—ã—à—å": 10,        # 10% –∑–∞ —Ä–µ–¥–∫—É—é –ª–µ—Ç—É—á—É—é –º—ã—à—å
        "epic_–õ–µ—Ç—É—á–∞—è –º—ã—à—å": 10,        # 10% –∑–∞ —ç–ø–∏—á–µ—Å–∫—É—é –ª–µ—Ç—É—á—É—é –º—ã—à—å
        "legendary_–õ–µ—Ç—É—á–∞—è –º—ã—à—å": 10   # 10% –∑–∞ –ª–µ–≥–µ–Ω–¥–∞—Ä–Ω—É—é –ª–µ—Ç—É—á—É—é –º—ã—à—å
    }
},
"sharp_claws": {
    "name": "–û—Å—Ç—Ä—ã–µ –∫–æ–≥—Ç–∏",
    "required_progress": 100,
    "sources": {
        "uncommon_–õ–µ—Ç—É—á–∞—è –º—ã—à—å": 10,   # 10% –∑–∞ –Ω–µ–æ–±—ã—á–Ω—É—é –ª–µ—Ç—É—á—É—é –º—ã—à—å
        "rare_–õ–µ—Ç—É—á–∞—è –º—ã—à—å": 10,        # 10% –∑–∞ —Ä–µ–¥–∫—É—é –ª–µ—Ç—É—á—É—é –º—ã—à—å
        "epic_–õ–µ—Ç—É—á–∞—è –º—ã—à—å": 10,        # 10% –∑–∞ —ç–ø–∏—á–µ—Å–∫—É—é –ª–µ—Ç—É—á—É—é –º—ã—à—å
        "legendary_–õ–µ—Ç—É—á–∞—è –º—ã—à—å": 10   # 10% –∑–∞ –ª–µ–≥–µ–Ω–¥–∞—Ä–Ω—É—é –ª–µ—Ç—É—á—É—é –º—ã—à—å
    }
},
"blood_sucker": {
    "name": "–ö—Ä–æ–≤–æ—Å–æ—Å",
    "required_progress": 100,
    "sources": {
        "rare_–õ–µ—Ç—É—á–∞—è –º—ã—à—å": 10,        # 10% –∑–∞ —Ä–µ–¥–∫—É—é –ª–µ—Ç—É—á—É—é –º—ã—à—å
        "epic_–õ–µ—Ç—É—á–∞—è –º—ã—à—å": 10,        # 10% –∑–∞ —ç–ø–∏—á–µ—Å–∫—É—é –ª–µ—Ç—É—á—É—é –º—ã—à—å
        "legendary_–õ–µ—Ç—É—á–∞—è –º—ã—à—å": 10    # 10% –∑–∞ –ª–µ–≥–µ–Ω–¥–∞—Ä–Ω—É—é –ª–µ—Ç—É—á—É—é –º—ã—à—å
    }
},
"echolocation": {
    "name": "–≠—Ö–æ–ª–æ–∫–∞—Ü–∏—è",
    "required_progress": 100,
    "sources": {
        "epic_–õ–µ—Ç—É—á–∞—è –º—ã—à—å": 10,        # 10% –∑–∞ —ç–ø–∏—á–µ—Å–∫—É—é –ª–µ—Ç—É—á—É—é –º—ã—à—å
        "legendary_–õ–µ—Ç—É—á–∞—è –º—ã—à—å": 10    # 10% –∑–∞ –ª–µ–≥–µ–Ω–¥–∞—Ä–Ω—É—é –ª–µ—Ç—É—á—É—é –º—ã—à—å
    }
},
"silent_song": {
    "name": "–¢–∏—Ö–∞—è –ø–µ—Å–Ω—è",
    "required_progress": 100,
    "sources": {
        "legendary_–õ–µ—Ç—É—á–∞—è –º—ã—à—å": 10    # 10% –∑–∞ –ª–µ–≥–µ–Ω–¥–∞—Ä–Ω—É—é –ª–µ—Ç—É—á—É—é –º—ã—à—å
    }
}
```

### **2. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ –≤—Ä–∞–≥–∞ –≤ battle_manager.gd:**

```gdscript
var enemy_type = "rat"  # –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∫—Ä—ã—Å–∞
if "rat" in enemy_node.name.to_lower():
    enemy_type = "rat"
elif "bat" in enemy_node.name.to_lower() or "–º—ã—à" in enemy_node.display_name.to_lower():
    enemy_type = "–õ–µ—Ç—É—á–∞—è –º—ã—à—å"
# –î–æ–±–∞–≤–∏–º –¥—Ä—É–≥–∏–µ —Ç–∏–ø—ã –≤—Ä–∞–≥–æ–≤ –ø–æ –º–µ—Ä–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
```

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç:

### **–¢–µ–ø–µ—Ä—å –ø—Ä–∏ –ø–æ–±–µ–¥–µ –Ω–∞–¥ –ª–µ—Ç—É—á–µ–π –º—ã—à—å—é:**
- **Common** - –∏–∑—É—á–∞–µ—Ç—Å—è `bat_speed` (–°–∫–æ—Ä–æ—Å—Ç—å –ª–µ—Ç—É—á–µ–π –º—ã—à–∏)
- **Uncommon** - –∏–∑—É—á–∞–µ—Ç—Å—è `bat_speed` + `sharp_claws` (–û—Å—Ç—Ä—ã–µ –∫–æ–≥—Ç–∏)
- **Rare** - –∏–∑—É—á–∞–µ—Ç—Å—è `bat_speed` + `sharp_claws` + `blood_sucker` (–ö—Ä–æ–≤–æ—Å–æ—Å)
- **Epic** - –∏–∑—É—á–∞–µ—Ç—Å—è `bat_speed` + `sharp_claws` + `blood_sucker` + `echolocation` (–≠—Ö–æ–ª–æ–∫–∞—Ü–∏—è)
- **Legendary** - –∏–∑—É—á–∞–µ—Ç—Å—è `bat_speed` + `sharp_claws` + `blood_sucker` + `echolocation` + `silent_song` (–¢–∏—Ö–∞—è –ø–µ—Å–Ω—è)

### **–ü—Ä–æ–≥—Ä–µ—Å—Å –∏–∑—É—á–µ–Ω–∏—è:**
- –ö–∞–∂–¥–∞—è –ø–æ–±–µ–¥–∞ –¥–∞–µ—Ç **10% –ø—Ä–æ–≥—Ä–µ—Å—Å–∞** –¥–ª—è –∫–∞–∂–¥–æ–π –¥–æ—Å—Ç—É–ø–Ω–æ–π —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
- –î–ª—è –ø–æ–ª–Ω–æ–≥–æ –∏–∑—É—á–µ–Ω–∏—è –Ω—É–∂–Ω–æ **10 –ø–æ–±–µ–¥** –Ω–∞–¥ –≤—Ä–∞–≥–æ–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π —Ä–µ–¥–∫–æ—Å—Ç–∏
- –ü—Ä–æ–≥—Ä–µ—Å—Å –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ —ç–∫—Ä–∞–Ω–µ –∏–∑—É—á–µ–Ω–∏—è –ø–∞—Å—Å–∏–≤–Ω—ã—Ö —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π

## üìã –ü—Ä–æ–≤–µ—Ä–∫–∞:

1. **–ü–æ–±–µ–¥–∏—Ç–µ –ª–µ—Ç—É—á—É—é –º—ã—à—å** –ª—é–±–æ–≥–æ —É—Ä–æ–≤–Ω—è
2. **–û—Ç–∫—Ä–æ–π—Ç–µ —ç–∫—Ä–∞–Ω –∏–∑—É—á–µ–Ω–∏—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π** (–∫–Ω–æ–ø–∫–∞ "–ò–ó–£–ß–ï–ù–ò–ï –°–ü–û–°–û–ë–ù–û–°–¢–ï–ô" –Ω–∞ —ç–∫—Ä–∞–Ω–µ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏)
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–æ–≥—Ä–µ—Å—Å** - –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –ª–µ—Ç—É—á–µ–π –º—ã—à–∏ —Å –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º

## ‚úÖ –°—Ç–∞—Ç—É—Å: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

–¢–µ–ø–µ—Ä—å —Å–∏—Å—Ç–µ–º–∞ –∏–∑—É—á–µ–Ω–∏—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π –ª–µ—Ç—É—á–µ–π –º—ã—à–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ!
