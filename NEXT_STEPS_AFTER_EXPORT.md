# üìã –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –∏–≥—Ä—ã

## ‚úÖ –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ø–µ—à–Ω–æ–≥–æ —ç–∫—Å–ø–æ—Ä—Ç–∞

### 1.1 –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å (Output –ø–∞–Ω–µ–ª—å)

1. –í–Ω–∏–∑—É —ç–∫—Ä–∞–Ω–∞ Godot –Ω–∞–π–¥–∏—Ç–µ –ø–∞–Ω–µ–ª—å **Output** (–∏–ª–∏ **–í—ã–≤–æ–¥**)
2. –ù–∞–π–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± —ç–∫—Å–ø–æ—Ä—Ç–µ. –î–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å—Ç—Ä–æ–∫–∏ –≤–∏–¥–∞:
   ```
   ==================================================
   –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —ç–∫—Å–ø–æ—Ä—Ç –∞–Ω–∏–º–∞—Ü–∏–π —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π...
   ==================================================
   ‚úÖ –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–∞ –∞–Ω–∏–º–∞—Ü–∏—è: double_strike_anim
   ‚úÖ –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–∞ –∞–Ω–∏–º–∞—Ü–∏—è: rat_bite_anim
   ...
   ‚úÖ –£—Å–ø–µ—à–Ω–æ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–æ X –∞–Ω–∏–º–∞—Ü–∏–π
   ```

### 1.2 –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª –≤ FileSystem

1. –í –ª–µ–≤–æ–π –ø–∞–Ω–µ–ª–∏ Godot (FileSystem) –Ω–∞–π–¥–∏—Ç–µ –ø–∞–ø–∫—É `Data`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ñ–∞–π–ª `AbilityEffectAnimations.tres` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
3. –ï—Å–ª–∏ —Ñ–∞–π–ª –µ—Å—Ç—å - —ç–∫—Å–ø–æ—Ä—Ç –ø—Ä–æ—à–µ–ª —É—Å–ø–µ—à–Ω–æ! ‚úÖ

**–ï—Å–ª–∏ —Ñ–∞–π–ª –Ω–µ —Å–æ–∑–¥–∞–Ω –∏–ª–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏ –µ—Å—Ç—å –æ—à–∏–±–∫–∏:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—ã –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –≤—Ö–æ–¥–∏–ª–∏ –≤ –±–æ–π (—ç–∫—Å–ø–æ—Ä—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –±–æ–µ)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö –≤ –∫–æ–Ω—Å–æ–ª–∏
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∏–≥—Ä—É –µ—â–µ —Ä–∞–∑ –∏ –≤–æ–π—Ç–∏ –≤ –±–æ–π

---

## üéÆ –®–∞–≥ 2: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –≤ –±–æ—é

### 2.1 –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å "–î–≤–æ–π–Ω–æ–π —É–¥–∞—Ä"

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∏–≥—Ä—É (F5)
2. –í–æ–π–¥–∏—Ç–µ –≤ –±–æ–π —Å –≤—Ä–∞–≥–æ–º, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç "–î–≤–æ–π–Ω–æ–π —É–¥–∞—Ä" (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ì–æ–±–ª–∏–Ω –í–æ–∏–Ω)
3. –î–æ–∂–¥–∏—Ç–µ—Å—å, –∫–æ–≥–¥–∞ –≤—Ä–∞–≥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å
4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
   - ‚úÖ –≠—Ñ—Ñ–µ–∫—Ç –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –∏–≥—Ä–æ–∫–µ (–≤–∏–∑—É–∞–ª—å–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç —É–¥–∞—Ä–∞ –º–µ—á–æ–º)
   - ‚úÖ –≠—Ñ—Ñ–µ–∫—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω —Å —É—Ä–æ–Ω–æ–º
   - ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏

### 2.2 –ß—Ç–æ –¥–æ–ª–∂–Ω–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å

- –í—Ä–∞–≥ –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–µ—Ç –∞–Ω–∏–º–∞—Ü–∏—é –∞—Ç–∞–∫–∏
- –ù–∞ –∏–≥—Ä–æ–∫–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è —ç—Ñ—Ñ–µ–∫—Ç "double_strike_anim" (–≤–∏–∑—É–∞–ª—å–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç —É–¥–∞—Ä–∞ –º–µ—á–æ–º)
- –≠—Ñ—Ñ–µ–∫—Ç –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–µ—Ç—Å—è –ø–æ–≤–µ—Ä—Ö –∞–Ω–∏–º–∞—Ü–∏–∏ `hurt` –∏–≥—Ä–æ–∫–∞
- –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —ç—Ñ—Ñ–µ–∫—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å—á–µ–∑–∞–µ—Ç

---

## üîç –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∞–ø–ø–∏–Ω–≥–∞ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π

### 3.1 –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª –º–∞–ø–ø–∏–Ω–≥–∞

1. –í FileSystem –Ω–∞–π–¥–∏—Ç–µ `Data/AbilityAnimations.tres`
2. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª (–¥–≤–æ–π–Ω–æ–π –∫–ª–∏–∫ –∏–ª–∏ –ø—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π ‚Üí Open)

### 3.2 –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–ø–∏—Å–∏

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –µ—Å—Ç—å –∑–∞–ø–∏—Å–∏ –¥–ª—è –≤—Å–µ—Ö —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π:

```gdscript
ability_animations = {
    "rat_bite": "rat_bite_anim",
    "double_strike": "double_strike_anim",
    "poison_strike": "poison_strike_anim",
    "crossbow_shot": "crossbow_shot_anim",
    "slashing_strike": "slashing_strike_anim",
    "tombstone": "tombstone_anim",
    "rending_claws": "rending_claws_anim",
    "bat_swoop": "bat_swoop_anim",
    "acid_blast": "acid_blast_anim",
    "crushing_hammer": "crushing_hammer_anim",
    "spiritual_strike": "spiritual_strike_anim",
    "kinetic_strike": "kinetic_strike_anim"
}
```

**–ï—Å–ª–∏ –∫–∞–∫–æ–π-—Ç–æ –∑–∞–ø–∏—Å–∏ –Ω–µ—Ç:**
- –î–æ–±–∞–≤—å—Ç–µ –µ—ë –≤—Ä—É—á–Ω—É—é –≤ —Ñ–∞–π–ª `AbilityAnimations.tres`
- –§–æ—Ä–º–∞—Ç: `"ability_id": "animation_name"`

---

## üöÄ –®–∞–≥ 4: –ß—Ç–æ –¥–∞–ª—å—à–µ?

### –í–∞—Ä–∏–∞–Ω—Ç A: –ü—Ä–æ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –Ω–∞—á–∞–ª–∞)

–°–∏—Å—Ç–µ–º–∞ —É–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç! –í—ã –º–æ–∂–µ—Ç–µ:
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å "–î–≤–æ–π–Ω–æ–π —É–¥–∞—Ä" - –æ–Ω–∞ —É–∂–µ –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –≤—Å–µ—Ö —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π —á–µ—Ä–µ–∑ —Å—Ç–∞—Ä—É—é —Å–∏—Å—Ç–µ–º—É (EffectVisual)
- ‚úÖ –ù–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –¥–ª—è –±—É–¥—É—â–∏—Ö —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π

### –í–∞—Ä–∏–∞–Ω—Ç B: –ú–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ –Ω–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É, –º–æ–∂–Ω–æ –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏:

1. **rat_bite** - –ö—Ä—ã—Å–∏–Ω—ã–π —É–∫—É—Å
2. **poison_strike** - –Ø–¥–æ–≤–∏—Ç—ã–π —É–¥–∞—Ä
3. **crossbow_shot** - –í—ã—Å—Ç—Ä–µ–ª –∏–∑ –∞—Ä–±–∞–ª–µ—Ç–∞
4. –ò –¥—Ä—É–≥–∏–µ...

**–ö–∞–∫ –º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å:**
- –û—Ç–∫—Ä–æ–π—Ç–µ `Scripts/Battle/battle_manager.gd`
- –ù–∞–π–¥–∏—Ç–µ –æ–±—Ä–∞–±–æ—Ç–∫—É —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `result.get("rat_bite", false)`)
- –ó–∞–º–µ–Ω–∏—Ç–µ –∫–æ–¥ —Å `EffectVisual` –Ω–∞:
  ```gdscript
  if ability_effect_manager:
      ability_effect_manager.play_ability_effect_on_target(player_node, "rat_bite")
  ```

**–ü–æ–¥—Ä–æ–±–Ω–µ–µ:** –°–º. `ABILITY_EFFECT_SYSTEM_SETUP.md` ‚Üí –®–∞–≥ 4

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏

–û—Ç–º–µ—Ç—å—Ç–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –ø—É–Ω–∫—Ç—ã:

- [ ] –§–∞–π–ª `Data/AbilityEffectAnimations.tres` —Å–æ–∑–¥–∞–Ω
- [ ] –í –∫–æ–Ω—Å–æ–ª–∏ –µ—Å—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± —É—Å–ø–µ—à–Ω–æ–º —ç–∫—Å–ø–æ—Ä—Ç–µ
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å "–î–≤–æ–π–Ω–æ–π —É–¥–∞—Ä" –≤ –±–æ—é
- [ ] –≠—Ñ—Ñ–µ–∫—Ç –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏
- [ ] –§–∞–π–ª `Data/AbilityAnimations.tres` —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –Ω—É–∂–Ω—ã–µ –∑–∞–ø–∏—Å–∏

---

## üéØ –ò—Ç–æ–≥

**–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** 

–í—ã –º–æ–∂–µ—Ç–µ:
1. ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É –∫–∞–∫ –µ—Å—Ç—å - –æ–Ω–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
2. ‚úÖ –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –Ω–∞ –Ω–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
3. ‚úÖ –î–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏ –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –¥–æ–±–∞–≤–ª—è—Ç—å –∞–Ω–∏–º–∞—Ü–∏–∏ –≤ –∫–∞–∂–¥—ã–π SpriteFrames

**–ì–ª–∞–≤–Ω–æ–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ:** –¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –≤—Ä–∞–≥–æ–≤ –Ω–∞ –∏–≥—Ä–æ–∫–µ –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –¥–æ–±–∞–≤–ª—è—Ç—å –∞–Ω–∏–º–∞—Ü–∏–∏ –≤ —Å–ø—Ä–∞–π—Ç—ã –∫–∞–∂–¥–æ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞!

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- `UNIVERSAL_ABILITY_EFFECT_SYSTEM.md` - –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Å–∏—Å—Ç–µ–º–µ
- `ABILITY_EFFECT_SYSTEM_SETUP.md` - –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ
- `ABILITY_ANIMATION_SYSTEM_ANALYSIS.md` - –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ —Å–∏—Å—Ç–µ–º—ã
