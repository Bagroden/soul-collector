# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è UI –¥–ª—è –†–∞–∑–≤–∏—Ç–∏—è –¥—É—à–∏

## üêõ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏

### 1. **–†–µ–¥–∫–æ—Å—Ç–∏ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π**

**–ë—ã–ª–æ:**
- –£—Ä–æ–≤–µ–Ω—å 1: Uncommon ‚ùå
- –£—Ä–æ–≤–µ–Ω—å 2: Rare ‚ùå  
- –£—Ä–æ–≤–µ–Ω—å 3: Rare ‚ùå (–¥—É–±–ª–∏–∫–∞—Ç)
- –£—Ä–æ–≤–µ–Ω—å 4: Epic ‚úÖ
- –£—Ä–æ–≤–µ–Ω—å 5: Legendary ‚úÖ
- –£—Ä–æ–≤–µ–Ω—å 6: Mythic ‚úÖ

**–°—Ç–∞–ª–æ:**
- –£—Ä–æ–≤–µ–Ω—å 1: **Common** ‚úÖ
- –£—Ä–æ–≤–µ–Ω—å 2: **Uncommon** ‚úÖ
- –£—Ä–æ–≤–µ–Ω—å 3: **Rare** ‚úÖ
- –£—Ä–æ–≤–µ–Ω—å 4: **Epic** ‚úÖ
- –£—Ä–æ–≤–µ–Ω—å 5: **Legendary** ‚úÖ
- –£—Ä–æ–≤–µ–Ω—å 6: **Mythic** ‚úÖ

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ —Ñ–∞–π–ª–∞—Ö:**
- `RestorationEfficiency1.gd` - Common
- `RestorationEfficiency2.gd` - Uncommon
- `RestorationCharges1.gd` - Common
- `RestorationCharges2.gd` - Uncommon
- `RestorationBarrier1.gd` - Common
- `RestorationBarrier2.gd` - Uncommon

---

### 2. **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞**

**–ë—ã–ª–æ:**
```
–ü—Ä–æ–≥—Ä–µ—Å—Å: 0 / 0 –æ—á–∫–æ–≤ ‚ùå
```

**–°—Ç–∞–ª–æ:**
```
–°—Ç–æ–∏–º–æ—Å—Ç—å: 50 –û–î ‚úÖ
–°—Ç–æ–∏–º–æ—Å—Ç—å: 150 –û–î + 1 –¥—É—à–∞ ‚úÖ
```

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –î–ª—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π —Ä–∞–∑–≤–∏—Ç–∏—è –¥—É—à–∏ (—Å —Ç–µ–≥–æ–º "soul") –±–æ–ª—å—à–µ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–æ–≥—Ä–µ—Å—Å
- –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–µ–¥–∫–æ—Å—Ç–∏

---

### 3. **–ö–Ω–æ–ø–∫–∞ –∏–∑—É—á–µ–Ω–∏—è**

**–ë—ã–ª–æ:**
```
–ù–µ–¥–æ—Å—Ç—É–ø–Ω–æ (0/100) ‚ùå
```

**–°—Ç–∞–ª–æ:**
```
–ò–∑—É—á–∏—Ç—å (50 –û–î) ‚úÖ
–ò–∑—É—á–∏—Ç—å (150 –û–î + 1 –¥—É—à–∞) ‚úÖ
```

---

### 4. **–ù–∞–∑–≤–∞–Ω–∏–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏**

**–ë—ã–ª–æ:**
```
–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –¥—É—à–∏: –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å I (—É—Ä. 1) (Uncommon) ‚ùå
```

**–°—Ç–∞–ª–æ:**
```
–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –¥—É—à–∏: –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å I (Common) ‚úÖ
```

–£ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π —Ä–∞–∑–≤–∏—Ç–∏—è –¥—É—à–∏ —É–±—Ä–∞–Ω "(—É—Ä. 1)", —Ç–∞–∫ –∫–∞–∫ –æ–Ω–∏ –Ω–µ –∏–º–µ—é—Ç —É—Ä–æ–≤–Ω–µ–π.

---

## üí∞ –¢–∞–±–ª–∏—Ü–∞ —Å—Ç–æ–∏–º–æ—Å—Ç–∏

| –†–µ–¥–∫–æ—Å—Ç—å | –°—Ç–æ–∏–º–æ—Å—Ç—å |
|----------|-----------|
| Common | 50 –û–î |
| Uncommon | 100 –û–î |
| Rare | 150 –û–î + 1 –¥—É—à–∞ |
| Epic | 200 –û–î + 2 –¥—É—à–∏ |
| Legendary | 300 –û–î + 4 –¥—É—à–∏ |
| Mythic | 500 –û–î + 8 –¥—É—à |

*–û–î = –û—Å–∫–æ–ª–∫–∏ –¥—É—à*

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### `AbilityLearningScreen.gd`

#### –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è:
```gdscript
func _get_soul_ability_cost(rarity: String) -> String:
	"""–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—Å—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Ä–∞–∑–≤–∏—Ç–∏—è –¥—É—à–∏"""
	match rarity:
		"common": return "50 –û–î"
		"uncommon": return "100 –û–î"
		"rare": return "150 –û–î + 1 –¥—É—à–∞"
		"epic": return "200 –û–î + 2 –¥—É—à–∏"
		"legendary": return "300 –û–î + 4 –¥—É—à–∏"
		"mythic": return "500 –û–î + 8 –¥—É—à"
```

#### –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–æ –≤ `_create_ability_card()`:

**1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–∞ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏:**
```gdscript
var is_soul_ability = "soul" in ability.tags
```

**2. –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è –±–µ–∑ —É—Ä–æ–≤–Ω—è:**
```gdscript
var level_text = ""
if not is_soul_ability:
	level_text = " (—É—Ä. " + str(current_level + 1) + ")"
```

**3. –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –≤–º–µ—Å—Ç–æ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞:**
```gdscript
if is_soul_ability:
	var cost_text = _get_soul_ability_cost(ability.rarity)
	progress_info_label.text = "–°—Ç–æ–∏–º–æ—Å—Ç—å: " + cost_text
else:
	progress_info_label.text = "–ü—Ä–æ–≥—Ä–µ—Å—Å: " + str(current_progress) + " / " + str(required_progress)
```

**4. –ö–Ω–æ–ø–∫–∞ "–ò–∑—É—á–∏—Ç—å":**
```gdscript
if is_soul_ability:
	var cost_text = _get_soul_ability_cost(ability.rarity)
	learn_button.text = "–ò–∑—É—á–∏—Ç—å (" + cost_text + ")"
```

---

## ‚ö†Ô∏è TODO: –°–∏—Å—Ç–µ–º–∞ –ø–æ–∫—É–ø–∫–∏

–°–µ–π—á–∞—Å –∫–Ω–æ–ø–∫–∞ "–ò–∑—É—á–∏—Ç—å" –∞–∫—Ç–∏–≤–Ω–∞ –≤—Å–µ–≥–¥–∞. –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–æ–±–∞–≤–∏—Ç—å:

1. **–ü—Ä–æ–≤–µ—Ä–∫—É –Ω–∞–ª–∏—á–∏—è –≤–∞–ª—é—Ç—ã:**
```gdscript
var has_enough_currency = _check_player_currency(ability.rarity)
learn_button.disabled = not has_enough_currency
```

2. **–°–ø–∏—Å–∞–Ω–∏–µ –≤–∞–ª—é—Ç—ã –ø—Ä–∏ –ø–æ–∫—É–ø–∫–µ:**
```gdscript
func _on_learn_soul_ability(ability_id: String, rarity: String):
	# –ü–æ–ª—É—á–∞–µ–º —Å—Ç–æ–∏–º–æ—Å—Ç—å
	var cost = _get_soul_ability_currency_cost(rarity)
	
	# –ü—Ä–æ–≤–µ—Ä—è–µ–º –∏ —Å–ø–∏—Å—ã–≤–∞–µ–º –≤–∞–ª—é—Ç—É
	if player_data.spend_currency(cost):
		# –ò–∑—É—á–∞–µ–º —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å
		player_data.learn_passive_ability(ability_id)
		update_abilities_list()
```

3. **–î–æ–±–∞–≤–∏—Ç—å —Ç–∏–ø—ã –≤–∞–ª—é—Ç—ã:**
- –û—Å–∫–æ–ª–∫–∏ –¥—É—à (Soul Shards) - —É–∂–µ –µ—Å—Ç—å
- –î—É—à–∏ (Souls) - –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å
- –°–∏–ª—å–Ω—ã–µ –¥—É—à–∏ (Powerful Souls) - –¥–ª—è –±—É–¥—É—â–∏—Ö —É–ª—É—á—à–µ–Ω–∏–π
- –í–µ–ª–∏–∫–∏–µ –¥—É—à–∏ (Great Souls) - –¥–ª—è –±—É–¥—É—â–∏—Ö —É–ª—É—á—à–µ–Ω–∏–π
- –ë–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –¥—É—à–∏ (Divine Souls) - –¥–ª—è –±—É–¥—É—â–∏—Ö —É–ª—É—á—à–µ–Ω–∏–π

---

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç

- ‚úÖ –†–µ–¥–∫–æ—Å—Ç–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã (Common ‚Üí Mythic)
- ‚úÖ –ü—Ä–æ–≥—Ä–µ—Å—Å –∑–∞–º–µ–Ω–µ–Ω –Ω–∞ —Å—Ç–æ–∏–º–æ—Å—Ç—å
- ‚úÖ –ö–Ω–æ–ø–∫–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ç–µ–∫—Å—Ç
- ‚úÖ –£–±—Ä–∞–Ω–æ "(—É—Ä. 1)" –∏–∑ –Ω–∞–∑–≤–∞–Ω–∏–π
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ –ª–∏–Ω—Ç–µ—Ä–∞

- ‚ö†Ô∏è **–¢—Ä–µ–±—É–µ—Ç—Å—è**: –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏ —Å–ø–∏—Å–∞–Ω–∏—è –≤–∞–ª—é—Ç—ã
- ‚ö†Ô∏è **–¢—Ä–µ–±—É–µ—Ç—Å—è**: –î–æ–±–∞–≤–∏—Ç—å —Ç–∏–ø—ã –≤–∞–ª—é—Ç—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —É—Ä–æ–≤–Ω–µ–π

---

–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã! üéâ

