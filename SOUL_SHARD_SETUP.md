# Настройка системы осколков душ

## Автозагрузка SoulShards

Для работы системы осколков душ необходимо добавить `SoulShards` как автозагрузку:

1. Откройте **Project → Project Settings**
2. Перейдите на вкладку **AutoLoad**
3. Нажмите **Add**
4. В поле **Path** введите: `res://Scripts/Currency/SoulShardManager.gd`
5. В поле **Node Name** введите: `SoulShards`
6. Нажмите **Add**

## Формула расчета осколков душ

**Осколки душ = Уровень врага × 10 × Множитель редкости**

### Множители редкости:
- **Обычная (Common)**: ×1
- **Необычная (Uncommon)**: ×2  
- **Редкая (Rare)**: ×3
- **Эпическая (Epic)**: ×4
- **Легендарная (Legendary)**: ×5
- **Мифическая (Mythical)**: ×6

### Примеры:
- Враг 5 уровня, обычная редкость: 5 × 10 × 1 = **50 осколков душ**
- Враг 10 уровня, легендарная редкость: 10 × 10 × 5 = **500 осколков душ**
- Враг 3 уровня, эпическая редкость: 3 × 10 × 4 = **120 осколков душ**

## Функции системы

### SoulShardManager:
- `add_soul_shards(amount)` - добавляет осколки душ
- `spend_soul_shards(amount)` - тратит осколки душ (возвращает true/false)
- `get_soul_shards()` - возвращает текущее количество
- `calculate_soul_shards_for_enemy(level, rarity)` - рассчитывает награду за врага
- `save_soul_shards()` - сохраняет в файл
- `load_soul_shards()` - загружает из файла

### Сигналы:
- `soul_shards_changed(new_amount)` - при изменении количества
- `soul_shards_earned(amount)` - при получении осколков душ

## Отображение в UI

Осколки душ отображаются в левом верхнем углу экрана в фиолетовом цвете:
**"Осколки душ: [количество]"**

## Автосохранение

Система автоматически сохраняет осколки душ в файл `user://soul_shards.save` и загружает их при запуске игры.
