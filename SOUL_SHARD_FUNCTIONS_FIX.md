# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π SoulShardManager

## üêõ –ü—Ä–æ–±–ª–µ–º–∞:
–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–∫—É–ø–∫–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π –∑–∞ –æ—Å–∫–æ–ª–∫–∏ –¥—É—à:
```
E 0:07:41:828   _on_learn_ability: Invalid call. Nonexistent function 'get_storage_soul_shards' in base 'Node (SoulShardManager.gd)'.
```

## üîç –ü—Ä–∏—á–∏–Ω–∞:
–í –∫–æ–¥–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ SoulShardManager:
- `get_storage_soul_shards()` - –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- `remove_storage_soul_shards()` - –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç

## ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:

### **1. –ó–∞–º–µ–Ω–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ—Å–∫–æ–ª–∫–æ–≤:**
```gdscript
# –ë—ã–ª–æ (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ):
var current_soul_shards = soul_shard_manager.get_storage_soul_shards()

# –°—Ç–∞–ª–æ (–ø—Ä–∞–≤–∏–ª—å–Ω–æ):
var current_soul_shards = soul_shard_manager.get_soul_shards()
```

### **2. –ó–∞–º–µ–Ω–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è —Å–ø–∏—Å–∞–Ω–∏—è –æ—Å–∫–æ–ª–∫–æ–≤:**
```gdscript
# –ë—ã–ª–æ (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ):
soul_shard_manager.remove_storage_soul_shards(cost)

# –°—Ç–∞–ª–æ (–ø—Ä–∞–≤–∏–ª—å–Ω–æ):
var success = soul_shard_manager.spend_soul_shards(cost)
if success:
    print("–°–ø–∏—Å–∞–Ω–æ –æ—Å–∫–æ–ª–∫–æ–≤ –¥—É—à: ", cost)
else:
    print("–û—à–∏–±–∫–∞: –Ω–µ —É–¥–∞–ª–æ—Å—å —Å–ø–∏—Å–∞—Ç—å –æ—Å–∫–æ–ª–∫–∏ –¥—É—à")
    return
```

## üìã –î–æ—Å—Ç—É–ø–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ SoulShardManager:

### **–ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö:**
- `get_soul_shards()` - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—É—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Å–∫–æ–ª–∫–æ–≤ –¥—É—à
- `get_total_earned()` - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –æ—Å–∫–æ–ª–∫–æ–≤
- `get_run_soul_shards()` - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—Å–∫–æ–ª–∫–∏ –∑–∞ —Ç–µ–∫—É—â–∏–π –∑–∞–±–µ–≥

### **–¢—Ä–∞—Ç–∞ –æ—Å–∫–æ–ª–∫–æ–≤:**
- `spend_soul_shards(amount)` - —Ç—Ä–∞—Ç–∏—Ç –æ—Å–∫–æ–ª–∫–∏ –¥—É—à, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç true –µ—Å–ª–∏ —É—Å–ø–µ—à–Ω–æ

### **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ—Å–∫–æ–ª–∫–æ–≤:**
- `add_soul_shards(amount)` - –¥–æ–±–∞–≤–ª—è–µ—Ç –æ—Å–∫–æ–ª–∫–∏ –∑–∞ –∑–∞–±–µ–≥ (–ù–ï –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ)
- `deposit_run_soul_shards()` - –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç –æ—Å–∫–æ–ª–∫–∏ –∑–∞–±–µ–≥–∞ –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç:

### **–¢–µ–ø–µ—Ä—å —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ:**
1. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Å–∫–æ–ª–∫–æ–≤** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `get_soul_shards()`
2. **–°–ø–∏—Å–∞–Ω–∏–µ –æ—Å–∫–æ–ª–∫–æ–≤** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `spend_soul_shards()`
3. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —É—Å–ø–µ—à–Ω–æ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–∏
4. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –Ω–µ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –ø–æ–∫—É–ø–∫—É –ø—Ä–∏ –æ—à–∏–±–∫–µ —Å–ø–∏—Å–∞–Ω–∏—è

### **–£–ª—É—á—à–µ–Ω–∏—è:**
- **–ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏** —Å–ø–∏—Å–∞–Ω–∏—è –æ—Å–∫–æ–ª–∫–æ–≤
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** –ø—Ä–∏ –Ω–µ—É–¥–∞—á–Ω–æ–º —Å–ø–∏—Å–∞–Ω–∏–∏
- **–ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ** API SoulShardManager

## ‚úÖ –°—Ç–∞—Ç—É—Å: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

–¢–µ–ø–µ—Ä—å –ø–æ–∫—É–ø–∫–∞ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π –∑–∞ –æ—Å–∫–æ–ª–∫–∏ –¥—É—à —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –æ—à–∏–±–æ–∫!
