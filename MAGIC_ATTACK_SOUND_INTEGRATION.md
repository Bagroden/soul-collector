# –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∑–≤—É–∫–∞ –±–∞–∑–æ–≤—ã—Ö –º–∞–≥–∏—á–µ—Å–∫–∏—Ö –∞—Ç–∞–∫

## –î–∞—Ç–∞
28 –æ–∫—Ç—è–±—Ä—è 2025

## –î–æ–±–∞–≤–ª–µ–Ω–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

–î–æ–±–∞–≤–ª–µ–Ω –∑–≤—É–∫ –¥–ª—è –±–∞–∑–æ–≤—ã—Ö –º–∞–≥–∏—á–µ—Å–∫–∏—Ö –∞—Ç–∞–∫ –∏–≥—Ä–æ–∫–∞:
- **–°–ø–∏—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π —É–¥–∞—Ä** (Spiritual Strike)
- **–ú–∞–≥–∏—á–µ—Å–∫–∏–µ —Å—Ç—Ä–µ–ª—ã** (Magic Arrows)

## –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –∑–≤—É–∫–æ–≤–æ–π —Ñ–∞–π–ª

**–ü—É—Ç—å:** `Audio/Sounds/magic_attack1.wav`

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- –§–æ—Ä–º–∞—Ç: WAV
- –ü—Ä–æ–∏–≥—Ä—ã–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `AudioStreamPlayer`
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π (–Ω–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π) –∑–≤—É–∫

## –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

### 1. –°–æ–∑–¥–∞–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–Ω–∏—è –∑–≤—É–∫–∞

**–§–∞–π–ª:** `Scripts/Battle/battle_manager.gd`
**–§—É–Ω–∫—Ü–∏—è:** `_play_magic_attack_sound()`

```gdscript
func _play_magic_attack_sound():
	"""–ü—Ä–æ–∏–≥—Ä—ã–≤–∞–µ—Ç –∑–≤—É–∫ –±–∞–∑–æ–≤–æ–π –º–∞–≥–∏—á–µ—Å–∫–æ–π –∞—Ç–∞–∫–∏"""
	var audio_player = AudioStreamPlayer.new()
	audio_player.stream = load("res://Audio/Sounds/magic_attack1.wav")
	audio_player.volume_db = 0.0
	audio_player.bus = "Master"
	add_child(audio_player)
	audio_player.play()
	
	# –£–¥–∞–ª—è–µ–º –ø–æ—Å–ª–µ –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–Ω–∏—è
	await audio_player.finished
	audio_player.queue_free()
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –°–æ–∑–¥–∞–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è–µ—Ç—Å—è –ø–æ—Å–ª–µ –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–Ω–∏—è
- –ù–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ (–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ)
- –ì—Ä–æ–º–∫–æ—Å—Ç—å: 0 dB (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è)

### 2. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å–æ –°–ø–∏—Ä–∏—Ç–∏—á–µ—Å–∫–∏–º —É–¥–∞—Ä–æ–º

**–ú–µ—Å—Ç–æ:** –ü–æ—Å–ª–µ –∞–Ω–∏–º–∞—Ü–∏–∏ –∫–∞—Å—Ç–∞, –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º —Å–Ω–∞—Ä—è–¥–∞

```gdscript
# –°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–ª—è "–°–ø–∏—Ä–∏—Ç–∏—á–µ—Å–∫–æ–≥–æ —É–¥–∞—Ä–∞"
if ability_id == "spiritual_strike":
    # –ó–∞–ø—É—Å–∫–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é –∞—Ç–∞–∫–∏ –∏–≥—Ä–æ–∫–∞
    var visual_node_player = player_node.get_node_or_null("Visual")
    if visual_node_player and visual_node_player.has_method("play_attack"):
        visual_node_player.play_attack()
    
    # –ñ–¥—ë–º –º–æ–º–µ–Ω—Ç–∞ –∫–∞—Å—Ç–∞ (—Å–µ—Ä–µ–¥–∏–Ω–∞ –∞–Ω–∏–º–∞—Ü–∏–∏)
    await get_tree().create_timer(0.3).timeout
    
    # üîä –ü—Ä–æ–∏–≥—Ä—ã–≤–∞–µ–º –∑–≤—É–∫ –º–∞–≥–∏—á–µ—Å–∫–æ–π –∞—Ç–∞–∫–∏
    _play_magic_attack_sound()
    
    # –°–æ–∑–¥–∞—ë–º –≤–∏–∑—É–∞–ª—å–Ω—ã–π —Å–Ω–∞—Ä—è–¥
    _spawn_spiritual_strike_projectile(player_node, enemy_node)
```

**–¢–∞–π–º–∏–Ω–≥:**
1. –ê–Ω–∏–º–∞—Ü–∏—è –∫–∞—Å—Ç–∞ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ (0.3 —Å–µ–∫)
2. **–ó–≤—É–∫ –º–∞–≥–∏—á–µ—Å–∫–æ–π –∞—Ç–∞–∫–∏** ‚Üê –¥–æ–±–∞–≤–ª–µ–Ω–æ –∑–¥–µ—Å—å
3. –°–æ–∑–¥–∞–Ω–∏–µ –∏ –ø–æ–ª–µ—Ç —Å–Ω–∞—Ä—è–¥–∞ (0.4 —Å–µ–∫)
4. –ù–∞–Ω–µ—Å–µ–Ω–∏–µ —É—Ä–æ–Ω–∞

### 3. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ú–∞–≥–∏—á–µ—Å–∫–∏–º–∏ —Å—Ç—Ä–µ–ª–∞–º–∏

**–ú–µ—Å—Ç–æ:** –ü–æ—Å–ª–µ –∞–Ω–∏–º–∞—Ü–∏–∏ –≤–∑–º–∞—Ö–∞, –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º —Å—Ç—Ä–µ–ª

```gdscript
# –°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–ª—è "–ú–∞–≥–∏—á–µ—Å–∫–∏—Ö —Å—Ç—Ä–µ–ª" –∏–≥—Ä–æ–∫–∞
elif result.get("magic_arrows", false):
    # ... –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ ...
    
    # –ó–∞–ø—É—Å–∫–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é –∞—Ç–∞–∫–∏ –∏–≥—Ä–æ–∫–∞
    var visual_node_player = player_node.get_node_or_null("Visual")
    if visual_node_player and visual_node_player.has_method("play_attack"):
        visual_node_player.play_attack()
    
    # –ñ–¥—ë–º –º–æ–º–µ–Ω—Ç–∞ –≤–∑–º–∞—Ö–∞ (—Å–µ—Ä–µ–¥–∏–Ω–∞ –∞–Ω–∏–º–∞—Ü–∏–∏ –∞—Ç–∞–∫–∏)
    await get_tree().create_timer(0.4).timeout
    
    # üîä –ü—Ä–æ–∏–≥—Ä—ã–≤–∞–µ–º –∑–≤—É–∫ –º–∞–≥–∏—á–µ—Å–∫–æ–π –∞—Ç–∞–∫–∏
    _play_magic_attack_sound()
    
    # –°–æ–∑–¥–∞—ë–º –≤–∏–∑—É–∞–ª—å–Ω—ã–µ —Å–Ω–∞—Ä—è–¥—ã –¥–ª—è –∫–∞–∂–¥–æ–π —Å—Ç—Ä–µ–ª—ã
    _spawn_magic_arrow_projectiles(player_node, enemy_node, arrows_count)
```

**–¢–∞–π–º–∏–Ω–≥:**
1. –ê–Ω–∏–º–∞—Ü–∏—è –≤–∑–º–∞—Ö–∞ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ (0.4 —Å–µ–∫)
2. **–ó–≤—É–∫ –º–∞–≥–∏—á–µ—Å–∫–æ–π –∞—Ç–∞–∫–∏** ‚Üê –¥–æ–±–∞–≤–ª–µ–Ω–æ –∑–¥–µ—Å—å
3. –°–æ–∑–¥–∞–Ω–∏–µ –∏ –ø–æ–ª–µ—Ç —Å—Ç—Ä–µ–ª (–Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—Ç—Ä–µ–ª —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π)
4. –ù–∞–Ω–µ—Å–µ–Ω–∏–µ —É—Ä–æ–Ω–∞

## –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å –≤–∏–∑—É–∞–ª—å–Ω—ã–º–∏ —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏

### –°–ø–∏—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π —É–¥–∞—Ä:
```
0.0s  ‚îÇ –ù–∞—á–∞–ª–æ –∞–Ω–∏–º–∞—Ü–∏–∏ –∫–∞—Å—Ç–∞
0.3s  ‚îÇ üîä –ó–≤—É–∫ –º–∞–≥–∏—á–µ—Å–∫–æ–π –∞—Ç–∞–∫–∏
      ‚îÇ –°–æ–∑–¥–∞–Ω–∏–µ —Å–Ω–∞—Ä—è–¥–∞
0.7s  ‚îÇ –ü–æ–ø–∞–¥–∞–Ω–∏–µ —Å–Ω–∞—Ä—è–¥–∞
      ‚îÇ –ù–∞–Ω–µ—Å–µ–Ω–∏–µ —É—Ä–æ–Ω–∞
```

### –ú–∞–≥–∏—á–µ—Å–∫–∏–µ —Å—Ç—Ä–µ–ª—ã:
```
0.0s  ‚îÇ –ù–∞—á–∞–ª–æ –∞–Ω–∏–º–∞—Ü–∏–∏ –≤–∑–º–∞—Ö–∞
0.4s  ‚îÇ üîä –ó–≤—É–∫ –º–∞–≥–∏—á–µ—Å–∫–æ–π –∞—Ç–∞–∫–∏
      ‚îÇ –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä–µ–ª
0.4s+ ‚îÇ –ü–æ–ª–µ—Ç —Å—Ç—Ä–µ–ª (0.6—Å –º–µ–∂–¥—É —Å—Ç—Ä–µ–ª–∞–º–∏)
      ‚îÇ –ù–∞–Ω–µ—Å–µ–Ω–∏–µ —É—Ä–æ–Ω–∞
```

## –ü–æ—á–µ–º—É AudioStreamPlayer, –∞ –Ω–µ AudioStreamPlayer2D?

### AudioStreamPlayer (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω):
- ‚úÖ –ì–ª–æ–±–∞–ª—å–Ω—ã–π –∑–≤—É–∫ (—Å–ª—ã—à–µ–Ω –≤—Å–µ–≥–¥–∞)
- ‚úÖ –û–¥–∏–Ω–∞–∫–æ–≤–∞—è –≥—Ä–æ–º–∫–æ—Å—Ç—å –≤–µ–∑–¥–µ
- ‚úÖ –ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –∑–≤—É–∫–æ–≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –∏ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π –∏–≥—Ä–æ–∫–∞
- ‚úÖ –ù–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –ø–æ–∑–∏—Ü–∏–∏ –∫–∞–º–µ—Ä—ã

### AudioStreamPlayer2D (–Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω):
- –ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∑–≤—É–∫
- –ó–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –¥–æ –∫–∞–º–µ—Ä—ã
- –õ—É—á—à–µ –¥–ª—è –∑–≤—É–∫–æ–≤ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- –ú–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ —Å–ª—ã—à–µ–Ω –µ—Å–ª–∏ –∫–∞–º–µ—Ä–∞ –¥–∞–ª–µ–∫–æ

**–†–µ—à–µ–Ω–∏–µ:** –î–ª—è –∞—Ç–∞–∫ –∏–≥—Ä–æ–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–µ–º `AudioStreamPlayer`, —á—Ç–æ–±—ã –∑–≤—É–∫ –≤—Å–µ–≥–¥–∞ –±—ã–ª —á–µ—Ç–∫–∏–º –∏ —Å–ª—ã—à–∏–º—ã–º.

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≥—Ä–æ–º–∫–æ—Å—Ç–∏

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –≥—Ä–æ–º–∫–æ—Å—Ç—å –∑–≤—É–∫–∞, –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é:

```gdscript
func _play_magic_attack_sound():
    var audio_player = AudioStreamPlayer.new()
    audio_player.stream = load("res://Audio/Sounds/magic_attack1.wav")
    audio_player.volume_db = -5.0  # –¢–∏—à–µ (–±—ã–ª–æ 0.0)
    # ... –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥ ...
```

**–ó–Ω–∞—á–µ–Ω–∏—è volume_db:**
- `-10.0` - –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —Ç–∏—à–µ
- `-5.0` - –Ω–µ–º–Ω–æ–≥–æ —Ç–∏—à–µ
- `0.0` - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –≥—Ä–æ–º–∫–æ—Å—Ç—å (—Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ)
- `5.0` - –≥—Ä–æ–º—á–µ
- `10.0` - –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –≥—Ä–æ–º—á–µ

## –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤–∞—Ä–∏–∞—Ü–∏–π –∑–≤—É–∫–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–î–ª—è —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏—è –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Å–ª—É—á–∞–π–Ω—ã–π –≤—ã–±–æ—Ä –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∑–≤—É–∫–æ–≤:

```gdscript
func _play_magic_attack_sound():
    """–ü—Ä–æ–∏–≥—Ä—ã–≤–∞–µ—Ç —Å–ª—É—á–∞–π–Ω—ã–π –∑–≤—É–∫ –±–∞–∑–æ–≤–æ–π –º–∞–≥–∏—á–µ—Å–∫–æ–π –∞—Ç–∞–∫–∏"""
    var audio_player = AudioStreamPlayer.new()
    
    # –ú–∞—Å—Å–∏–≤ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∑–≤—É–∫–æ–≤
    var magic_sounds = [
        "res://Audio/Sounds/magic_attack1.wav",
        "res://Audio/Sounds/magic1.wav",
        "res://Audio/Sounds/magic2.wav",
        "res://Audio/Sounds/magic3.wav"
    ]
    
    # –í—ã–±–∏—Ä–∞–µ–º —Å–ª—É—á–∞–π–Ω—ã–π –∑–≤—É–∫
    var sound_path = magic_sounds[randi() % magic_sounds.size()]
    audio_player.stream = load(sound_path)
    
    audio_player.volume_db = 0.0
    audio_player.bus = "Master"
    add_child(audio_player)
    audio_player.play()
    
    await audio_player.finished
    audio_player.queue_free()
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ö–∞–∂–¥–∞—è –º–∞–≥–∏—á–µ—Å–∫–∞—è –∞—Ç–∞–∫–∞ –±—É–¥–µ—Ç –∑–≤—É—á–∞—Ç—å –Ω–µ–º–Ω–æ–≥–æ –ø–æ-—Ä–∞–∑–Ω–æ–º—É!

## –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤–∞—Ä–∏–∞—Ü–∏–∏ –≤—ã—Å–æ—Ç—ã –∑–≤—É–∫–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–î–ª—è –µ—â–µ –±–æ–ª—å—à–µ–≥–æ —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏—è –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Å–ª—É—á–∞–π–Ω—É—é –≤–∞—Ä–∏–∞—Ü–∏—é –≤—ã—Å–æ—Ç—ã:

```gdscript
func _play_magic_attack_sound():
    """–ü—Ä–æ–∏–≥—Ä—ã–≤–∞–µ—Ç –∑–≤—É–∫ –º–∞–≥–∏—á–µ—Å–∫–æ–π –∞—Ç–∞–∫–∏ —Å –≤–∞—Ä–∏–∞—Ü–∏–µ–π –≤—ã—Å–æ—Ç—ã"""
    var audio_player = AudioStreamPlayer.new()
    audio_player.stream = load("res://Audio/Sounds/magic_attack1.wav")
    audio_player.volume_db = 0.0
    audio_player.pitch_scale = randf_range(0.9, 1.1)  # –°–ª—É—á–∞–π–Ω–∞—è –≤—ã—Å–æ—Ç–∞ ¬±10%
    audio_player.bus = "Master"
    add_child(audio_player)
    audio_player.play()
    
    await audio_player.finished
    audio_player.queue_free()
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ö–∞–∂–¥–∞—è –∞—Ç–∞–∫–∞ –±—É–¥–µ—Ç –∑–≤—É—á–∞—Ç—å —á—É—Ç—å –≤—ã—à–µ –∏–ª–∏ –Ω–∏–∂–µ!

## –û—Ç–ª–∏—á–∏—è –æ—Ç –∑–≤—É–∫–∞ –º–æ–ª–Ω–∏–∏

### –ú–æ–ª–Ω–∏—è (LightningEffect):
- –ó–≤—É–∫ –≤—Å—Ç—Ä–æ–µ–Ω –≤ –≤–∏–∑—É–∞–ª—å–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç
- `AudioStreamPlayer2D` (–ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π)
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ —ç–∫—Å–ø–æ—Ä—Ç-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- –ó–≤—É–∫ —á–∞—Å—Ç—å —ç—Ñ—Ñ–µ–∫—Ç–∞ (—Å–æ–∑–¥–∞–µ—Ç—Å—è –∏ —É–¥–∞–ª—è–µ—Ç—Å—è –≤–º–µ—Å—Ç–µ)

### –ú–∞–≥–∏—á–µ—Å–∫–∏–µ –∞—Ç–∞–∫–∏ (Magic Attacks):
- –ó–≤—É–∫ –≤ battle_manager.gd
- `AudioStreamPlayer` (–≥–ª–æ–±–∞–ª—å–Ω—ã–π)
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ –∫–æ–¥–µ —Ñ—É–Ω–∫—Ü–∏–∏
- –ó–≤—É–∫ –æ—Ç–¥–µ–ª—å–Ω–∞—è —Å—É—â–Ω–æ—Å—Ç—å (—Å–æ–∑–¥–∞–µ—Ç—Å—è –∏ —É–¥–∞–ª—è–µ—Ç—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ)

**–ü–æ—á–µ–º—É —Ä–∞–∑–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã?**
- –ú–æ–ª–Ω–∏—è - —ç—Ç–æ –≤—Ä–µ–º–µ–Ω–Ω—ã–π –≤–∏–∑—É–∞–ª—å–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç, –∑–≤—É–∫ –ª–æ–≥–∏—á–Ω–æ –≤–∫–ª—é—á–∏—Ç—å –≤ –Ω–µ–≥–æ
- –ú–∞–≥–∏—á–µ—Å–∫–∏–µ –∞—Ç–∞–∫–∏ - —ç—Ç–æ –∏–≥—Ä–æ–≤–∞—è –º–µ—Ö–∞–Ω–∏–∫–∞, –∑–≤—É–∫ –ª—É—á—à–µ —É–ø—Ä–∞–≤–ª—è—Ç—å –∏–∑ –º–µ–Ω–µ–¥–∂–µ—Ä–∞ –±–æ—è

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:
- –ó–≤—É–∫–æ–≤–æ–π —Ñ–∞–π–ª –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏
- AudioStreamPlayer —Å–æ–∑–¥–∞–µ—Ç—Å—è –∏ —É–¥–∞–ª—è–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏
- –ù–µ—Ç —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–Ω–∏—è)

### –í–æ–∑–º–æ–∂–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (–µ—Å–ª–∏ –Ω—É–∂–Ω–∞):

–ï—Å–ª–∏ –∏–≥—Ä–∞ —Ç–æ—Ä–º–æ–∑–∏—Ç, –º–æ–∂–Ω–æ –ø—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∏—Ç—å –∑–≤—É–∫:

```gdscript
# –í –Ω–∞—á–∞–ª–µ battle_manager.gd
var magic_attack_sound = preload("res://Audio/Sounds/magic_attack1.wav")

func _play_magic_attack_sound():
    var audio_player = AudioStreamPlayer.new()
    audio_player.stream = magic_attack_sound  # –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä–µ–¥–∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–π
    # ... –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥ ...
```

**–ù–æ**: –î–ª—è –æ–¥–Ω–æ–≥–æ –∑–≤—É–∫–∞ —ç—Ç–æ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ, `load()` –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±—ã—Å—Ç—Ä.

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –®–∞–≥ 1: –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∏–≥—Ä—É
1. –ù–∞—á–Ω–∏—Ç–µ –±–æ–π —Å –ª—é–±—ã–º –≤—Ä–∞–≥–æ–º
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **–°–ø–∏—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π —É–¥–∞—Ä**

**–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ü–µ—Ä—Å–æ–Ω–∞–∂ –Ω–∞—á–∏–Ω–∞–µ—Ç –∞–Ω–∏–º–∞—Ü–∏—é –∫–∞—Å—Ç–∞
- –ß–µ—Ä–µ–∑ 0.3 —Å–µ–∫ —Å–ª—ã—à–µ–Ω **–∑–≤—É–∫ –º–∞–≥–∏—á–µ—Å–∫–æ–π –∞—Ç–∞–∫–∏**
- –õ–µ—Ç–∏—Ç —Å–Ω–∞—Ä—è–¥ –∫ –≤—Ä–∞–≥—É
- –í—Ä–∞–≥ –ø–æ–ª—É—á–∞–µ—Ç —É—Ä–æ–Ω

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ú–∞–≥–∏—á–µ—Å–∫–∏–µ —Å—Ç—Ä–µ–ª—ã
1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **–ú–∞–≥–∏—á–µ—Å–∫–∏–µ —Å—Ç—Ä–µ–ª—ã**

**–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ü–µ—Ä—Å–æ–Ω–∞–∂ –Ω–∞—á–∏–Ω–∞–µ—Ç –∞–Ω–∏–º–∞—Ü–∏—é –≤–∑–º–∞—Ö–∞
- –ß–µ—Ä–µ–∑ 0.4 —Å–µ–∫ —Å–ª—ã—à–µ–Ω **–∑–≤—É–∫ –º–∞–≥–∏—á–µ—Å–∫–æ–π –∞—Ç–∞–∫–∏**
- –õ–µ—Ç—è—Ç —Å—Ç—Ä–µ–ª—ã –∫ –≤—Ä–∞–≥—É
- –í—Ä–∞–≥ –ø–æ–ª—É—á–∞–µ—Ç —É—Ä–æ–Ω –æ—Ç –∫–∞–∂–¥–æ–π —Å—Ç—Ä–µ–ª—ã

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≥—Ä–æ–º–∫–æ—Å—Ç—å
1. –ï—Å–ª–∏ –∑–≤—É–∫ —Å–ª–∏—à–∫–æ–º –≥—Ä–æ–º–∫–∏–π/—Ç–∏—Ö–∏–π
2. –ò–∑–º–µ–Ω–∏—Ç–µ `volume_db` –≤ —Ñ—É–Ω–∫—Ü–∏–∏ `_play_magic_attack_sound()`
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –∏–≥—Ä—É –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–Ω–æ–≤–∞

## –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞ 1: –ó–≤—É–∫ –Ω–µ –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–µ—Ç—Å—è

**–ü—Ä–∏—á–∏–Ω—ã:**
1. –§–∞–π–ª `magic_attack1.wav` –Ω–µ –Ω–∞–π–¥–µ–Ω
2. –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
3. –§–∞–π–ª –ø–æ–≤—Ä–µ–∂–¥–µ–Ω

**–†–µ—à–µ–Ω–∏–µ:**
```gdscript
func _play_magic_attack_sound():
    var audio_player = AudioStreamPlayer.new()
    var sound = load("res://Audio/Sounds/magic_attack1.wav")
    
    if not sound:
        print("–û–®–ò–ë–ö–ê: –ó–≤—É–∫ magic_attack1.wav –Ω–µ –Ω–∞–π–¥–µ–Ω!")
        audio_player.queue_free()
        return
    
    audio_player.stream = sound
    # ... –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥ ...
```

### –ü—Ä–æ–±–ª–µ–º–∞ 2: –ó–≤—É–∫ –∑–∞–ø–∞–∑–¥—ã–≤–∞–µ—Ç

**–ü—Ä–∏—á–∏–Ω–∞:** –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞ –∑–∞–Ω–∏–º–∞–µ—Ç –≤—Ä–µ–º—è

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `preload()` –≤–º–µ—Å—Ç–æ `load()`

```gdscript
# –í –Ω–∞—á–∞–ª–µ —Ñ–∞–π–ª–∞ battle_manager.gd
const MAGIC_ATTACK_SOUND = preload("res://Audio/Sounds/magic_attack1.wav")

func _play_magic_attack_sound():
    var audio_player = AudioStreamPlayer.new()
    audio_player.stream = MAGIC_ATTACK_SOUND  # –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ!
    # ... –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥ ...
```

### –ü—Ä–æ–±–ª–µ–º–∞ 3: –ó–≤—É–∫ —Å–ª–∏—à–∫–æ–º –≥—Ä–æ–º–∫–∏–π

**–†–µ—à–µ–Ω–∏–µ:** –£–º–µ–Ω—å—à–∏—Ç–µ `volume_db`

```gdscript
audio_player.volume_db = -5.0  # –ò–ª–∏ -10.0 –¥–ª—è –µ—â–µ –±–æ–ª–µ–µ —Ç–∏—Ö–æ–≥–æ
```

### –ü—Ä–æ–±–ª–µ–º–∞ 4: –ó–≤—É–∫ –æ–±—Ä–µ–∑–∞–µ—Ç—Å—è

**–ü—Ä–∏—á–∏–Ω–∞:** `audio_player.queue_free()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –¥–æ –æ–∫–æ–Ω—á–∞–Ω–∏—è –∑–≤—É–∫–∞

**–¢–µ–∫—É—â–µ–µ —Ä–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `await audio_player.finished` - –ø—Ä–∞–≤–∏–ª—å–Ω–æ!

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### 1. –†–∞–∑–Ω—ã–µ –∑–≤—É–∫–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∞—Ç–∞–∫

```gdscript
func _play_magic_attack_sound(attack_type: String = "default"):
    var audio_player = AudioStreamPlayer.new()
    
    match attack_type:
        "spiritual_strike":
            audio_player.stream = load("res://Audio/Sounds/deep_spirit_impact.wav")
        "magic_arrows":
            audio_player.stream = load("res://Audio/Sounds/magic_arrow.wav")
        _:
            audio_player.stream = load("res://Audio/Sounds/magic_attack1.wav")
    
    # ... –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥ ...
```

–ó–∞—Ç–µ–º –≤—ã–∑—ã–≤–∞—Ç—å:
```gdscript
_play_magic_attack_sound("spiritual_strike")
_play_magic_attack_sound("magic_arrows")
```

### 2. –≠—Ö–æ —ç—Ñ—Ñ–µ–∫—Ç –¥–ª—è –º–∞–≥–∏—á–µ—Å–∫–∏—Ö –∞—Ç–∞–∫

–î–æ–±–∞–≤—å—Ç–µ Reverb —ç—Ñ—Ñ–µ–∫—Ç –≤ Audio Bus:
1. –û—Ç–∫—Ä–æ–π—Ç–µ Audio –ø–∞–Ω–µ–ª—å –≤ Godot
2. –°–æ–∑–¥–∞–π—Ç–µ Bus "Magic"
3. –î–æ–±–∞–≤—å—Ç–µ —ç—Ñ—Ñ–µ–∫—Ç "Reverb"
4. –í –∫–æ–¥–µ –∏–∑–º–µ–Ω–∏—Ç–µ: `audio_player.bus = "Magic"`

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ú–∞–≥–∏—á–µ—Å–∫–∏–µ –∞—Ç–∞–∫–∏ –±—É–¥—É—Ç –∑–≤—É—á–∞—Ç—å —Å —ç—Ö–æ–º!

### 3. Fade out –¥–ª—è –¥–ª–∏–Ω–Ω—ã—Ö –∑–≤—É–∫–æ–≤

```gdscript
func _play_magic_attack_sound():
    var audio_player = AudioStreamPlayer.new()
    audio_player.stream = load("res://Audio/Sounds/magic_attack1.wav")
    audio_player.volume_db = 0.0
    audio_player.bus = "Master"
    add_child(audio_player)
    audio_player.play()
    
    # –ü–ª–∞–≤–Ω–æ–µ –∑–∞—Ç—É—Ö–∞–Ω–∏–µ —á–µ—Ä–µ–∑ 0.5 —Å–µ–∫
    await get_tree().create_timer(0.5).timeout
    var tween = create_tween()
    tween.tween_property(audio_player, "volume_db", -80, 0.3)
    await tween.finished
    
    audio_player.queue_free()
```

## –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### Scripts/Battle/battle_manager.gd
1. **–î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è:** `_play_magic_attack_sound()` (—Å—Ç—Ä–æ–∫–∞ ~1995)
2. **–ò–∑–º–µ–Ω–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –°–ø–∏—Ä–∏—Ç–∏—á–µ—Å–∫–æ–≥–æ —É–¥–∞—Ä–∞:** –î–æ–±–∞–≤–ª–µ–Ω –≤—ã–∑–æ–≤ –∑–≤—É–∫–∞ (—Å—Ç—Ä–æ–∫–∞ ~1627)
3. **–ò–∑–º–µ–Ω–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ú–∞–≥–∏—á–µ—Å–∫–∏—Ö —Å—Ç—Ä–µ–ª:** –î–æ–±–∞–≤–ª–µ–Ω –≤—ã–∑–æ–≤ –∑–≤—É–∫–∞ (—Å—Ç—Ä–æ–∫–∞ ~1681)

## –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫

- ‚úÖ –ó–≤—É–∫–æ–≤–æ–π —Ñ–∞–π–ª `magic_attack1.wav` –¥–æ—Å—Ç—É–ø–µ–Ω
- ‚úÖ –§—É–Ω–∫—Ü–∏—è `_play_magic_attack_sound()` —Å–æ–∑–¥–∞–Ω–∞
- ‚úÖ –ó–≤—É–∫ –¥–æ–±–∞–≤–ª–µ–Ω –¥–ª—è –°–ø–∏—Ä–∏—Ç–∏—á–µ—Å–∫–æ–≥–æ —É–¥–∞—Ä–∞
- ‚úÖ –ó–≤—É–∫ –¥–æ–±–∞–≤–ª–µ–Ω –¥–ª—è –ú–∞–≥–∏—á–µ—Å–∫–∏—Ö —Å—Ç—Ä–µ–ª
- ‚úÖ AudioStreamPlayer —Å–æ–∑–¥–∞–µ—Ç—Å—è –∏ —É–¥–∞–ª—è–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –ó–≤—É–∫ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω —Å –≤–∏–∑—É–∞–ª—å–Ω—ã–º–∏ —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏
- ‚úÖ –ù–µ—Ç —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏

## –°–≤—è–∑—å —Å –¥—Ä—É–≥–∏–º–∏ –∑–≤—É–∫–∞–º–∏

### –£–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∑–≤—É–∫–∏ –≤ –∏–≥—Ä–µ:
1. ‚úÖ **Thunder_bolt.wav** - –∑–≤—É–∫ –º–æ–ª–Ω–∏–∏ (–ø–∞—Å—Å–∏–≤–∫–∞ "–®–∞–º–∞–Ω –±—É—Ä—å")
2. ‚úÖ **magic_attack1.wav** - –∑–≤—É–∫ –±–∞–∑–æ–≤—ã—Ö –º–∞–≥–∏—á–µ—Å–∫–∏—Ö –∞—Ç–∞–∫ (—ç—Ç–æ—Ç PR)
3. ‚úÖ **sword_hit.wav** - —Ñ–∏–∑–∏—á–µ—Å–∫–∏–µ –∞—Ç–∞–∫–∏
4. ‚úÖ **critical_hit.wav** - –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —É–¥–∞—Ä—ã
5. ‚úÖ **level_up.wav** - –ø–æ–≤—ã—à–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è

### –î–æ—Å—Ç—É–ø–Ω—ã–µ –∑–≤—É–∫–∏ –¥–ª—è –±—É–¥—É—â–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
- `magic1.wav`, `magic2.wav`, `magic3.wav` - –≤–∞—Ä–∏–∞—Ü–∏–∏ –º–∞–≥–∏—á–µ—Å–∫–∏—Ö –∑–≤—É–∫–æ–≤
- `Ice_blast.wav` - –¥–ª—è –ª–µ–¥—è–Ω—ã—Ö —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π
- `deep_spirit_impact.wav` - –¥–ª—è –¥—É—Ö–æ–≤–Ω—ã—Ö –∞—Ç–∞–∫
- `magicbarrier.wav` - –¥–ª—è –∑–∞—â–∏—Ç–Ω—ã—Ö —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π

## –†–µ–∑—É–ª—å—Ç–∞—Ç

‚úÖ **–î–æ–±–∞–≤–ª–µ–Ω –∑–≤—É–∫ –¥–ª—è –±–∞–∑–æ–≤—ã—Ö –º–∞–≥–∏—á–µ—Å–∫–∏—Ö –∞—Ç–∞–∫**
‚úÖ **–°–ø–∏—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π —É–¥–∞—Ä** —Ç–µ–ø–µ—Ä—å —Å –∑–≤—É–∫–æ–º
‚úÖ **–ú–∞–≥–∏—á–µ—Å–∫–∏–µ —Å—Ç—Ä–µ–ª—ã** —Ç–µ–ø–µ—Ä—å —Å –∑–≤—É–∫–æ–º
‚úÖ **–ó–≤—É–∫ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω** —Å –∞–Ω–∏–º–∞—Ü–∏—è–º–∏ –∏ –≤–∏–∑—É–∞–ª—å–Ω—ã–º–∏ —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏
‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** –ø–∞–º—è—Ç—å—é (–Ω–µ—Ç —É—Ç–µ—á–µ–∫)
‚úÖ **–ì–ª–æ–±–∞–ª—å–Ω—ã–π –∑–≤—É–∫** (–≤—Å–µ–≥–¥–∞ —á–µ—Ç–∫–æ —Å–ª—ã—à–µ–Ω)

–¢–µ–ø–µ—Ä—å –º–∞–≥–∏—á–µ—Å–∫–∏–µ –∞—Ç–∞–∫–∏ –Ω–µ —Ç–æ–ª—å–∫–æ –≤—ã–≥–ª—è–¥—è—Ç, –Ω–æ –∏ –∑–≤—É—á–∞—Ç —ç–ø–∏—á–Ω–æ! ‚ú®üîä

