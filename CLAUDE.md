# Godot 4.5 Project Instructions

## –ü—Ä–æ–µ–∫—Ç Soul Collector
- **–î–≤–∏–∂–æ–∫:** Godot 4.5
- **–í–µ—Ä—Å–∏—è:** 0.1.76
- **–¢–∏–ø:** RPG —Å —Å–∏—Å—Ç–µ–º–æ–π –±–æ—è –∏ —Ä–∞–∑–≤–∏—Ç–∏—è –ø–µ—Ä—Å–æ–Ω–∞–∂–∞

## –í–∞–∂–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ Godot 4.5:

### Tween —Å–∏—Å—Ç–µ–º–∞:
- `tween_interval()` –≤–º–µ—Å—Ç–æ `tween_delay()`
- `create_tween()` –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∞–Ω–∏–º–∞—Ü–∏–π
- `tween_property()` –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ —Å–≤–æ–π—Å—Ç–≤

### AudioStream:
- –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã: 0=LOOP_DISABLED, 1=LOOP_FORWARD
- –ò—Å–ø–æ–ª—å–∑—É–π —á–∏—Å–ª–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤–º–µ—Å—Ç–æ –∫–æ–Ω—Å—Ç–∞–Ω—Ç

### UI –∏ Layout:
- –ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å UI –∏—Å–ø–æ–ª—å–∑—É–π `Control` —É–∑–ª—ã –≤–º–µ—Å—Ç–æ `Container` –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- `layout_mode = 1` (Full Rect) –¥–ª—è –ø—Ä—è–º–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è offset
- `anchors_preset` –¥–ª—è –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- `offset_left/top/right/bottom` –¥–ª—è –∞–±—Å–æ–ª—é—Ç–Ω–æ–≥–æ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

## –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞:

### –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –∏–≥—Ä–æ–∫–∞:
- –í—Å–µ —Å—Ç–∞—Ä—Ç–æ–≤—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏: 10 –µ–¥–∏–Ω–∏—Ü
- –ü—Ä–∏ "–ù–æ–≤–∞—è –∏–≥—Ä–∞" - –ø–æ–ª–Ω—ã–π —Å–±—Ä–æ—Å –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö (—É—Ä–æ–≤–Ω–∏, —Å—Ç–∞—Ç—ã, —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏, –ø—Ä–æ–≥—Ä–µ—Å—Å)

### UI –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è:
- –®–∫–∞–ª—ã –∏–≥—Ä–æ–∫–∞ (HP/MP/Stamina) –¥–æ–ª–∂–Ω—ã —É–º–µ–Ω—å—à–∞—Ç—å—Å—è —Å–ø—Ä–∞–≤–∞ –Ω–∞–ª–µ–≤–æ 
- –®–∫–∞–ª—ã –≤—Ä–∞–≥–∞ - —Å–ª–µ–≤–∞ –Ω–∞–ø—Ä–∞–≤–æ 
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏–π: –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –º–µ–∂–¥—É –ø—Ä–æ—Ü–µ–Ω—Ç–∞–º–∏ –∏ –∞–±—Å–æ–ª—é—Ç–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
- –í—Å–µ –∫–Ω–æ–ø–∫–∏ –∏ —ç–ª–µ–º–µ–Ω—Ç—ã UI –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø–æ–¥–≤–∏–∂–Ω—ã–º–∏ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ

### –°–∏—Å—Ç–µ–º–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫:
- `SettingsManager` –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∞ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ –∑–¥–æ—Ä–æ–≤—å—è/–º–∞–Ω—ã/–≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç–∏
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –≤ `user://settings.dat`

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞:
- `Scripts/` - –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥
- `Scenes/` - —Å—Ü–µ–Ω—ã –∏–≥—Ä—ã
- `Assets/` - —Ä–µ—Å—É—Ä—Å—ã (–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, –∑–≤—É–∫–∏)
- `Scripts/UI/` - UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- `Scripts/Battle/` - —Å–∏—Å—Ç–µ–º–∞ –±–æ—è
- `Scripts/PassiveAbilities/` - –ø–∞—Å—Å–∏–≤–Ω—ã–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

## –ê–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∏:
- `PlayerManager` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏ –∏–≥—Ä–æ–∫–∞
- `SettingsManager` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–≥—Ä—ã
- `MusicPlayer` - –º—É–∑—ã–∫–∞
- `AbilityLearningSystem` - —Å–∏—Å—Ç–µ–º–∞ –∏–∑—É—á–µ–Ω–∏—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π
- `LocationManager` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–æ–∫–∞—Ü–∏—è–º–∏
- `SoulShardManager` - –≤–∞–ª—é—Ç–∞ –∏–≥—Ä—ã

## –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –≤—Ä–∞–≥–æ–≤:

### –ü–û–õ–ù–ê–Ø –ü–û–®–ê–ì–û–í–ê–Ø –ò–ù–°–¢–†–£–ö–¶–ò–Ø:

#### **–®–ê–ì 1: –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ü–µ–Ω—ã –≤—Ä–∞–≥–∞**
1. **–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é —Å—Ü–µ–Ω—É** `Scenes/Battle/Enemy_[Name].tscn`
2. **–ö–æ—Ä–Ω–µ–≤–æ–π —É–∑–µ–ª**: `Node2D` —Å –∏–º–µ–Ω–µ–º –∫–∞–∫ —É –≤—Ä–∞–≥–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "Bat")
3. **–î–æ–±–∞–≤—å—Ç–µ —Å–∫—Ä–∏–ø—Ç**: `res://Scripts/Battle/body.gd`
4. **–°–æ–∑–¥–∞–π—Ç–µ –¥–æ—á–µ—Ä–Ω–∏–π —É–∑–µ–ª**: `AnimatedSprite2D` —Å –∏–º–µ–Ω–µ–º "Visual"
5. **–î–æ–±–∞–≤—å—Ç–µ —Å–∫—Ä–∏–ø—Ç –∫ Visual**: `res://Scripts/Battle/character_visual.gd`
6. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –º–∞—Å—à—Ç–∞–±**: `Vector2(2, 2)` –¥–ª—è Visual

#### **–®–ê–ì 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ –≤—Ä–∞–≥–∞**
–í –∫–æ—Ä–Ω–µ–≤–æ–º —É–∑–ª–µ (Node2D) —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ:
```gdscript
display_name = "–ò–º—è –≤—Ä–∞–≥–∞"  # –Ω–∞–ø—Ä–∏–º–µ—Ä, "–õ–µ—Ç—É—á–∞—è –º—ã—à—å"
level = 3                   # —É—Ä–æ–≤–µ–Ω—å –≤—Ä–∞–≥–∞
max_hp = 45                 # –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∑–¥–æ—Ä–æ–≤—å–µ
hp = 45                     # —Ç–µ–∫—É—â–µ–µ –∑–¥–æ—Ä–æ–≤—å–µ
max_mp = 15                 # –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –º–∞–Ω–∞
mp = 15                     # —Ç–µ–∫—É—â–∞—è –º–∞–Ω–∞
max_stamina = 100           # –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç—å
stamina = 100               # —Ç–µ–∫—É—â–∞—è –≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç—å
attack_power = 8            # —Å–∏–ª–∞ –∞—Ç–∞–∫–∏
defense = 2                 # –∑–∞—â–∏—Ç–∞
rarity = "common"           # –í–°–ï–ì–î–ê "common" (—Å–∏—Å—Ç–µ–º–∞ —Å–ª—É—á–∞–π–Ω–æ–π —Ä–µ–¥–∫–æ—Å—Ç–∏)
passive_list = ["base_passive"]  # —Ç–æ–ª—å–∫–æ –±–∞–∑–æ–≤–∞—è –ø–∞—Å—Å–∏–≤–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å

# –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:
strength = 8
agility = 20
vitality = 9
endurance = 10
intelligence = 15
wisdom = 15
```

#### **–®–ê–ì 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–Ω–∏–º–∞—Ü–∏–π –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ Godot**
1. **–í—ã–±–µ—Ä–∏—Ç–µ —É–∑–µ–ª** `Visual` (AnimatedSprite2D)
2. **–í –∏–Ω—Å–ø–µ–∫—Ç–æ—Ä–µ** –Ω–∞–π–¥–∏—Ç–µ `Sprite Frames`
3. **–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π** `SpriteFrames` —Ä–µ—Å—É—Ä—Å
4. **–î–æ–±–∞–≤—å—Ç–µ –∞–Ω–∏–º–∞—Ü–∏–∏**:
   - `idle` - –ø–æ–∫–æ–π (loop: true)
   - `attack` - –∞—Ç–∞–∫–∞ (loop: false)
   - `hurt` - –ø–æ–ª—É—á–µ–Ω–∏–µ —É—Ä–æ–Ω–∞ (loop: false)
   - `die` - —Å–º–µ—Ä—Ç—å (loop: false)
5. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∫–∞–¥—Ä—ã** –∏ —Å–∫–æ—Ä–æ—Å—Ç—å –¥–ª—è –∫–∞–∂–¥–æ–π –∞–Ω–∏–º–∞—Ü–∏–∏
6. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–∞—á–∞–ª—å–Ω—É—é –∞–Ω–∏–º–∞—Ü–∏—é**: `animation = "idle"`

#### **–®–ê–ì 4: –°–æ–∑–¥–∞–Ω–∏–µ –ø–∞—Å—Å–∏–≤–Ω—ã—Ö —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π**
1. **–°–æ–∑–¥–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç—ã** –≤ `Scripts/PassiveAbilities/[Rarity]/[AbilityName].gd`
2. **–î–æ–±–∞–≤—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é** –≤ `Scripts/PassiveAbilities/EnemyPassiveConfig.gd`:
```gdscript
# –í —Ñ—É–Ω–∫—Ü–∏–∏ _initialize_enemy_passives() –¥–æ–±–∞–≤–∏—Ç—å:
enemy_passives["–ò–º—è –≤—Ä–∞–≥–∞"] = {
	"common": ["base_passive"] as Array[String],
	"uncommon": ["base_passive", "second_passive"] as Array[String],
	"rare": ["base_passive", "second_passive", "third_passive"] as Array[String],
	"epic": ["base_passive", "second_passive", "third_passive", "fourth_passive"] as Array[String],
	"legendary": ["base_passive", "second_passive", "third_passive", "fourth_passive", "fifth_passive"] as Array[String]
}
```

#### **–®–ê–ì 5: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –ø—É–ª –≤—Ä–∞–≥–æ–≤**
–í **–û–ë–û–ò–•** —Ñ–∞–π–ª–∞—Ö `Scripts/LocationManagerAutoload.gd` –∏ `Scripts/LocationManager.gd`:
```gdscript
# –í –º–∞—Å—Å–∏–≤–µ enemy_pools –¥–æ–±–∞–≤–∏—Ç—å:
EnemyPool.new("res://Scenes/Battle/Enemy_[Name].tscn", "common", chance, min_level, max_level)
```

### **–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û:**
- ‚úÖ **–í–°–ï–ì–î–ê –¥–æ–±–∞–≤–ª—è–π—Ç–µ** `character_visual.gd` –∫ —É–∑–ª—É Visual
- ‚úÖ **–í–°–ï–ì–î–ê –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ** `rarity = "common"` –≤ —Å—Ü–µ–Ω–µ
- ‚úÖ **–í–°–ï–ì–î–ê –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ** `"common"` –≤ EnemyPool
- ‚úÖ **–í–°–ï–ì–î–ê –æ–±–Ω–æ–≤–ª—è–π—Ç–µ** –û–ë–ê —Ñ–∞–π–ª–∞ LocationManager
- ‚úÖ **–í–°–ï–ì–î–ê —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ** –ø–∞—Å—Å–∏–≤–Ω—ã–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –¥–ª—è –≤—Å–µ—Ö —Ä–µ–¥–∫–æ—Å—Ç–µ–π

### **–ü—Ä–∏–º–µ—Ä –≥–æ—Ç–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:**
```
Scenes/Battle/Enemy_Bat.tscn
‚îú‚îÄ‚îÄ Bat (Node2D) - –∫–æ—Ä–Ω–µ–≤–æ–π —É–∑–µ–ª —Å body.gd
‚îÇ   ‚îî‚îÄ‚îÄ Visual (AnimatedSprite2D) - —Å character_visual.gd
‚îÇ       ‚îî‚îÄ‚îÄ SpriteFrames - —Å –∞–Ω–∏–º–∞—Ü–∏—è–º–∏ idle, attack, hurt, die
```

### **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏:**
1. **–û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ü–µ–Ω—É** –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ - –¥–æ–ª–∂–Ω–∞ –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∞–Ω–∏–º–∞—Ü–∏–∏** - –¥–æ–ª–∂–Ω—ã –ø—Ä–æ–∏–≥—Ä—ã–≤–∞—Ç—å—Å—è –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ
3. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –∏–≥—Ä—É** - –≤—Ä–∞–≥ –¥–æ–ª–∂–µ–Ω –ø–æ—è–≤–ª—è—Ç—å—Å—è –≤ –±–æ—é
4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å** - –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—à–∏–±–æ–∫ –∑–∞–≥—Ä—É–∑–∫–∏

## –°–æ–∑–¥–∞–Ω–∏–µ —ç–ª–∏—Ç–Ω—ã—Ö –≤—Ä–∞–≥–æ–≤:

### **–õ–û–ì–ò–ö–ê –≠–õ–ò–¢–ù–´–• –í–†–ê–ì–û–í:**

#### **üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã:**
- **–®–∞–Ω—Å –ø–æ—è–≤–ª–µ–Ω–∏—è**: 10% –Ω–∞ —ç–∫—Ä–∞–Ω–µ –≤—ã–±–æ—Ä–∞ –∫–æ–º–Ω–∞—Ç—ã
- **–ò—Å—Ç–æ—á–Ω–∏–∫**: –ª—é–±–æ–π –≤—Ä–∞–≥ –∏–∑ –ø—É–ª–∞ —É—Ä–æ–≤–Ω—è (–∫—Ä–æ–º–µ –±–æ—Å—Å–∞)
- **–†–µ–¥–∫–æ—Å—Ç—å**: –≤—Å–µ–≥–¥–∞ "elite" (—ç–ª–∏—Ç–Ω—ã–π)
- **–ü–∞—Å—Å–∏–≤–Ω—ã–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏**: –≤—Å–µ 5 (–∫–∞–∫ —É –ª–µ–≥–µ–Ω–¥–∞—Ä–Ω–æ–≥–æ)
- **–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏**: –≤ 2 —Ä–∞–∑–∞ –≤—ã—à–µ –±–∞–∑–æ–≤—ã—Ö
- **–£—Ä–æ–≤–µ–Ω—å**: +1-3 –∫ –±–∞–∑–æ–≤–æ–º—É —É—Ä–æ–≤–Ω—é
- **–ù–∞–≥—Ä–∞–¥–∞**: –¥–≤–æ–π–Ω–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å –∏–∑—É—á–µ–Ω–∏—è –ø–∞—Å—Å–∏–≤–Ω—ã—Ö —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π

#### **‚öôÔ∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:**

##### **1. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–¥–∫–æ—Å—Ç–∏ "elite" –≤ —Å–∏—Å—Ç–µ–º—É:**
```gdscript
# –í Scripts/PassiveAbilities/EnemyPassiveConfig.gd
enemy_passives["–ò–º—è –≤—Ä–∞–≥–∞"] = {
	"common": ["base_passive"] as Array[String],
	"uncommon": ["base_passive", "second_passive"] as Array[String],
	"rare": ["base_passive", "second_passive", "third_passive"] as Array[String],
	"epic": ["base_passive", "second_passive", "third_passive", "fourth_passive"] as Array[String],
	"legendary": ["base_passive", "second_passive", "third_passive", "fourth_passive", "fifth_passive"] as Array[String],
	"elite": ["base_passive", "second_passive", "third_passive", "fourth_passive", "fifth_passive"] as Array[String]
}
```

##### **2. –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è RoomGenerator.gd:**
```gdscript
# –î–æ–±–∞–≤–∏—Ç—å –≤ _get_random_enemy_rarity():
var weights = {
	"common": 40,
	"uncommon": 30,
	"rare": 15,
	"epic": 4,
	"legendary": 1,
	"elite": 0  # –≠–ª–∏—Ç–Ω—ã–µ –≤—Ä–∞–≥–∏ –≤—ã–±–∏—Ä–∞—é—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ
}

# –î–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è —ç–ª–∏—Ç–Ω—ã—Ö –≤—Ä–∞–≥–æ–≤:
func _create_elite_room() -> RoomData:
	var room = RoomData.new()
	room.room_type = RoomData.RoomType.ELITE_BATTLE
	room.enemy_rarity = "elite"
	room.enemy_scene = _get_random_enemy_for_elite()
	room.room_name = "–≠–ª–∏—Ç–Ω–∞—è –∫–æ–º–Ω–∞—Ç–∞"
	room.description = "–ó–¥–µ—Å—å –æ–±–∏—Ç–∞–µ—Ç –º–æ–≥—É—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫!"
	return room
```

##### **3. –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã –±–æ—è:**
```gdscript
# –í battle_manager.gd –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É —ç–ª–∏—Ç–Ω–æ–≥–æ –≤—Ä–∞–≥–∞:
func _on_enemy_died():
	if enemy_node.rarity == "elite":
		# –î–≤–æ–π–Ω–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å –ø–∞—Å—Å–∏–≤–Ω—ã—Ö —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π
		_apply_elite_rewards()
	# –û–±—ã—á–Ω–∞—è –ª–æ–≥–∏–∫–∞ –ø–æ–±–µ–¥—ã...
```

##### **4. –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ –≤—Ä–∞–≥–∞:**
```gdscript
# –í body.gd –¥–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è —ç–ª–∏—Ç–Ω—ã—Ö –±–æ–Ω—É—Å–æ–≤:
func apply_elite_bonuses():
	if rarity == "elite":
		# –£–¥–≤–∞–∏–≤–∞–µ–º –≤—Å–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏
		max_hp *= 2
		hp = max_hp
		max_mp *= 2
		mp = max_mp
		max_stamina *= 2
		stamina = max_stamina
		attack_power *= 2
		defense *= 2
		
		# –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —É—Ä–æ–≤–µ–Ω—å –Ω–∞ 1-3
		level += randi_range(1, 3)
		
		# –ü–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ–º –±–æ–Ω—É—Å—ã –æ—Ç —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫
		calculate_stat_bonuses()
		apply_stat_bonuses()
```

#### **üéÆ –ò–≥—Ä–æ–≤–æ–π –ø—Ä–æ—Ü–µ—Å—Å:**
1. **–ò–≥—Ä–æ–∫ –≤—ã–±–∏—Ä–∞–µ—Ç –∫–æ–º–Ω–∞—Ç—É** - 10% —à–∞–Ω—Å –Ω–∞ —ç–ª–∏—Ç–Ω—É—é
2. **–≠–ª–∏—Ç–Ω–∞—è –∫–æ–º–Ω–∞—Ç–∞** - –æ—Å–æ–±–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ
3. **–≠–ª–∏—Ç–Ω—ã–π –≤—Ä–∞–≥** - —É–¥–≤–æ–µ–Ω–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ + –≤—Å–µ –ø–∞—Å—Å–∏–≤–∫–∏
4. **–ü–æ–±–µ–¥–∞** - –¥–≤–æ–π–Ω–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å –∏–∑—É—á–µ–Ω–∏—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π
5. **–û—Å–æ–±–∞—è –Ω–∞–≥—Ä–∞–¥–∞** - –±–æ–ª—å—à–µ –æ–ø—ã—Ç–∞ –∏ –æ—Å–∫–æ–ª–∫–æ–≤ –¥—É—à

#### **üìä –ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞:**
- **–®–∞–Ω—Å –ø–æ—è–≤–ª–µ–Ω–∏—è**: 10% (—Ä–µ–¥–∫–æ, –Ω–æ –Ω–µ —Å–ª–∏—à–∫–æ–º)
- **–°–ª–æ–∂–Ω–æ—Å—Ç—å**: –≤—ã—Å–æ–∫–∞—è (—É–¥–≤–æ–µ–Ω–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏)
- **–ù–∞–≥—Ä–∞–¥–∞**: –¥–≤–æ–π–Ω–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å (—Å—Ç–æ–∏—Ç —Ä–∏—Å–∫–∞)
- **–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å**: –ª—é–±–æ–π –≤—Ä–∞–≥ –º–æ–∂–µ—Ç —Å—Ç–∞—Ç—å —ç–ª–∏—Ç–Ω—ã–º

### **–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û:**
- ‚úÖ **–í–°–ï–ì–î–ê –¥–æ–±–∞–≤–ª—è–π—Ç–µ** "elite" –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –ø–∞—Å—Å–∏–≤–æ–∫
- ‚úÖ **–í–°–ï–ì–î–ê –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ** –≤—Å–µ 5 –ø–∞—Å—Å–∏–≤–Ω—ã—Ö —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π –¥–ª—è —ç–ª–∏—Ç–Ω—ã—Ö
- ‚úÖ **–í–°–ï–ì–î–ê —É–¥–≤–∞–∏–≤–∞–π—Ç–µ** —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ —ç–ª–∏—Ç–Ω—ã—Ö –≤—Ä–∞–≥–æ–≤
- ‚úÖ **–í–°–ï–ì–î–ê –¥–∞–≤–∞–π—Ç–µ** –¥–≤–æ–π–Ω–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å –∑–∞ –ø–æ–±–µ–¥—É
- ‚úÖ **–í–°–ï–ì–î–ê –∏—Å–∫–ª—é—á–∞–π—Ç–µ** –±–æ—Å—Å–æ–≤ –∏–∑ —ç–ª–∏—Ç–Ω–æ–≥–æ –ø—É–ª–∞

## –í–∞–∂–Ω–æ –ø–æ–º–Ω–∏—Ç—å:
- –í—Å–µ–≥–¥–∞ —É—á–∏—Ç—ã–≤–∞—Ç—å –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ Godot 4.5
- –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ UI —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Control —É–∑–ª—ã –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å –≤–µ—Ä—Å–∏–µ–π 4.5 –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —á–∏—Å–ª–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤–º–µ—Å—Ç–æ –∫–æ–Ω—Å—Ç–∞–Ω—Ç –¥–ª—è –ª—É—á—à–µ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
- –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –≤—Ä–∞–≥–æ–≤ —Å–ª–µ–¥–æ–≤–∞—Ç—å –µ–¥–∏–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –ø–æ –ø—Ä–∏–º–µ—Ä—É –∫—Ä—ã—Å—ã
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `AnimatedSprite2D` –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –≤—Ä–∞–≥–æ–≤
- –ê–Ω–∏–º–∞—Ü–∏–∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ Godot (idle, attack, hurt, die)
- –°–∏—Å—Ç–µ–º–∞ —Å–ª—É—á–∞–π–Ω–æ–π —Ä–µ–¥–∫–æ—Å—Ç–∏ - –≤—Å–µ –≤—Ä–∞–≥–∏ –∏–º–µ—é—Ç –±–∞–∑–æ–≤—É—é —Ä–µ–¥–∫–æ—Å—Ç—å "common"
