# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–æ–Ω—É—Å–æ–≤ –¥–ª—è "–î–≤–æ–π–Ω–æ–≥–æ —É–¥–∞—Ä–∞"

## üêõ –ü—Ä–æ–±–ª–µ–º–∞

**"–Ø—Ä–æ—Å—Ç—å" —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç, –Ω–æ –±–æ–Ω—É—Å –Ω–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ "–î–≤–æ–π–Ω–æ–º—É —É–¥–∞—Ä—É"**

### **–ê–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤:**
```
–Ø—Ä–æ—Å—Ç—å - –ì–æ–±–ª–∏–Ω –í–æ–∏–Ω –ø–æ–ª—É—á–∞–µ—Ç +2.0 –∫ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–º—É —É—Ä–æ–Ω—É –Ω–∞ 3 —Ä–∞—É–Ω–¥–∞!
...
–°–æ–æ–±—â–µ–Ω–∏–µ: –í—Ä–∞–≥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –î–≤–æ–π–Ω–æ–π —É–¥–∞—Ä! —Ñ–∏–∑–∏—á–µ—Å–∫–∏–π —É—Ä–æ–Ω: 204  # ‚ùå –ë–æ–Ω—É—Å –Ω–µ –ø—Ä–∏–º–µ–Ω–µ–Ω
```

## üîç –ü—Ä–∏—á–∏–Ω–∞

**"–î–≤–æ–π–Ω–æ–π —É–¥–∞—Ä" –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é —Ñ–æ—Ä–º—É–ª—É —Ä–∞—Å—á–µ—Ç–∞ —É—Ä–æ–Ω–∞** –≤–º–µ—Å—Ç–æ `get_physical_damage()`, –ø–æ—ç—Ç–æ–º—É –±–æ–Ω—É—Å—ã –æ—Ç `physical_damage_bonus` –Ω–µ –ø—Ä–∏–º–µ–Ω—è–ª–∏—Å—å.

### **–ë—ã–ª–æ (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ):**
```gdscript
# –í EnemyAbility.gd - —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∞—è —Ñ–æ—Ä–º—É–ª–∞ –±–µ–∑ –±–æ–Ω—É—Å–æ–≤
var strength = owner.strength if "strength" in owner else 0
var agility = owner.agility if "agility" in owner else 0
var calculated_base_damage = int((strength + agility) / 1.5)
```

## üõ†Ô∏è –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

### **–ó–∞–º–µ–Ω–∏–ª–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é —Ñ–æ—Ä–º—É–ª—É –Ω–∞ `get_physical_damage()`:**
```gdscript
# –ò—Å–ø–æ–ª—å–∑—É–µ–º get_physical_damage() –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —É—Ä–æ–Ω–∞ —Å —É—á–µ—Ç–æ–º –≤—Å–µ—Ö –±–æ–Ω—É—Å–æ–≤
var base_physical_damage = 0
if owner.has_method("get_physical_damage"):
    base_physical_damage = owner.get_physical_damage()  # ‚úÖ –í–∫–ª—é—á–∞–µ—Ç –≤—Å–µ –±–æ–Ω—É—Å—ã
else:
    # Fallback –¥–ª—è —Å—Ç–∞—Ä–æ–π —Å–∏—Å—Ç–µ–º—ã
    var strength = owner.strength if "strength" in owner else 0
    var agility = owner.agility if "agility" in owner else 0
    base_physical_damage = int((strength + agility) / 1.5)

# –£—Ä–æ–Ω –∑–∞ —É–¥–∞—Ä = –±–∞–∑–æ–≤—ã–π —Ñ–∏–∑–∏—á–µ—Å–∫–∏–π —É—Ä–æ–Ω / 2
var damage_per_hit = int(base_physical_damage / 2)
```

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

### **–¢–µ–ø–µ—Ä—å "–î–≤–æ–π–Ω–æ–π —É–¥–∞—Ä" –ø–æ–ª—É—á–∞–µ—Ç –í–°–ï –±–æ–Ω—É—Å—ã –∫ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–º—É —É—Ä–æ–Ω—É:**

1. **–ë–∞–∑–æ–≤—ã–π —É—Ä–æ–Ω**: –°–∏–ª–∞ + –õ–æ–≤–∫–æ—Å—Ç—å
2. **–ë–æ–Ω—É—Å "–ë–æ–µ—Ü"**: +20% –∫ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–º—É —É—Ä–æ–Ω—É
3. **–ë–æ–Ω—É—Å "–Ø—Ä–æ—Å—Ç—å"**: +2 –∫ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–º—É —É—Ä–æ–Ω—É
4. **–ë–æ–Ω—É—Å "–ú–∞—Å—Å–∏–≤–Ω—ã–π"**: +6% –æ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ HP
5. **–õ—é–±—ã–µ –¥—Ä—É–≥–∏–µ –±–æ–Ω—É—Å—ã** –∫ `physical_damage_bonus`

### **–ü—Ä–∏–º–µ—Ä —Ä–∞—Å—á–µ—Ç–∞:**
```
–ë–∞–∑–æ–≤—ã–π —É—Ä–æ–Ω: 100
–ë–æ–Ω—É—Å "–ë–æ–µ—Ü": +20 (20%)
–ë–æ–Ω—É—Å "–Ø—Ä–æ—Å—Ç—å": +2
–ë–æ–Ω—É—Å "–ú–∞—Å—Å–∏–≤–Ω—ã–π": +6
–ò—Ç–æ–≥–æ–≤—ã–π —É—Ä–æ–Ω: 128

"–î–≤–æ–π–Ω–æ–π —É–¥–∞—Ä": 128 / 2 = 64 —É—Ä–æ–Ω–∞ –∑–∞ —É–¥–∞—Ä
```

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥—Ä—É–≥–∏—Ö —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π

### **"–°—É–µ—Ç–ª–∏–≤–æ—Å—Ç—å"** - —É–∂–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞:
```gdscript
# –í battle_manager.gd
if attacker.has_method("get_physical_damage"):
    base_damage = attacker.get_physical_damage()  # ‚úÖ –£–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –±–æ–Ω—É—Å—ã
```

### **"–ë—ã—Å—Ç—Ä—ã–π —É–¥–∞—Ä"** - –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ

## üìä –û–∂–∏–¥–∞–µ–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ª–æ–≥–∞—Ö

**–î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
```
–Ø—Ä–æ—Å—Ç—å - –ì–æ–±–ª–∏–Ω –í–æ–∏–Ω –ø–æ–ª—É—á–∞–µ—Ç +2.0 –∫ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–º—É —É—Ä–æ–Ω—É –Ω–∞ 3 —Ä–∞—É–Ω–¥–∞!
–°–æ–æ–±—â–µ–Ω–∏–µ: –í—Ä–∞–≥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –î–≤–æ–π–Ω–æ–π —É–¥–∞—Ä! —Ñ–∏–∑–∏—á–µ—Å–∫–∏–π —É—Ä–æ–Ω: 204  # –ë–µ–∑ –±–æ–Ω—É—Å–∞
```

**–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
```
–Ø—Ä–æ—Å—Ç—å - –ì–æ–±–ª–∏–Ω –í–æ–∏–Ω –ø–æ–ª—É—á–∞–µ—Ç +2.0 –∫ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–º—É —É—Ä–æ–Ω—É –Ω–∞ 3 —Ä–∞—É–Ω–¥–∞!
–°–æ–æ–±—â–µ–Ω–∏–µ: –í—Ä–∞–≥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –î–≤–æ–π–Ω–æ–π —É–¥–∞—Ä! —Ñ–∏–∑–∏—á–µ—Å–∫–∏–π —É—Ä–æ–Ω: 206  # +2 —É—Ä–æ–Ω–∞ –æ—Ç –Ø—Ä–æ—Å—Ç–∏
```

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### **–§—É–Ω–∫—Ü–∏—è `get_physical_damage()` –≤–∫–ª—é—á–∞–µ—Ç:**
```gdscript
func get_physical_damage() -> int:
    var strength_bonus = strength  # 1 —É—Ä–æ–Ω –∑–∞ –æ—á–∫–æ –°–∏–ª—ã
    var base_damage = attack_power + strength_bonus + physical_damage_bonus
    
    # –ü—Ä–∏–º–µ–Ω—è–µ–º –±–æ–Ω—É—Å "–ë–æ–µ—Ü" –∫ –∏—Ç–æ–≥–æ–≤–æ–º—É —É—Ä–æ–Ω—É
    var fighter_bonus = 0
    for ability in passive_abilities:
        if ability.id == "fighter":
            var fighter_percentage = ability.get_value_for_level(ability_level)
            fighter_bonus = int(base_damage * (fighter_percentage / 100.0))
            break
    
    return base_damage + fighter_bonus
```

### **–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è `physical_damage_bonus` –Ω–∞–∫–∞–ø–ª–∏–≤–∞–µ—Ç:**
- –ë–æ–Ω—É—Å—ã –æ—Ç "–Ø—Ä–æ—Å—Ç–∏"
- –ë–æ–Ω—É—Å—ã –æ—Ç "–ú–∞—Å—Å–∏–≤–Ω–æ–≥–æ"
- –õ—é–±—ã–µ –¥—Ä—É–≥–∏–µ –±–æ–Ω—É—Å—ã –∫ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–º—É —É—Ä–æ–Ω—É

---

**–ê–≤—Ç–æ—Ä**: Claude AI Assistant  
**–î–∞—Ç–∞**: 2024  
**–í–µ—Ä—Å–∏—è**: 1.0
