# Очистка UI способностей развития души

## Дата
28 октября 2025

## Проблема
1. У всех способностей развития души отображалась редкость в названии: "(Common)", "(Uncommon)", "(Rare)", и т.д.
2. В описаниях способностей эффективности восстановления была лишняя информация "(было 35%)"

## Решение

### 1. Убрана редкость из названий способностей развития души

**Было:**
- Восстановление души: Эффективность I (Common)
- Восстановление души: Эффективность II (Uncommon)
- Духовная мощь I (Common)

**Стало:**
- Восстановление души: Эффективность I
- Восстановление души: Эффективность II
- Духовная мощь I

**Обоснование:**
- Способности развития души имеют собственную иерархию (I, II, III, IV, V, VI)
- Редкость в скобках создавала визуальный шум
- Цвет названия уже показывает редкость (белый, зеленый, синий, фиолетовый, оранжевый, красный)

### 2. Упрощены описания способностей эффективности

**Было:**
- "Увеличивает процент восстановления души до 40% (было 35%)."
- "Увеличивает процент восстановления души до 45% (было 35%)."
- "Увеличивает процент восстановления души до 55% (было 35%)."

**Стало:**
- "Увеличивает процент восстановления души до 40%."
- "Увеличивает процент восстановления души до 45%."
- "Увеличивает процент восстановления души до 55%."

**Обоснование:**
- Базовое значение 35% - это техническая информация
- Игроку важнее знать итоговое значение
- Описание стало более лаконичным

## Изменения в файлах

### Scripts/UI/AbilityLearningScreen.gd

#### Функция `_create_ability_card()`
**Добавлено:**
```gdscript
# Для способностей развития души не показываем редкость в названии
var rarity_text = ""
if not is_soul_ability:
    rarity_text = " (" + ability.rarity.capitalize() + ")"

name_label.text = ability.name + level_text + rarity_text
```

**Раньше было:**
```gdscript
name_label.text = ability.name + level_text + " (" + ability.rarity.capitalize() + ")"
```

#### Функция `_show_ability_details()`
**Добавлено:**
```gdscript
# Для способностей развития души не показываем редкость
var is_soul_ability_detail = "soul" in ability.tags
var rarity_text_detail = ""
if not is_soul_ability_detail:
    rarity_text_detail = " (" + ability.rarity.capitalize() + ")"

name_label.text = ability.name + rarity_text_detail
```

### Scripts/PassiveAbilities/SoulDevelopment/

Обновлены описания в 6 файлах:
- `RestorationEfficiency1.gd`
- `RestorationEfficiency2.gd`
- `RestorationEfficiency3.gd`
- `RestorationEfficiency4.gd`
- `RestorationEfficiency5.gd`
- `RestorationEfficiency6.gd`

**Изменение:**
```gdscript
// Было:
description = "Увеличивает процент восстановления души до X% (было 35%)."

// Стало:
description = "Увеличивает процент восстановления души до X%."
```

## Визуальные результаты

### Карточки способностей развития души
**До:**
```
Восстановление души: Эффективность I (Common)
Увеличивает процент восстановления души до 40% (было 35%).
Стоимость: 50 ОД
```

**После:**
```
Восстановление души: Эффективность I
Увеличивает процент восстановления души до 40%.
Стоимость: 50 ОД
```

### Обычные способности (без изменений)
```
Крысиная живучесть (ур. 1) (Common)
Восстанавливает 5 HP за раунд
Прогресс: 100 / 100 очков
```

## Преимущества

### Улучшенная читаемость:
✅ Названия способностей развития души стали короче
✅ Убран визуальный шум из описаний
✅ Фокус на главной информации (эффект способности)

### Лучшая визуальная иерархия:
✅ Редкость показывается цветом названия
✅ Римские цифры (I, II, III...) четко показывают уровень
✅ Разделение между обычными способностями и развитием души стало очевиднее

### Консистентность:
✅ Способности развития души теперь визуально отличаются от обычных
✅ Единый стиль для всех способностей одной категории
✅ Меньше повторяющейся информации

## Логика отображения редкости

### Способности развития души:
- ❌ Редкость НЕ показывается в скобках в названии
- ✅ Редкость показывается цветом названия
- ✅ Иерархия показывается римскими цифрами (I-VI)

### Обычные способности:
- ✅ Редкость показывается в скобках: (Common), (Uncommon), и т.д.
- ✅ Редкость показывается цветом названия
- ✅ Уровень показывается: (ур. 1), (ур. 2), (ур. 3)

## Цветовая индикация редкости

Редкость по-прежнему отображается через цвет названия:
- **Common** - Белый
- **Uncommon** - Зеленый
- **Rare** - Синий
- **Epic** - Фиолетовый
- **Legendary** - Оранжевый
- **Mythic** - Красный

## Результат
✅ Названия способностей развития души стали чище и лаконичнее
✅ Убрана лишняя информация "(было 35%)" из описаний
✅ Редкость всё ещё видна через цвет названия
✅ Визуальное различие между обычными способностями и развитием души усилено
✅ UI стал более профессиональным и читаемым

