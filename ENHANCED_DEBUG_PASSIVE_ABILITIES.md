# –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –æ—Ç–ª–∞–¥–∫–∞ –ø–∞—Å—Å–∏–≤–Ω—ã—Ö —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π –∏–≥—Ä–æ–∫–∞

## üîç –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –æ—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:

### **1. –í `battle_manager.gd` - –º–µ—Ç–æ–¥ `_apply_player_passive_abilities()`:**
- ‚úÖ **–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è `player_vitality`** - `if "player_vitality" in active_passives`
- ‚úÖ **–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–∑—É—á–µ–Ω–Ω—ã–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏** - –µ—Å–ª–∏ `player_vitality` –Ω–µ –Ω–∞–π–¥–µ–Ω–∞
- ‚úÖ **–î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è** - –¥–ª—è –∫–∞–∂–¥–æ–π —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

### **2. –í `body.gd` - –º–µ—Ç–æ–¥ `add_passive_ability()`:**
- ‚úÖ **–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–µ—Ä—Å–æ–Ω–∞–∂–∞** - `print("–ü–µ—Ä—Å–æ–Ω–∞–∂: ", display_name)`
- ‚úÖ **–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å** - `print("–°–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å: ", ability.name)`
- ‚úÖ **–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç ID —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏** - `print("ID —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏: ", ability.id)`
- ‚úÖ **–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ** - `print("–ó–Ω–∞—á–µ–Ω–∏–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏: ", ability.value)`
- ‚úÖ **–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ** - `print("–°–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å —É–∂–µ –µ—Å—Ç—å –≤ —Å–ø–∏—Å–∫–µ: ", passive_abilities.has(ability))`

## üéØ –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:

### **1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∏–≥—Ä—É –∏ –≤–æ–π–¥–∏—Ç–µ –≤ –±–æ–π:**
- –°–º–æ—Ç—Ä–∏—Ç–µ –≤ –∫–æ–Ω—Å–æ–ª—å Godot –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç–ª–∞–¥–∫–∏
- –î–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è —Å–æ–æ–±—â–µ–Ω–∏—è:
  ```
  === –ü–†–ò–ú–ï–ù–ï–ù–ò–ï –ê–ö–¢–ò–í–ù–´–• –ü–ê–°–°–ò–í–ù–´–• –°–ü–û–°–û–ë–ù–û–°–¢–ï–ô –ò–ì–†–û–ö–ê ===
  –ê–∫—Ç–∏–≤–Ω—ã—Ö —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π: 1
  –ê–∫—Ç–∏–≤–Ω—ã–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏: ["player_vitality"]
  ‚úì player_vitality –Ω–∞–π–¥–µ–Ω–∞ –≤ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—è—Ö!
  –ü—Ä–∏–º–µ–Ω—è–µ–º –ø–∞—Å—Å–∏–≤–Ω—É—é —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å: –ñ–∏–≤—É—á–µ—Å—Ç—å –∏–≥—Ä–æ–∫–∞ (ID: player_vitality)
  –ó–Ω–∞—á–µ–Ω–∏–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏: 50.0
  === –î–û–ë–ê–í–õ–ï–ù–ò–ï –ü–ê–°–°–ò–í–ù–û–ô –°–ü–û–°–û–ë–ù–û–°–¢–ò ===
  –ü–µ—Ä—Å–æ–Ω–∞–∂: Player
  –°–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å: –ñ–∏–≤—É—á–µ—Å—Ç—å –∏–≥—Ä–æ–∫–∞
  ID —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏: player_vitality
  –ó–Ω–∞—á–µ–Ω–∏–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏: 50.0
  –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–∞—Å—Å–∏–≤–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å: –ñ–∏–≤—É—á–µ—Å—Ç—å –∏–≥—Ä–æ–∫–∞ –¥–ª—è Player
  –í—Å–µ–≥–æ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π —É Player: 1
  === –ü–†–ò–ú–ï–ù–ï–ù–ò–ï PLAYER_VITALITY ===
  –ü–µ—Ä—Å–æ–Ω–∞–∂: Player
  –ó–Ω–∞—á–µ–Ω–∏–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏: 50.0
  Player –ø–æ–ª—É—á–∞–µ—Ç –±–æ–Ω—É—Å –∂–∏–≤—É—á–µ—Å—Ç–∏: +50 HP
  –ú–∞–∫—Å. HP –î–û: 100, –ü–û–°–õ–ï: 150
  –¢–µ–∫—É—â–µ–µ HP –î–û: 100, –ü–û–°–õ–ï: 150
  === –ö–û–ù–ï–¶ PLAYER_VITALITY ===
  === –ö–û–ù–ï–¶ –î–û–ë–ê–í–õ–ï–ù–ò–Ø –ü–ê–°–°–ò–í–ù–û–ô –°–ü–û–°–û–ë–ù–û–°–¢–ò ===
  ```

### **2. –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ –∏—Ö —Ä–µ—à–µ–Ω–∏—è:**

#### **A. –ï—Å–ª–∏ `player_vitality` –ù–ï –Ω–∞–π–¥–µ–Ω–∞ –≤ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—è—Ö:**
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ü–∞—Å—Å–∏–≤–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –Ω–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–∞
- **–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `player_vitality` –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–∞ –≤ —ç–∫—Ä–∞–Ω–µ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
- **–ü—Ä–æ–≤–µ—Ä–∫–∞:** –°–æ–æ–±—â–µ–Ω–∏–µ `‚úó player_vitality –ù–ï –Ω–∞–π–¥–µ–Ω–∞ –≤ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—è—Ö!`

#### **B. –ï—Å–ª–∏ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –Ω–µ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è:**
- **–ü—Ä–æ–±–ª–µ–º–∞:** `add_passive_ability` –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∏–ª–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É
- **–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `ability` –Ω–µ null –∏ –Ω–µ –¥—É–±–ª–∏—Ä—É–µ—Ç—Å—è
- **–ü—Ä–æ–≤–µ—Ä–∫–∞:** –°–æ–æ–±—â–µ–Ω–∏–µ `–ù–µ —É–¥–∞–ª–æ—Å—å –¥–æ–±–∞–≤–∏—Ç—å —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å`

#### **C. –ï—Å–ª–∏ `_apply_passive_effects` –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è:**
- **–ü—Ä–æ–±–ª–µ–º–∞:** –°–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –Ω–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è
- **–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `ability.id` —Ä–∞–≤–µ–Ω `"player_vitality"`
- **–ü—Ä–æ–≤–µ—Ä–∫–∞:** –°–æ–æ–±—â–µ–Ω–∏—è `=== –ü–†–ò–ú–ï–ù–ï–ù–ò–ï PLAYER_VITALITY ===` –Ω–µ –ø–æ—è–≤–ª—è—é—Ç—Å—è

#### **D. –ï—Å–ª–∏ HP –Ω–µ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è:**
- **–ü—Ä–æ–±–ª–µ–º–∞:** `max_hp` —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è, –Ω–æ –ø–æ—Ç–æ–º –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è
- **–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä—è–¥–æ–∫ –æ–ø–µ—Ä–∞—Ü–∏–π –≤ `_sync_player_data`
- **–ü—Ä–æ–≤–µ—Ä–∫–∞:** –°—Ä–∞–≤–Ω–∏—Ç–µ `–ú–∞–∫—Å. HP –ø–æ—Å–ª–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏` –∏ `–ú–∞–∫—Å. HP –ø–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –ø–∞—Å—Å–∏–≤–Ω—ã—Ö —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π`

## üîß –ü–æ—à–∞–≥–æ–≤–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:

### **–®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∞–∫—Ç–∏–≤–∞—Ü–∏—é —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏**
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `player_vitality` –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–∞ –≤ —ç–∫—Ä–∞–Ω–µ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –≤ `player_data.active_passives`

### **–®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–≥—Ä—É–∑–∫—É —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏**
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `player_vitality` –Ω–∞–π–¥–µ–Ω–∞ –≤ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—è—Ö
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `ability.value` —Ä–∞–≤–Ω–æ 50.0

### **–®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏**
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `add_passive_ability` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `_apply_passive_effects` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –¥–ª—è `player_vitality`

### **–®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è HP**
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `max_hp` —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ 50
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `hp` —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –≤ –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ `max_hp`

## üéÆ –ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é!

–¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ:
- ‚úÖ **–û—Ç—Å–ª–µ–¥–∏—Ç—å –≤–µ—Å—å –ø—Ä–æ—Ü–µ—Å—Å** –æ—Ç –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –¥–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è
- ‚úÖ **–ù–∞–π—Ç–∏ —Ç–æ—á–Ω–æ–µ –º–µ—Å—Ç–æ –ø—Ä–æ–±–ª–µ–º—ã** –≤ —Ü–µ–ø–æ—á–∫–µ –æ–ø–µ—Ä–∞—Ü–∏–π
- ‚úÖ **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–∞–∂–¥–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ** –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ
- ‚úÖ **–£–±–µ–¥–∏—Ç—å—Å—è** —á—Ç–æ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ

–°–∏—Å—Ç–µ–º–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–π –æ—Ç–ª–∞–¥–∫–∏ –≥–æ—Ç–æ–≤–∞! üîç‚ú®
