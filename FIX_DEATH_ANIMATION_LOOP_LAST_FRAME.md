# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–Ω–∏–º–∞—Ü–∏–∏ —Å–º–µ—Ä—Ç–∏ - –∑–∞—Ü–∏–∫–ª–∏–≤–∞–Ω–∏–µ –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–º –∫–∞–¥—Ä–µ

## üéØ –ü—Ä–æ–±–ª–µ–º–∞:
–ì–ì –≤—Å–µ –µ—â–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –Ω–∞ –ø–µ—Ä–≤—ã–π –∫–∞–¥—Ä, –∞ –Ω–µ –ø–æ—Å–ª–µ–¥–Ω–∏–π, –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è.

## üîç –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã:

### **1. –ü—Ä–æ–±–ª–µ–º–∞ –≤ –ª–æ–≥–∏–∫–µ:**
- ‚úÖ **–ê–Ω–∏–º–∞—Ü–∏—è —Å–º–µ—Ä—Ç–∏ –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–µ—Ç—Å—è** - `play_die()` —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚ùå **–°–ø—Ä–∞–π—Ç –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –∫ –ø–µ—Ä–≤–æ–º—É –∫–∞–¥—Ä—É** - –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∞–Ω–∏–º–∞—Ü–∏–∏
- ‚ùå **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ** - –ø–µ—Ä—Å–æ–Ω–∞–∂ –¥–æ–ª–∂–µ–Ω –æ—Å—Ç–∞—Ç—å—Å—è –≤ –ø–æ–∑–µ —Å–º–µ—Ä—Ç–∏

### **2. –ü—Ä–∏—á–∏–Ω–∞:**
–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∞–Ω–∏–º–∞—Ü–∏–∏ —Å–ø—Ä–∞–π—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –∫ –ø–µ—Ä–≤–æ–º—É –∫–∞–¥—Ä—É, –¥–∞–∂–µ –µ—Å–ª–∏ –º—ã —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø–æ—Å–ª–µ–¥–Ω–∏–π –∫–∞–¥—Ä.

## üõ†Ô∏è –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

### **1. –ó–∞—Ü–∏–∫–ª–∏–≤–∞–Ω–∏–µ –∞–Ω–∏–º–∞—Ü–∏–∏ —Å–º–µ—Ä—Ç–∏ –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–º –∫–∞–¥—Ä–µ:**
```gdscript
func _on_die_animation_finished():
	print("–ê–Ω–∏–º–∞—Ü–∏—è —Å–º–µ—Ä—Ç–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ –¥–ª—è ", get_parent().name)
	print("–¢–µ–∫—É—â–∞—è –∞–Ω–∏–º–∞—Ü–∏—è –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è: ", animation)
	# –ù–ï –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—Å—è –∫ idle - –ø–µ—Ä—Å–æ–Ω–∞–∂ –º–µ—Ä—Ç–≤!
	print("–ü–µ—Ä—Å–æ–Ω–∞–∂ –º–µ—Ä—Ç–≤, –ù–ï –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—Å—è –∫ idle")
	
	# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø–æ—Å–ª–µ–¥–Ω–∏–π –∫–∞–¥—Ä –∞–Ω–∏–º–∞—Ü–∏–∏ —Å–º–µ—Ä—Ç–∏ –∫–∞–∫ —Ç–µ–∫—É—â–∏–π
	if sprite_frames and sprite_frames.has_animation(die_anim):
		var last_frame = sprite_frames.get_frame_count(die_anim) - 1
		frame = last_frame
		# –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é —Å–º–µ—Ä—Ç–∏ –∏ –ø–æ—Å–ª–µ–¥–Ω–∏–π –∫–∞–¥—Ä
		animation = die_anim
		print("–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ø–æ—Å–ª–µ–¥–Ω–∏–π –∫–∞–¥—Ä –∞–Ω–∏–º–∞—Ü–∏–∏ —Å–º–µ—Ä—Ç–∏: ", last_frame)
		print("–ê–Ω–∏–º–∞—Ü–∏—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –∫–∞–∫: ", animation)
		
		# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é –∫–∞–∫ –∑–∞—Ü–∏–∫–ª–µ–Ω–Ω—É—é, —á—Ç–æ–±—ã –æ–Ω–∞ –Ω–µ –∑–∞–≤–µ—Ä—à–∞–ª–∞—Å—å
		sprite_frames.set_animation_loop(die_anim, true)
		print("–ê–Ω–∏–º–∞—Ü–∏—è —Å–º–µ—Ä—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –∫–∞–∫ –∑–∞—Ü–∏–∫–ª–µ–Ω–Ω–∞—è")
		
		# –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–º –∫–∞–¥—Ä–µ
		stop()
		print("–ê–Ω–∏–º–∞—Ü–∏—è –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–º –∫–∞–¥—Ä–µ —Å–º–µ—Ä—Ç–∏")
```

## üéÆ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:

### **1. –û—Ç–ª–∞–¥–æ—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–∫–∞–∂—É—Ç:**
```
–ò–≥—Ä–æ–∫ –ø–æ–≥–∏–±, –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é —Å–º–µ—Ä—Ç–∏...
Visual –Ω–∞–π–¥–µ–Ω: Visual:<AnimatedSprite2D#193290307301>
–í—ã–∑—ã–≤–∞–µ–º play_die()
play_die() –≤—ã–∑–≤–∞–Ω –¥–ª—è PlayerBody
die_anim = die
has_animation(die_anim) = true
sprite_frames = [SpriteFrames:1234]
current animation = idle
–ü—Ä–æ–∏–≥—Ä—ã–≤–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é —Å–º–µ—Ä—Ç–∏: die
–ê–Ω–∏–º–∞—Ü–∏—è –∑–∞–ø—É—â–µ–Ω–∞, —Ç–µ–∫—É—â–∞—è –∞–Ω–∏–º–∞—Ü–∏—è: die
–ê–Ω–∏–º–∞—Ü–∏—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ
–ê–Ω–∏–º–∞—Ü–∏—è —Å–º–µ—Ä—Ç–∏ –ù–ï –∑–∞—Ü–∏–∫–ª–∏–≤–∞–µ—Ç—Å—è
play_die() –≤—ã–∑–≤–∞–Ω (–±–µ–∑ await, –∫–∞–∫ —É –≤—Ä–∞–≥–æ–≤)
–ê–Ω–∏–º–∞—Ü–∏—è —Å–º–µ—Ä—Ç–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ –¥–ª—è PlayerBody
–¢–µ–∫—É—â–∞—è –∞–Ω–∏–º–∞—Ü–∏—è –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è: die
–ü–µ—Ä—Å–æ–Ω–∞–∂ –º–µ—Ä—Ç–≤, –ù–ï –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—Å—è –∫ idle
–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ø–æ—Å–ª–µ–¥–Ω–∏–π –∫–∞–¥—Ä –∞–Ω–∏–º–∞—Ü–∏–∏ —Å–º–µ—Ä—Ç–∏: 10
–ê–Ω–∏–º–∞—Ü–∏—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –∫–∞–∫: die
–ê–Ω–∏–º–∞—Ü–∏—è —Å–º–µ—Ä—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –∫–∞–∫ –∑–∞—Ü–∏–∫–ª–µ–Ω–Ω–∞—è
–ê–Ω–∏–º–∞—Ü–∏—è –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–º –∫–∞–¥—Ä–µ —Å–º–µ—Ä—Ç–∏
–°–æ–æ–±—â–µ–Ω–∏–µ: –¢—ã –ø–æ–≥–∏–±. –î—É—à–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è.
```

### **2. –†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ **–ê–Ω–∏–º–∞—Ü–∏—è —Å–º–µ—Ä—Ç–∏ –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–µ—Ç—Å—è** - `play_die()` —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ **–û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–º –∫–∞–¥—Ä–µ** - `frame = last_frame`
- ‚úÖ **–ê–Ω–∏–º–∞—Ü–∏—è –∑–∞—Ü–∏–∫–ª–∏–≤–∞–µ—Ç—Å—è** - `sprite_frames.set_animation_loop(die_anim, true)`
- ‚úÖ **–ü–µ—Ä—Å–æ–Ω–∞–∂ –æ—Å—Ç–∞–µ—Ç—Å—è –º–µ—Ä—Ç–≤—ã–º** - —Å–ø—Ä–∞–π—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–π –∫–∞–¥—Ä —Å–º–µ—Ä—Ç–∏

## ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é!

–¢–µ–ø–µ—Ä—å —Å–∏—Å—Ç–µ–º–∞:
- ‚úÖ **–ê–Ω–∏–º–∞—Ü–∏—è —Å–º–µ—Ä—Ç–∏ –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–µ—Ç—Å—è** - `play_die()` —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ **–û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–º –∫–∞–¥—Ä–µ** - –ø–µ—Ä—Å–æ–Ω–∞–∂ –æ—Å—Ç–∞–µ—Ç—Å—è –≤ –ø–æ–∑–µ —Å–º–µ—Ä—Ç–∏
- ‚úÖ **–ê–Ω–∏–º–∞—Ü–∏—è –∑–∞—Ü–∏–∫–ª–∏–≤–∞–µ—Ç—Å—è** - –Ω–µ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- ‚úÖ **–ü–µ—Ä—Å–æ–Ω–∞–∂ –≤—ã–≥–ª—è–¥–∏—Ç –º–µ—Ä—Ç–≤—ã–º** - —Å–ø—Ä–∞–π—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–π –∫–∞–¥—Ä —Å–º–µ—Ä—Ç–∏

**–¢–µ–ø–µ—Ä—å –∞–Ω–∏–º–∞—Ü–∏—è —Å–º–µ—Ä—Ç–∏ –¥–æ–ª–∂–Ω–∞ –ø—Ä–æ–∏–≥—Ä–∞—Ç—å—Å—è –∏ –æ—Å—Ç–∞—Ç—å—Å—è –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–º –∫–∞–¥—Ä–µ!** üéÆüíÄ
