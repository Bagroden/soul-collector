# NPC "–°–∫—É–ª—å–ø—Ç–æ—Ä –¥—É—à"

## üóø –û–±–∑–æ—Ä

NPC "–°–∫—É–ª—å–ø—Ç–æ—Ä –¥—É—à" - –∫–ª—é—á–µ–≤–æ–π –ø–µ—Ä—Å–æ–Ω–∞–∂ –º–µ—Ç–∞-–ø—Ä–æ–≥—Ä–µ—Å—Å–∏–∏, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –∏–∑—É—á–µ–Ω–∏—é –ø–∞—Å—Å–∏–≤–Ω—ã—Ö –∏ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π.

## üìç –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ

**–≠–∫—Ä–∞–Ω:** Character Preparation (–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—é)  
**–ü–æ–∑–∏—Ü–∏—è:** –°–ø—Ä–∞–≤–∞ –∏ –≤—ã—à–µ –æ—Ç –ö–æ–ª–æ–¥—Ü–∞ –¥—É—à  
**–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã:** `Vector2(viewport_width / 2 + 500, viewport_height - 350)`  
**–†–∞–∑–º–µ—Ä:** 3x (—É–≤–µ–ª–∏—á–µ–Ω –≤ 3 —Ä–∞–∑–∞ –æ—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª–∞)

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                              üóøüóøüóø      ‚îÇ
‚îÇ                          –°–∫—É–ª—å–ø—Ç–æ—Ä      ‚îÇ
‚îÇ       üå™Ô∏è                   –¥—É—à (3x)    ‚îÇ
‚îÇ   –ö–æ–ª–æ–¥–µ—Ü –¥—É—à                           ‚îÇ
‚îÇ     (–≤–∏—Ö—Ä—å)                             ‚îÇ
‚îÇ                                         ‚îÇ
‚îÇ    [UI —ç–ª–µ–º–µ–Ω—Ç—ã –≤–Ω–∏–∑—É]                 ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## ‚ú® –í–∏–∑—É–∞–ª—å–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã

### 1. –ê–Ω–∏–º–∞—Ü–∏—è Idle

**–ö–∞–¥—Ä—ã:** 4 —Ñ—Ä–µ–π–º–∞  
**–ü–∞–ø–∫–∞:** `Assets/Sprites/NPC/Sculptor_of_Souls/Idle, 4 Frames/`  
**–§–∞–π–ª—ã:**
- `1.png`
- `2.png`
- `3.png`
- `4.png`

**–ù–∞—Å—Ç—Ä–æ–π–∫–∏:**
- FPS: 2.5 (–º–µ–¥–ª–µ–Ω–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è, –≤ 2 —Ä–∞–∑–∞ –º–µ–¥–ª–µ–Ω–Ω–µ–µ –æ—Ä–∏–≥–∏–Ω–∞–ª–∞)
- Loop: true (–±–µ—Å–∫–æ–Ω–µ—á–Ω–∞—è)
- Auto-play: –¥–∞
- Scale: 3.0x (—É–≤–µ–ª–∏—á–µ–Ω –≤ 3 —Ä–∞–∑–∞)

### 2. –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏

**–≠—Ñ—Ñ–µ–∫—Ç:**
- –ù–∞–≤–µ–¥–µ–Ω–∏–µ –∫—É—Ä—Å–æ—Ä–∞ ‚Üí –æ—Å–≤–µ—Ç–ª–µ–Ω–∏–µ `Color(1.5, 1.5, 1.5, 1.0)`
- –£—Ö–æ–¥ –∫—É—Ä—Å–æ—Ä–∞ ‚Üí –≤–æ–∑–≤—Ä–∞—Ç –∫ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–º—É —Ü–≤–µ—Ç—É
- –ü–ª–∞–≤–Ω–æ—Å—Ç—å: 0.2 —Å–µ–∫—É–Ω–¥—ã (Tween)

**–ö—É—Ä—Å–æ—Ä:**
- –ü—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏: `CURSOR_POINTING_HAND` (—É–∫–∞–∑–∞—Ç–µ–ª—å)
- –ü—Ä–∏ —É—Ö–æ–¥–µ: `CURSOR_ARROW` (–æ–±—ã—á–Ω—ã–π)

### 3. –°–æ—Å—Ç–æ—è–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏

**–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω (is_unlocked = false):**
- Alpha: 0.5 (–ø–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π)
- –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å: –Ω–µ—Ç

**–†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω (is_unlocked = true):**
- Alpha: 1.0 (–Ω–µ–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π)
- –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å: –¥–∞

### 4. –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –∫–≤–µ—Å—Ç–æ–≤ (‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)

**–ò–∫–æ–Ω–∫–∞ –Ω–∞–¥ –≥–æ–ª–æ–≤–æ–π:**
- `!` - –ó–æ–ª–æ—Ç–æ–π (–∫–≤–µ—Å—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è –≤–∑—è—Ç–∏—è)
- `?` - –°–µ—Ä—ã–π (–∫–≤–µ—Å—Ç –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ)
- `!` - –ó–µ–ª–µ–Ω—ã–π (–∫–≤–µ—Å—Ç –º–æ–∂–Ω–æ —Å–¥–∞—Ç—å)

**–ü—É–ª—å—Å–∏—Ä—É—é—â–µ–µ —Å–≤–µ—á–µ–Ω–∏–µ:**
- –ó–æ–ª–æ—Ç–æ–µ - –∫–≤–µ—Å—Ç –¥–æ—Å—Ç—É–ø–µ–Ω
- –ó–µ–ª–µ–Ω–æ–µ - –∫–≤–µ—Å—Ç –º–æ–∂–Ω–æ —Å–¥–∞—Ç—å
- –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç - –∫–≤–µ—Å—Ç –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –∏–ª–∏ –∑–∞–≤–µ—Ä—à–µ–Ω

**–ü–æ–¥—Ä–æ–±–Ω–µ–µ:** –°–º. `QUEST_INDICATORS_SYSTEM.md`

## üéÆ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å

### –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π –º—ã—à–∏ —á–µ—Ä–µ–∑ `_input()`

**–ú–µ—Ç–æ–¥:** –ü—Ä—è–º–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —á–µ—Ä–µ–∑ `_input()` (–≤–º–µ—Å—Ç–æ Area2D)  
**–ü—Ä–∏—á–∏–Ω–∞:** Control —É–∑–ª—ã –±–ª–æ–∫–∏—Ä—É—é—Ç —Å–æ–±—ã—Ç–∏—è –º—ã—à–∏ –¥–ª—è Area2D

**–†–∞–∑–º–µ—Ä –æ–±–ª–∞—Å—Ç–∏:** `Vector2(300, 450)` –ø–∏–∫—Å–µ–ª–µ–π (—É–≤–µ–ª–∏—á–µ–Ω –≤ 3 —Ä–∞–∑–∞)  
**–ü—Ä–æ–≤–µ—Ä–∫–∞:** `Rect2.has_point(mouse_pos)` –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –Ω–∞–≤–µ–¥–µ–Ω–∏—è

### –°–æ–±—ã—Ç–∏—è:

| –°–æ–±—ã—Ç–∏–µ | –î–µ–π—Å—Ç–≤–∏–µ |
|---------|----------|
| –ö—É—Ä—Å–æ—Ä –≤ –æ–±–ª–∞—Å—Ç–∏ | –ü–æ–¥—Å–≤–µ—Ç–∫–∞ + —Å–º–µ–Ω–∞ –∫—É—Ä—Å–æ—Ä–∞ |
| –ö—É—Ä—Å–æ—Ä –≤–Ω–µ –æ–±–ª–∞—Å—Ç–∏ | –°–Ω—è—Ç–∏–µ –ø–æ–¥—Å–≤–µ—Ç–∫–∏ + –≤–æ–∑–≤—Ä–∞—Ç –∫—É—Ä—Å–æ—Ä–∞ |
| –õ–µ–≤—ã–π –∫–ª–∏–∫ –≤ –æ–±–ª–∞—Å—Ç–∏ | –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å NPC |

### –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞:

```gdscript
func _on_npc_clicked():
    print("üóø –°–∫—É–ª—å–ø—Ç–æ—Ä –¥—É—à: –û—Ç–∫—Ä—ã–≤–∞–µ–º –¥–∏–∞–ª–æ–≥")
    if dialog:
        dialog.show_menu()
        # –ü—Ä–æ–∏–≥—Ä—ã–≤–∞–µ—Ç –∑–≤—É–∫ "page"
```

**–¢–µ–∫—É—â–µ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:** –û—Ç–∫—Ä—ã–≤–∞–µ—Ç –¥–∏–∞–ª–æ–≥–æ–≤–æ–µ –æ–∫–Ω–æ —Å –º–µ–Ω—é –æ–ø—Ü–∏–π  
**–°–º. –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏:** `SOUL_SCULPTOR_DIALOG_SYSTEM.md`

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —É–∑–ª–æ–≤:

```
SoulSculptor (Node2D)
‚îú‚îÄ‚îÄ AnimatedSprite (AnimatedSprite2D)
‚îÇ   ‚îî‚îÄ‚îÄ SpriteFrames: idle animation (4 frames)
‚îú‚îÄ‚îÄ GlowSprite (Sprite2D) - –ø—É–ª—å—Å–∏—Ä—É—é—â–µ–µ —Å–≤–µ—á–µ–Ω–∏–µ –∫–≤–µ—Å—Ç–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ Z-Index: -1 (–ø–æ–∑–∞–¥–∏ NPC)
‚îî‚îÄ‚îÄ QuestIndicator (Label) - –∏–∫–æ–Ω–∫–∞ –Ω–∞–¥ –≥–æ–ª–æ–≤–æ–π (!, ?)
    ‚îî‚îÄ‚îÄ Z-Index: 20 (–ø–æ–≤–µ—Ä—Ö NPC)
    
–í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ: —á–µ—Ä–µ–∑ _input() –∏ Rect2
```

### –§–∞–π–ª—ã:

- **–°–∫—Ä–∏–ø—Ç:** `Scripts/NPC/SoulSculptor.gd`
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:** `Scripts/UI/CharacterPreparation.gd`

### Z-Index —Å–ª–æ–∏:

| –≠–ª–µ–º–µ–Ω—Ç | Z-Index | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|---------|----------|
| –§–æ–Ω | 0 (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) | –ó–∞–¥–Ω–∏–π –ø–ª–∞–Ω |
| –°–≤–µ—á–µ–Ω–∏–µ –∫–≤–µ—Å—Ç–æ–≤ | -1 | –ü–æ–∑–∞–¥–∏ NPC (–æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ) |
| –í–∏—Ö—Ä—å –¥—É—à | 10 | –ö–æ–ª–æ–¥–µ—Ü –¥—É—à |
| **–°–∫—É–ª—å–ø—Ç–æ—Ä** | **15** | **NPC (–ø–æ–≤–µ—Ä—Ö –≤–∏—Ö—Ä—è)** |
| –ò–∫–æ–Ω–∫–∞ –∫–≤–µ—Å—Ç–∞ | 20 | –ù–∞–¥ –≥–æ–ª–æ–≤–æ–π NPC |
| UI —ç–ª–µ–º–µ–Ω—Ç—ã | 20+ | –ö–Ω–æ–ø–∫–∏, —Ç–µ–∫—Å—Ç |

## üìã –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤ CharacterPreparation.gd:

```gdscript
var soul_sculptor: Node2D = null

func _ready():
    # ... –¥—Ä—É–≥–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
    _initialize_soul_sculptor()

func _initialize_soul_sculptor() -> void:
    var sculptor_script = load("res://Scripts/NPC/SoulSculptor.gd")
    soul_sculptor = Node2D.new()
    soul_sculptor.set_script(sculptor_script)
    soul_sculptor.name = "SoulSculptor"
    soul_sculptor.z_index = 15
    
    # –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
    var viewport_size = get_viewport_rect().size
    soul_sculptor.position = Vector2(viewport_size.x / 2 - 250, viewport_size.y - 200)
    
    add_child(soul_sculptor)

func _exit_tree() -> void:
    if soul_sculptor:
        soul_sculptor.queue_free()
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å—é:

```gdscript
# –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å NPC
soul_sculptor.set_unlocked(true)

# –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å NPC
soul_sculptor.set_unlocked(false)
```

## üéØ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

### –î–∏–∞–ª–æ–≥–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ (‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)

**–ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ NPC –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –º–µ–Ω—é —Å –æ–ø—Ü–∏—è–º–∏:**

1. **üåü –†–∞–∑–≤–∏—Ç–∏–µ –¥—É—à–∏**
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞ "–£—Ä–Ω–∞ –¥—É—à"
   - –ï—Å–ª–∏ –Ω–µ—Ç - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ–∫—Å—Ç –∫–≤–µ—Å—Ç–∞ –Ω–∞ –ø–æ–∏—Å–∫ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞
   - –ï—Å–ª–∏ –µ—Å—Ç—å - –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –º–µ–Ω—é —Ä–∞–∑–≤–∏—Ç–∏—è –¥—É—à–∏ (TODO)

2. **‚ö° –ê–∫—Ç–∏–≤–∞—Ü–∏—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π**
   - –û—Ç–∫—Ä—ã–≤–∞–µ—Ç –æ–∫–Ω–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∞—Å—Å–∏–≤–Ω—ã–º–∏ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—è–º–∏
   - –ê–∫—Ç–∏–≤–∞—Ü–∏—è/–¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è –∏–∑—É—á–µ–Ω–Ω—ã—Ö —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π
   - –ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –±–µ–∑ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π

3. **üìö –ò–∑—É—á–µ–Ω–∏–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π**
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞ "–£—Ä–Ω–∞ –¥—É—à"
   - –ï—Å–ª–∏ –Ω–µ—Ç - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –¥–æ—Å—Ç–∞–≤–∏—Ç—å —É—Ä–Ω—É
   - –ï—Å–ª–∏ –µ—Å—Ç—å - –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —ç–∫—Ä–∞–Ω –∏–∑—É—á–µ–Ω–∏—è –Ω–æ–≤—ã—Ö —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π –∑–∞ –æ—Å–∫–æ–ª–∫–∏ –¥—É—à

**–ü–æ–¥—Ä–æ–±–Ω–µ–µ:** –°–º. `SOUL_SCULPTOR_DIALOG_SYSTEM.md`

### –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∏–∏ (üîú –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è):

1. **–ù–∞—á–∞–ª–æ –∏–≥—Ä—ã:** NPC –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
2. **7-—è –∫–æ–º–Ω–∞—Ç–∞ –ø–µ—Ä–≤–æ–π –ª–æ–∫–∞—Ü–∏–∏:** –ü–æ—è–≤–ª—è–µ—Ç—Å—è –°–∫—É–ª—å–ø—Ç–æ—Ä –¥—É—à
3. **–ü–æ—Å–ª–µ –ø–æ–±–µ–¥—ã –Ω–∞–¥ –±–æ—Å—Å–æ–º (–ì–Ω–∏–ª–æ—Å—Ç–Ω—ã–π —Å–ª–∏–∑–µ–Ω—å):** –ü–æ–ª—É—á–µ–Ω–∏–µ "–£—Ä–Ω–∞ –¥—É—à"
4. **–í–æ–∑–≤—Ä–∞—Ç –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞:** –û—Ç–∫—Ä—ã—Ç–∏–µ –ø–æ–ª–Ω–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞

**–ü–æ–¥—Ä–æ–±–Ω–µ–µ:** –°–º. `META_PROGRESSION_SYSTEM.md`

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –ø–æ—Å–ª–µ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ (üîú –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è):

- ‚úÖ –ò–∑—É—á–µ–Ω–∏–µ –ø–∞—Å—Å–∏–≤–Ω—ã—Ö —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π –≤—Ä–∞–≥–æ–≤ (–¥–æ—Å—Ç—É–ø–Ω–æ —Å—Ä–∞–∑—É)
- üîú –ò–∑—É—á–µ–Ω–∏–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π —Ä–∞–∑–≤–∏—Ç–∏—è –¥—É—à–∏ (1-2 —É—Ä–æ–≤–µ–Ω—å –ø–æ—Å–ª–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞)
- üîú –ü–æ–ª—É—á–µ–Ω–∏–µ –æ—á–∫–æ–≤ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –Ω–∞ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
- üîú –ü—Ä–æ–∫–∞—á–∫–∞ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π –¥–æ –≤—ã—Å–æ–∫–∏—Ö —É—Ä–æ–≤–Ω–µ–π

### –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:

- ‚úÖ **–î–∏–∞–ª–æ–≥–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞** - –ì–û–¢–û–í–û!
- ‚úÖ **–ú–µ–Ω—é –æ–±—É—á–µ–Ω–∏—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—è–º** - –ì–û–¢–û–í–û!
- ‚úÖ **–ö–≤–µ—Å—Ç–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞** - –ì–û–¢–û–í–û!
- ‚úÖ **–í–∏–∑—É–∞–ª—å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –∫–≤–µ—Å—Ç–æ–≤** - –ì–û–¢–û–í–û!
- ‚úÖ **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å PlayerData** - –ì–û–¢–û–í–û!

### –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è:

- üîú –ü–æ—Ä—Ç—Ä–µ—Ç NPC –≤ –¥–∏–∞–ª–æ–≥–µ
- üîú –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø–æ—è–≤–ª–µ–Ω–∏–µ –¥–∏–∞–ª–æ–≥–∞
- üîú –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–≤—É–∫–æ–≤—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã
- üîú –ê–Ω–∏–º–∞—Ü–∏—è –ø—Ä–∏ –≤–∑—è—Ç–∏–∏/—Å–¥–∞—á–µ –∫–≤–µ—Å—Ç–æ–≤

## üêõ Troubleshooting

### NPC –Ω–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è:

**–ü—Ä–æ–±–ª–µ–º–∞:** –°–∫—Ä–∏–ø—Ç –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∏–ª–∏ –Ω–µ –≤–∏–¥–µ–Ω

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç—å –∫ —Å–∫—Ä–∏–ø—Ç—É: `res://Scripts/NPC/SoulSculptor.gd`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏:
   ```
   === –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –°–∫—É–ª—å–ø—Ç–æ—Ä–∞ –¥—É—à ===
   –°–∫—É–ª—å–ø—Ç–æ—Ä –¥—É—à –¥–æ–±–∞–≤–ª–µ–Ω –Ω–∞ –ø–æ–∑–∏—Ü–∏—é: (...)
   üóø === –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –°–∫—É–ª—å–ø—Ç–æ—Ä–∞ –¥—É—à (SoulSculptor._ready) ===
   ‚úÖ AnimatedSprite2D —Å–æ–∑–¥–∞–Ω
   ‚úÖ –ö–∞–¥—Ä 1 –∑–∞–≥—Ä—É–∂–µ–Ω
   ‚úÖ –ö–∞–¥—Ä 2 –∑–∞–≥—Ä—É–∂–µ–Ω
   ‚úÖ –ö–∞–¥—Ä 3 –∑–∞–≥—Ä—É–∂–µ–Ω
   ‚úÖ –ö–∞–¥—Ä 4 –∑–∞–≥—Ä—É–∂–µ–Ω
   üé¨ –ê–Ω–∏–º–∞—Ü–∏—è idle –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞, –∫–∞–¥—Ä–æ–≤: 4
   ‚úÖ Area2D —Å–æ–∑–¥–∞–Ω
   ‚úÖ CollisionShape2D —Å–æ–∑–¥–∞–Ω
   ‚úÖ –°–∏–≥–Ω–∞–ª—ã –ø–æ–¥–∫–ª—é—á–µ–Ω—ã
   ‚úÖ –ê–Ω–∏–º–∞—Ü–∏—è idle –∑–∞–ø—É—â–µ–Ω–∞
   üóø === –°–∫—É–ª—å–ø—Ç–æ—Ä –¥—É—à –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω –Ω–∞ –ø–æ–∑–∏—Ü–∏–∏: (...) ===
   ```
3. –ï—Å–ª–∏ –ª–æ–≥–æ–≤ –Ω–µ—Ç - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—ã–∑–æ–≤ `_initialize_soul_sculptor()` –≤ `CharacterPreparation.gd`
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ z_index (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å 15)

### –ê–Ω–∏–º–∞—Ü–∏—è –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

**–ü—Ä–æ–±–ª–µ–º–∞:** –ö–∞–¥—Ä—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ 4 —Ñ–∞–π–ª–æ–≤ –≤ `Assets/Sprites/NPC/Sculptor_of_Souls/Idle, 4 Frames/`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–º–µ–Ω–∞ —Ñ–∞–π–ª–æ–≤: `1.png`, `2.png`, `3.png`, `4.png`
3. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –æ—à–∏–±–∫–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏:
   - `‚úÖ –ö–∞–¥—Ä X –∑–∞–≥—Ä—É–∂–µ–Ω` - —É—Å–ø–µ—à–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
   - `‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –∫–∞–¥—Ä` - –æ—à–∏–±–∫–∞ –ø—É—Ç–∏
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `üé¨ –ê–Ω–∏–º–∞—Ü–∏—è idle –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞, –∫–∞–¥—Ä–æ–≤: 4`

### –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

**–ü—Ä–æ–±–ª–µ–º–∞:** –°–æ–±—ã—Ç–∏—è –º—ã—à–∏ –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:**
1. **–¢–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `_input()`** –≤–º–µ—Å—Ç–æ Area2D (—Ç.–∫. Control –±–ª–æ–∫–∏—Ä—É–µ—Ç Area2D)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏:
   ```
   üñ±Ô∏è –ö—É—Ä—Å–æ—Ä –Ω–∞–≤–µ–¥–µ–Ω –Ω–∞ –°–∫—É–ª—å–ø—Ç–æ—Ä–∞ –¥—É—à
   ‚ú® –ü—Ä–∏–º–µ–Ω—è—é –ø–æ–¥—Å–≤–µ—Ç–∫—É: Color(1.5, 1.5, 1.5, 1.0)
   ```
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑–º–µ—Ä `interaction_rect`: `Rect2(-150, -225, 300, 450)` –¥–ª—è scale 3.0
4. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ `_input()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è (–¥–æ–±–∞–≤—å—Ç–µ `print("_input –≤—ã–∑–≤–∞–Ω")`)
5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≥–ª–æ–±–∞–ª—å–Ω—É—é –ø–æ–∑–∏—Ü–∏—é NPC (`global_position`)

**–ü–æ—á–µ–º—É –Ω–µ Area2D?**  
CharacterPreparation extends Control, –∫–æ—Ç–æ—Ä—ã–π –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –≤—Å–µ —Å–æ–±—ã—Ç–∏—è –º—ã—à–∏ –¥–æ Area2D. –ü–æ—ç—Ç–æ–º—É –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä—è–º–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —á–µ—Ä–µ–∑ `_input()` —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π `Rect2.has_point()`.

### –ö—É—Ä—Å–æ—Ä –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è:

**–ü—Ä–æ–±–ª–µ–º–∞:** –°–∏–≥–Ω–∞–ª—ã –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω—ã

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ `mouse_entered` –∏ `mouse_exited`
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ `Input.set_default_cursor_shape()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è

## üìä –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ:

```gdscript
# –¢–µ–∫—É—â–µ–µ: —Å–ø—Ä–∞–≤–∞ –∏ –≤—ã—à–µ –æ—Ç –∫–æ–ª–æ–¥—Ü–∞
soul_sculptor.position = Vector2(viewport_size.x / 2 + 500, viewport_size.y - 350)

# –ë–ª–∏–∂–µ –∫ —Ü–µ–Ω—Ç—Ä—É:
soul_sculptor.position = Vector2(viewport_size.x / 2 + 250, viewport_size.y - 200)

# –°–ª–µ–≤–∞ –æ—Ç –∫–æ–ª–æ–¥—Ü–∞:
soul_sculptor.position = Vector2(viewport_size.x / 2 - 250, viewport_size.y - 200)

# –ï—â–µ –≤—ã—à–µ:
soul_sculptor.position = Vector2(viewport_size.x / 2 + 500, viewport_size.y - 450)

# –î–∞–ª—å—à–µ –≤–ø—Ä–∞–≤–æ:
soul_sculptor.position = Vector2(viewport_size.x / 2 + 600, viewport_size.y - 350)
```

### –†–∞–∑–º–µ—Ä —Å–ø—Ä–∞–π—Ç–∞:

```gdscript
# –¢–µ–∫—É—â–µ–µ: 3x —É–≤–µ–ª–∏—á–µ–Ω–∏–µ
animated_sprite.scale = Vector2(3.0, 3.0)

# –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä:
animated_sprite.scale = Vector2(1.0, 1.0)

# –ë–æ–ª—å—à–µ:
animated_sprite.scale = Vector2(4.0, 4.0)

# –ú–µ–Ω—å—à–µ:
animated_sprite.scale = Vector2(2.0, 2.0)
```

**–í–∞–∂–Ω–æ:** –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ scale —Ç–∞–∫–∂–µ –∏–∑–º–µ–Ω–∏—Ç–µ —Ä–∞–∑–º–µ—Ä CollisionShape2D:
```gdscript
# –§–æ—Ä–º—É–ª–∞: –±–∞–∑–æ–≤—ã–π_—Ä–∞–∑–º–µ—Ä * scale
shape.size = Vector2(100 * scale, 150 * scale)
```

### –ü–æ–¥—Å–≤–µ—Ç–∫–∞:

```gdscript
# –Ø—Ä—á–µ
tween.tween_property(animated_sprite, "modulate", Color(2.0, 2.0, 2.0, 1.0), 0.2)

# –¢—É—Å–∫–ª–µ–µ
tween.tween_property(animated_sprite, "modulate", Color(1.3, 1.3, 1.3, 1.0), 0.2)

# –ë—ã—Å—Ç—Ä–µ–µ/–º–µ–¥–ª–µ–Ω–Ω–µ–µ
tween.tween_property(animated_sprite, "modulate", Color(1.5, 1.5, 1.5, 1.0), 0.1)  # –ë—ã—Å—Ç—Ä–µ–µ
```

### –û–±–ª–∞—Å—Ç—å –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è:

```gdscript
# –¢–µ–∫—É—â–µ–µ (–¥–ª—è scale 3.0):
var interaction_size = Vector2(300, 450)
interaction_rect = Rect2(-interaction_size / 2, interaction_size)

# –ë–æ–ª—å—à–µ:
var interaction_size = Vector2(400, 600)

# –ú–µ–Ω—å—à–µ:
var interaction_size = Vector2(200, 300)

# –î–ª—è scale 1.0:
var interaction_size = Vector2(100, 150)

# Rect2 —Ü–µ–Ω—Ç—Ä–∏—Ä—É–µ—Ç—Å—è –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –ø–æ–∑–∏—Ü–∏–∏ NPC
# –°–º–µ—â–µ–Ω–∏–µ = -size / 2 (—á—Ç–æ–±—ã —Ü–µ–Ω—Ç—Ä –±—ã–ª –Ω–∞ –ø–æ–∑–∏—Ü–∏–∏ NPC)
```

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 18 –Ω–æ—è–±—Ä—è 2025  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 30 –¥–µ–∫–∞–±—Ä—è 2024  
**–í–µ—Ä—Å–∏—è:** 1.3  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Å –≤–∏–∑—É–∞–ª—å–Ω—ã–º–∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞–º–∏ –∫–≤–µ—Å—Ç–æ–≤  
**–°–º. —Ç–∞–∫–∂–µ:** `QUEST_INDICATORS_SYSTEM.md` - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —Å–∏—Å—Ç–µ–º–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤

