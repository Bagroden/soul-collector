# –§–∏–Ω–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ –∑–∞—Ä—è–¥–æ–≤ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –¥—É—à–∏

## –î–∞—Ç–∞
28 –æ–∫—Ç—è–±—Ä—è 2025

## –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∑–∞—Ä—è–¥–æ–≤

### –ö–æ–≥–¥–∞ –∑–∞—Ä—è–¥—ã –í–û–°–°–¢–ê–ù–ê–í–õ–ò–í–ê–Æ–¢–°–Ø:
‚úÖ **–ü—Ä–∏ –≤—Ö–æ–¥–µ –Ω–∞ —É—Ä–æ–≤–µ–Ω—å** - –∫–æ–≥–¥–∞ –∏–≥—Ä–æ–∫ –Ω–∞–∂–∏–º–∞–µ—Ç "–ù–∞—á–∞—Ç—å –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ"
‚úÖ **–í –∫–æ–º–Ω–∞—Ç–µ –æ—Ç–¥—ã—Ö–∞** - –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `restore_all_charges()`

### –ö–æ–≥–¥–∞ –∑–∞—Ä—è–¥—ã –ù–ï –í–û–°–°–¢–ê–ù–ê–í–õ–ò–í–ê–Æ–¢–°–Ø:
‚ùå –ü—Ä–∏ –≤—Ö–æ–¥–µ –≤ –±–æ–π
‚ùå –ü—Ä–∏ –∏–∑—É—á–µ–Ω–∏–∏ –Ω–æ–≤–æ–π —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
‚ùå –ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –º–µ–Ω—é
‚ùå –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∏–≥—Ä—ã

## –ü—Ä–∏–º–µ—Ä—ã –ø–æ–≤–µ–¥–µ–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –í—Ö–æ–¥ –Ω–∞ –Ω–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å
**–ù–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ**: –∏–≥—Ä–æ–∫ –Ω–∞ —ç–∫—Ä–∞–Ω–µ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞

1. –ò–≥—Ä–æ–∫ –Ω–∞–∂–∏–º–∞–µ—Ç "–ù–∞—á–∞—Ç—å –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ"
2. **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –í—Å–µ –∑–∞—Ä—è–¥—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã (3/3 –µ—Å–ª–∏ –∏–∑—É—á–µ–Ω–∞ –æ–¥–Ω–∞ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å)
3. –ò–≥—Ä–æ–∫ –ø—Ä–æ—Ö–æ–¥–∏—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –±–æ–µ–≤, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∑–∞—Ä—è–¥—ã
4. –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ: 0/3 –∑–∞—Ä—è–¥–∞
5. –ò–≥—Ä–æ–∫ –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–µ—Ç –∏–ª–∏ –∑–∞–≤–µ—Ä—à–∞–µ—Ç –∑–∞–±–µ–≥
6. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –Ω–∞ —ç–∫—Ä–∞–Ω –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏
7. –°–Ω–æ–≤–∞ –Ω–∞–∂–∏–º–∞–µ—Ç "–ù–∞—á–∞—Ç—å –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ"
8. **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ó–∞—Ä—è–¥—ã —Å–Ω–æ–≤–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã (3/3)

### –ü—Ä–∏–º–µ—Ä 2: –ò–∑—É—á–µ–Ω–∏–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ "–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∑–∞—Ä—è–¥ I"
**–ù–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ**: 2/2 –∑–∞—Ä—è–¥–∞

1. –ò–≥—Ä–æ–∫ –∏–∑—É—á–∞–µ—Ç "–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∑–∞—Ä—è–¥ I"
2. –ë–æ–Ω—É—Å –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è: –º–∞–∫—Å–∏–º—É–º —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è 3
3. **–†–µ–∑—É–ª—å—Ç–∞—Ç**: 2/3 –∑–∞—Ä—è–¥–∞ (—Ç–µ–∫—É—â–∏–µ –Ω–µ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è!)
4. –ò–≥—Ä–æ–∫ –∑–∞—Ö–æ–¥–∏—Ç –≤ –∫–æ–º–Ω–∞—Ç—É –æ—Ç–¥—ã—Ö–∞
5. **–†–µ–∑—É–ª—å—Ç–∞—Ç**: 3/3 –∑–∞—Ä—è–¥–∞ (–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –≤ –∫–æ–º–Ω–∞—Ç–µ –æ—Ç–¥—ã—Ö–∞)

### –ü—Ä–∏–º–µ—Ä 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∑–∞—Ä—è–¥–æ–≤ –≤ –±–æ—é
**–ù–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ**: 3/3 –∑–∞—Ä—è–¥–∞

1. –ò–≥—Ä–æ–∫ –≤—Ö–æ–¥–∏—Ç –≤ –±–æ–π
2. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç 1 –∑–∞—Ä—è–¥: 3/3 ‚Üí 2/3
3. –ó–∞–≤–µ—Ä—à–∞–µ—Ç –±–æ–π
4. –í—Ö–æ–¥–∏—Ç –≤ —Å–ª–µ–¥—É—é—â–∏–π –±–æ–π
5. **–†–µ–∑—É–ª—å—Ç–∞—Ç**: 2/3 –∑–∞—Ä—è–¥–∞ (–Ω–µ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –º–µ–∂–¥—É –±–æ—è–º–∏!)
6. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –µ—â–µ 1 –∑–∞—Ä—è–¥: 2/3 ‚Üí 1/3
7. –ó–∞—Ö–æ–¥–∏—Ç –≤ –∫–æ–º–Ω–∞—Ç—É –æ—Ç–¥—ã—Ö–∞
8. **–†–µ–∑—É–ª—å—Ç–∞—Ç**: 3/3 –∑–∞—Ä—è–¥–∞ (–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã!)

### –ü—Ä–∏–º–µ—Ä 4: –ó–∞–≥—Ä—É–∑–∫–∞ –∏–≥—Ä—ã
**–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ**: 1/3 –∑–∞—Ä—è–¥–∞ (1 —Ç–µ–∫—É—â–∏–π, 3 –º–∞–∫—Å–∏–º—É–º)

1. –ò–≥—Ä–æ–∫ –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
2. –ü—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–µ—Ä–µ—Å—á–µ—Ç –±–æ–Ω—É—Å–æ–≤
3. **–†–µ–∑—É–ª—å—Ç–∞—Ç**: 1/3 –∑–∞—Ä—è–¥–∞ (—Ç–µ–∫—É—â–∏–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è!)
4. –ò–≥—Ä–æ–∫ –∑–∞—Ö–æ–¥–∏—Ç –≤ –∫–æ–º–Ω–∞—Ç—É –æ—Ç–¥—ã—Ö–∞
5. **–†–µ–∑—É–ª—å—Ç–∞—Ç**: 3/3 –∑–∞—Ä—è–¥–∞ (–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã!)

## –§—É–Ω–∫—Ü–∏—è –ø–µ—Ä–µ—Å—á–µ—Ç–∞ –±–æ–Ω—É—Å–æ–≤

### –ß—Ç–æ –¥–µ–ª–∞–µ—Ç `recalculate_bonuses_from_learned_abilities()`:
1. ‚úÖ –°–±—Ä–∞—Å—ã–≤–∞–µ—Ç `soul_upgrades` –∫ –Ω—É–ª—é
2. ‚úÖ –ü–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç –±–æ–Ω—É—Å—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏–∑—É—á–µ–Ω–Ω—ã—Ö —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π
3. ‚úÖ –û–±–Ω–æ–≤–ª—è–µ—Ç –º–∞–∫—Å–∏–º—É–º –∑–∞—Ä—è–¥–æ–≤
4. ‚úÖ –ï—Å–ª–∏ `current_charges > max`, —É–º–µ–Ω—å—à–∞–µ—Ç –¥–æ –º–∞–∫—Å–∏–º—É–º–∞
5. ‚ùå –ù–ï –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–∞—Ä—è–¥—ã –¥–æ –º–∞–∫—Å–∏–º—É–º–∞

### –ö–æ–≥–¥–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è:
- –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∏–≥—Ä—ã (SoulRestorationManager._ready())
- –ü—Ä–∏ –≤—Ö–æ–¥–µ –≤ –±–æ–π (battle_manager._ready())

### –ó–∞—á–µ–º –Ω—É–∂–µ–Ω –ø–µ—Ä–µ—Å—á–µ—Ç –ø—Ä–∏ –≤—Ö–æ–¥–µ –≤ –±–æ–π:
–ü–µ—Ä–µ—Å—á–µ—Ç –ø—Ä–∏ –≤—Ö–æ–¥–µ –≤ –±–æ–π –Ω—É–∂–µ–Ω –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω—ã—Ö –æ—à–∏–±–æ–∫ (–µ—Å–ª–∏ –æ–Ω–∏ –±—ã–ª–∏), –Ω–æ **–Ω–µ** –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –∑–∞—Ä—è–¥–æ–≤. –≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –±–æ–Ω—É—Å—ã –≤—Å–µ–≥–¥–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã.

## –õ–æ–≥–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–µ–∫—É—â–∏—Ö –∑–∞—Ä—è–¥–æ–≤

```gdscript
# –ï—Å–ª–∏ —Ç–µ–∫—É—â–∏–µ –∑–∞—Ä—è–¥—ã –±–æ–ª—å—à–µ –Ω–æ–≤–æ–≥–æ –º–∞–∫—Å–∏–º—É–º–∞, —É–º–µ–Ω—å—à–∞–µ–º
if current_charges > get_max_charges():
    current_charges = get_max_charges()
```

**–ö–æ–≥–¥–∞ —ç—Ç–æ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç:**
- –ï—Å–ª–∏ –∏–≥—Ä–æ–∫ "—Ä–∞–∑—É—á–∏–ª" —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å (–≥–∏–ø–æ—Ç–µ—Ç–∏—á–µ—Å–∫–∏–π —Å–ª—É—á–∞–π)
- –ï—Å–ª–∏ –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –Ω–∞–∫–æ–ø–ª–µ–Ω–∏—è (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –ø–∞—Ç—á–∞—Ö)
- –ï—Å–ª–∏ –º–∞–∫—Å–∏–º—É–º —É–º–µ–Ω—å—à–∏–ª—Å—è –ø–æ –¥—Ä—É–≥–∏–º –ø—Ä–∏—á–∏–Ω–∞–º

**–ö–æ–≥–¥–∞ –ù–ï —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç:**
- –ü—Ä–∏ –∏–∑—É—á–µ–Ω–∏–∏ –Ω–æ–≤–æ–π —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ (—Ç–µ–∫—É—â–∏–µ <= –º–∞–∫—Å–∏–º—É–º)
- –ü—Ä–∏ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –∑–∞—Ä—è–¥–æ–≤

## –ö–æ–º–Ω–∞—Ç–∞ –æ—Ç–¥—ã—Ö–∞

### –§—É–Ω–∫—Ü–∏—è `restore_all_charges()`:
```gdscript
func restore_all_charges():
    """–í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤—Å–µ –∑–∞—Ä—è–¥—ã (–≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –≤ –∫–æ–º–Ω–∞—Ç–∞—Ö –æ—Ç–¥—ã—Ö–∞)"""
    current_charges = get_max_charges()
    charges_changed.emit(current_charges, get_max_charges())
```

### –ö–æ–≥–¥–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è:
- –ü—Ä–∏ –≤—Ö–æ–¥–µ –≤ –∫–æ–º–Ω–∞—Ç—É –æ—Ç–¥—ã—Ö–∞ (`_on_rest_room_entered()`)

## –í—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª—å

### –ü—Ä–∏ –ø–µ—Ä–µ—Å—á–µ—Ç–µ –±–æ–Ω—É—Å–æ–≤:
```
=== –ù–ê–ß–ê–õ–û –ü–ï–†–ï–°–ß–ï–¢–ê –ë–û–ù–£–°–û–í –í–û–°–°–¢–ê–ù–û–í–õ–ï–ù–ò–Ø –î–£–®–ò ===
–¢–µ–∫—É—â–∏–µ –±–æ–Ω—É—Å—ã –î–û –ø–µ—Ä–µ—Å—á–µ—Ç–∞:
  –ó–∞—Ä—è–¥—ã: 2
  –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å: 0.1
  –ë–∞—Ä—å–µ—Ä: 80
–ë–æ–Ω—É—Å—ã —Å–±—Ä–æ—à–µ–Ω—ã –∫ –Ω—É–ª—é
–í—Å–µ–≥–æ –∏–∑—É—á–µ–Ω–Ω—ã—Ö —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π: 3
  –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å: soul_restoration_efficiency_1
–ü–µ—Ä–µ—Å—á–µ—Ç: –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —É—Ä–æ–≤–µ–Ω—å 1 = +5.0%
  –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å: soul_restoration_charges_1
–ü–µ—Ä–µ—Å—á–µ—Ç: –ó–∞—Ä—è–¥—ã —É—Ä–æ–≤–µ–Ω—å 1 = +1 –∑–∞—Ä—è–¥
  –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å: soul_restoration_barrier_1
–ü–µ—Ä–µ—Å—á–µ—Ç: –ë–∞—Ä—å–µ—Ä —É—Ä–æ–≤–µ–Ω—å 1 = 40
=== –ò—Ç–æ–≥–æ–≤—ã–µ –±–æ–Ω—É—Å—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –¥—É—à–∏ ===
–ó–∞—Ä—è–¥—ã: +1
–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å: +5.0%
–ë–∞—Ä—å–µ—Ä: 40
–ú–∞–∫—Å–∏–º—É–º –∑–∞—Ä—è–¥–æ–≤: 3
–¢–µ–∫—É—â–∏–µ –∑–∞—Ä—è–¥—ã: 2  ‚Üê –Ω–µ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è!
```

**–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ**: –°—Ç—Ä–æ–∫–∞ "–¢–µ–∫—É—â–∏–µ –∑–∞—Ä—è–¥—ã –ü–û–°–õ–ï –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è" –±–æ–ª—å—à–µ –ù–ï –≤—ã–≤–æ–¥–∏—Ç—Å—è!

### –ï—Å–ª–∏ —Ç–µ–∫—É—â–∏–µ –∑–∞—Ä—è–¥—ã –ø—Ä–µ–≤—ã—à–∞—é—Ç –º–∞–∫—Å–∏–º—É–º:
```
–í–ù–ò–ú–ê–ù–ò–ï: –¢–µ–∫—É—â–∏–µ –∑–∞—Ä—è–¥—ã (5) –±–æ–ª—å—à–µ –º–∞–∫—Å–∏–º—É–º–∞ (3), —É–º–µ–Ω—å—à–∞–µ–º –¥–æ –º–∞–∫—Å–∏–º—É–º–∞
```

## –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ñ–∞–π–ª–∞—Ö

### Scripts/UI/CharacterPreparation.gd
**–î–æ–±–∞–≤–ª–µ–Ω–æ** –≤ `_on_start_journey_button_pressed()`:
```gdscript
# –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞—Ä—è–¥—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –¥—É—à–∏ –ø—Ä–∏ –≤—Ö–æ–¥–µ –Ω–∞ —É—Ä–æ–≤–µ–Ω—å
var soul_restoration_manager = get_node_or_null("/root/SoulRestorationManager")
if soul_restoration_manager:
    soul_restoration_manager.restore_all_charges()
    print("–ó–∞—Ä—è–¥—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –¥—É—à–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø—Ä–∏ –≤—Ö–æ–¥–µ –Ω–∞ —É—Ä–æ–≤–µ–Ω—å")
```

**–ö–æ–≥–¥–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è**: –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –∫–Ω–æ–ø–∫–∏ "–ù–∞—á–∞—Ç—å –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ" –Ω–∞ —ç–∫—Ä–∞–Ω–µ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞.

### Scripts/Systems/SoulRestorationManager.gd
**–£–±—Ä–∞–Ω–æ** –∏–∑ `recalculate_bonuses_from_learned_abilities()`:
- –°—Ç—Ä–æ–∫–∞: `current_charges = get_max_charges()`
- –í—ã–≤–æ–¥: "–¢–µ–∫—É—â–∏–µ –∑–∞—Ä—è–¥—ã –ü–û–°–õ–ï –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è"

**–î–æ–±–∞–≤–ª–µ–Ω–æ**:
- –ü—Ä–æ–≤–µ—Ä–∫–∞: –µ—Å–ª–∏ `current_charges > get_max_charges()`, —É–º–µ–Ω—å—à–∞–µ–º –¥–æ –º–∞–∫—Å–∏–º—É–º–∞
- –í—ã–≤–æ–¥: "–¢–µ–∫—É—â–∏–µ –∑–∞—Ä—è–¥—ã: X"

**–û—Å—Ç–∞–ª–æ—Å—å –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π**:
- `restore_all_charges()` - –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–∞—Ä—è–¥—ã –≤ –∫–æ–º–Ω–∞—Ç–µ –æ—Ç–¥—ã—Ö–∞
- `_on_rest_room_entered()` - –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤—Ö–æ–¥–∞ –≤ –∫–æ–º–Ω–∞—Ç—É –æ—Ç–¥—ã—Ö–∞

## –ü–æ–≤–µ–¥–µ–Ω–∏–µ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–µ–π—Å—Ç–≤–∏–π:
1. –ò–∑—É—á–∏—Ç–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å —Ä–∞–∑–≤–∏—Ç–∏—è –¥—É—à–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∑–∞—Ä—è–¥ I")
2. –ó–∞—Ä—è–¥—ã —Å—Ç–∞–Ω—É—Ç 2/3 (–µ—Å–ª–∏ –±—ã–ª–æ 2/2)
3. –ó–∞–π–¥–∏—Ç–µ –≤ **–∫–æ–º–Ω–∞—Ç—É –æ—Ç–¥—ã—Ö–∞**
4. –ó–∞—Ä—è–¥—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –¥–æ 3/3
5. –¢–µ–ø–µ—Ä—å –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—Å–µ 3 –∑–∞—Ä—è–¥–∞!

### –°—Ç—Ä–∞—Ç–µ–≥–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
- –≠–∫–æ–Ω–æ–º—å—Ç–µ –∑–∞—Ä—è–¥—ã –º–µ–∂–¥—É –±–æ—è–º–∏
- –ü–ª–∞–Ω–∏—Ä—É–π—Ç–µ –º–∞—Ä—à—Ä—É—Ç —á–µ—Ä–µ–∑ –∫–æ–º–Ω–∞—Ç—ã –æ—Ç–¥—ã—Ö–∞
- –ü–æ—Å–ª–µ –∏–∑—É—á–µ–Ω–∏—è –Ω–æ–≤–æ–π —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –∑–∞—Ä—è–¥–æ–≤ - –ø–æ—Å–µ—Ç–∏—Ç–µ –∫–æ–º–Ω–∞—Ç—É –æ—Ç–¥—ã—Ö–∞ –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è

## –ü–æ—á–µ–º—É —Ç–∞–∫–∞—è –ª–æ–≥–∏–∫–∞?

### –ò–≥—Ä–æ–≤–æ–π –±–∞–ª–∞–Ω—Å:
1. **–†–µ—Å—É—Ä—Å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ü–µ–Ω–Ω—ã–º**: –ï—Å–ª–∏ –∑–∞—Ä—è–¥—ã –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –æ–Ω–∏ —Ç–µ—Ä—è—é—Ç —Ü–µ–Ω–Ω–æ—Å—Ç—å
2. **–ö–æ–º–Ω–∞—Ç—ã –æ—Ç–¥—ã—Ö–∞ –≤–∞–∂–Ω—ã**: –ò–≥—Ä–æ–∫ –¥–æ–ª–∂–µ–Ω –ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –º–∞—Ä—à—Ä—É—Ç –∏ —Ü–µ–Ω–∏—Ç—å –∫–æ–º–Ω–∞—Ç—ã –æ—Ç–¥—ã—Ö–∞
3. **–°—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ò–≥—Ä–æ–∫ –¥–æ–ª–∂–µ–Ω —Ä–µ—à–∞—Ç—å, –∫–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∑–∞—Ä—è–¥—ã

### –õ–æ–≥–∏–∫–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∏–∏:
1. **–ò–∑—É—á–µ–Ω–∏–µ ‚â† –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ**: –ò–∑—É—á–µ–Ω–∏–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –¥–∞–µ—Ç –Ω–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏, –Ω–æ –Ω–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±–æ–Ω—É—Å—ã
2. **–û—Ç–¥—ã—Ö = –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ**: –ö–æ–º–Ω–∞—Ç–∞ –æ—Ç–¥—ã—Ö–∞ - —ç—Ç–æ –º–µ—Å—Ç–æ –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤
3. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–µ–∂–¥—É –±–æ—è–º–∏**: –ù–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ –∑–∞—Ä—è–¥—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è, —á—Ç–æ –ø–æ–æ—â—Ä—è–µ—Ç —ç–∫–æ–Ω–æ–º–Ω–æ—Å—Ç—å

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ (–µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ö–æ—á–µ—Ç)

–ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ, —á—Ç–æ–±—ã –∑–∞—Ä—è–¥—ã –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–ª–∏—Å—å –ø—Ä–∏ –∏–∑—É—á–µ–Ω–∏–∏ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏, –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ `_learn_soul_development_ability()`:

```gdscript
# –ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
ability.execute_ability(player_data)

# –ï—Å–ª–∏ —ç—Ç–æ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –∑–∞—Ä—è–¥–æ–≤, –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏—Ö
if "charges" in ability_id:
    var soul_restoration_manager = get_node_or_null("/root/SoulRestorationManager")
    if soul_restoration_manager:
        soul_restoration_manager.restore_all_charges()
```

–ù–æ **–Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è** –ø–æ –ø—Ä–∏—á–∏–Ω–∞–º –±–∞–ª–∞–Ω—Å–∞!

## –†–µ–∑—É–ª—å—Ç–∞—Ç
‚úÖ –ó–∞—Ä—è–¥—ã –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –ø—Ä–∏ –≤—Ö–æ–¥–µ –Ω–∞ —É—Ä–æ–≤–µ–Ω—å (–Ω–∞—á–∞–ª–æ –∑–∞–±–µ–≥–∞)
‚úÖ –ó–∞—Ä—è–¥—ã –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –≤ –∫–æ–º–Ω–∞—Ç–µ –æ—Ç–¥—ã—Ö–∞
‚úÖ –ò–∑—É—á–µ–Ω–∏–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –º–∞–∫—Å–∏–º—É–º, –Ω–æ –Ω–µ —Ç–µ–∫—É—â–∏–µ –∑–∞—Ä—è–¥—ã
‚úÖ –ó–∞—Ä—è–¥—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –º–µ–∂–¥—É –±–æ—è–º–∏
‚úÖ –ü–µ—Ä–µ—Å—á–µ—Ç –±–æ–Ω—É—Å–æ–≤ –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ —Ç–µ–∫—É—â–∏–µ –∑–∞—Ä—è–¥—ã (—Ç–æ–ª—å–∫–æ –∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç –æ—à–∏–±–∫–∏)
‚úÖ –õ–æ–≥–∏–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∏–≥—Ä–æ–≤–æ–º—É –±–∞–ª–∞–Ω—Å—É

## –ö—Ä–∞—Ç–∫–æ–µ —Ä–µ–∑—é–º–µ

**–ó–∞—Ä—è–¥—ã –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è:**
1. üéÆ –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ "–ù–∞—á–∞—Ç—å –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ" (–Ω–∞—á–∞–ª–æ –Ω–æ–≤–æ–≥–æ –∑–∞–±–µ–≥–∞)
2. üõèÔ∏è –ü—Ä–∏ –≤—Ö–æ–¥–µ –≤ –∫–æ–º–Ω–∞—Ç—É –æ—Ç–¥—ã—Ö–∞

**–ó–∞—Ä—è–¥—ã –ù–ï –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è:**
- –ú–µ–∂–¥—É –±–æ—è–º–∏
- –ü—Ä–∏ –∏–∑—É—á–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π
- –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∏–≥—Ä—ã

–≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –±–∞–ª–∞–Ω—Å: –∏–≥—Ä–æ–∫ –Ω–∞—á–∏–Ω–∞–µ—Ç –∫–∞–∂–¥—ã–π –∑–∞–±–µ–≥ —Å –ø–æ–ª–Ω—ã–º–∏ –∑–∞—Ä—è–¥–∞–º–∏, –Ω–æ –¥–æ–ª–∂–µ–Ω —ç–∫–æ–Ω–æ–º–Ω–æ –∏—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏ –∏—Å–∫–∞—Ç—å –∫–æ–º–Ω–∞—Ç—ã –æ—Ç–¥—ã—Ö–∞ –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è.

