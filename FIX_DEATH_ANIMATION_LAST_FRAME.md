# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–Ω–∏–º–∞—Ü–∏–∏ —Å–º–µ—Ä—Ç–∏ - –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–º –∫–∞–¥—Ä–µ

## üéØ –ü—Ä–æ–±–ª–µ–º–∞:
–ü–µ—Ä—Å–æ–Ω–∞–∂ –ø—Ä–∏ —Å–º–µ—Ä—Ç–∏ –ø–∞–¥–∞–µ—Ç –∏ –ø–∞–¥–∞–µ—Ç –∑–∞—Ü–∏–∫–ª–µ–Ω–æ, –ø–æ—Ç–æ–º—É —á—Ç–æ –∞–Ω–∏–º–∞—Ü–∏—è —Å–º–µ—Ä—Ç–∏ –±—ã–ª–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –∫–∞–∫ –∑–∞—Ü–∏–∫–ª–µ–Ω–Ω–∞—è.

## üîç –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã:

### **1. –ü—Ä–æ–±–ª–µ–º–∞ –≤ –∑–∞—Ü–∏–∫–ª–∏–≤–∞–Ω–∏–∏:**
- ‚ùå **–ê–Ω–∏–º–∞—Ü–∏—è —Å–º–µ—Ä—Ç–∏ –∑–∞—Ü–∏–∫–ª–∏–≤–∞–µ—Ç—Å—è** - `sprite_frames.set_animation_loop(die_anim, true)`
- ‚ùå **–ü–µ—Ä—Å–æ–Ω–∞–∂ –ø–∞–¥–∞–µ—Ç –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ** - –∞–Ω–∏–º–∞—Ü–∏—è –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è
- ‚ùå **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ** - –ø–µ—Ä—Å–æ–Ω–∞–∂ –¥–æ–ª–∂–µ–Ω —É–ø–∞—Å—Ç—å –∏ –æ—Å—Ç–∞—Ç—å—Å—è

### **2. –ü—Ä–∏—á–∏–Ω–∞:**
–£—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ –∞–Ω–∏–º–∞—Ü–∏—é —Å–º–µ—Ä—Ç–∏ –∫–∞–∫ –∑–∞—Ü–∏–∫–ª–µ–Ω–Ω—É—é, —á—Ç–æ –ø—Ä–∏–≤–µ–ª–æ –∫ –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–º—É –ø–∞–¥–µ–Ω–∏—é.

## üõ†Ô∏è –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

### **1. –£–±—Ä–∞–ª–∏ –∑–∞—Ü–∏–∫–ª–∏–≤–∞–Ω–∏–µ –∞–Ω–∏–º–∞—Ü–∏–∏ —Å–º–µ—Ä—Ç–∏:**
```gdscript
func play_die() -> void:
	if has_animation(die_anim):
		# –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é
		animation = die_anim
		play(die_anim)
		# –ù–ï —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞—Ü–∏–∫–ª–∏–≤–∞–Ω–∏–µ - –∞–Ω–∏–º–∞—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –∑–∞–≤–µ—Ä—à–∏—Ç—å—Å—è
		print("–ê–Ω–∏–º–∞—Ü–∏—è —Å–º–µ—Ä—Ç–∏ –ù–ï –∑–∞—Ü–∏–∫–ª–∏–≤–∞–µ—Ç—Å—è")
		# –ü–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –∫ —Å–∏–≥–Ω–∞–ª—É –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è, —á—Ç–æ–±—ã –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–º –∫–∞–¥—Ä–µ
		animation_finished.connect(_on_die_animation_finished, CONNECT_ONE_SHOT)
```

### **2. –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–º –∫–∞–¥—Ä–µ –∞–Ω–∏–º–∞—Ü–∏–∏ —Å–º–µ—Ä—Ç–∏:**
```gdscript
func _on_die_animation_finished():
	print("–ê–Ω–∏–º–∞—Ü–∏—è —Å–º–µ—Ä—Ç–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ –¥–ª—è ", get_parent().name)
	# –ù–ï –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—Å—è –∫ idle - –ø–µ—Ä—Å–æ–Ω–∞–∂ –º–µ—Ä—Ç–≤!
	print("–ü–µ—Ä—Å–æ–Ω–∞–∂ –º–µ—Ä—Ç–≤, –ù–ï –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—Å—è –∫ idle")
	# –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–º –∫–∞–¥—Ä–µ —Å–º–µ—Ä—Ç–∏
	stop()
	# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø–æ—Å–ª–µ–¥–Ω–∏–π –∫–∞–¥—Ä –∞–Ω–∏–º–∞—Ü–∏–∏ —Å–º–µ—Ä—Ç–∏ –∫–∞–∫ —Ç–µ–∫—É—â–∏–π
	if sprite_frames and sprite_frames.has_animation(die_anim):
		var die_animation = sprite_frames.get_animation(die_anim)
		var last_frame = die_animation.get_frame_count() - 1
		frame = last_frame
		print("–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ø–æ—Å–ª–µ–¥–Ω–∏–π –∫–∞–¥—Ä –∞–Ω–∏–º–∞—Ü–∏–∏ —Å–º–µ—Ä—Ç–∏: ", last_frame)
	print("–ê–Ω–∏–º–∞—Ü–∏—è –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–º –∫–∞–¥—Ä–µ —Å–º–µ—Ä—Ç–∏")
```

## üéÆ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:

### **1. –û—Ç–ª–∞–¥–æ—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–∫–∞–∂—É—Ç:**
```
–ò–≥—Ä–æ–∫ –ø–æ–≥–∏–±, –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é —Å–º–µ—Ä—Ç–∏...
Visual –Ω–∞–π–¥–µ–Ω: Visual:<AnimatedSprite2D#193290307301>
–í—ã–∑—ã–≤–∞–µ–º play_die()
play_die() –≤—ã–∑–≤–∞–Ω –¥–ª—è PlayerBody
die_anim = die
has_animation(die_anim) = true
sprite_frames = [SpriteFrames:1234]
current animation = idle
–ü—Ä–æ–∏–≥—Ä—ã–≤–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é —Å–º–µ—Ä—Ç–∏: die
–ê–Ω–∏–º–∞—Ü–∏—è –∑–∞–ø—É—â–µ–Ω–∞, —Ç–µ–∫—É—â–∞—è –∞–Ω–∏–º–∞—Ü–∏—è: die
–ê–Ω–∏–º–∞—Ü–∏—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ
–ê–Ω–∏–º–∞—Ü–∏—è —Å–º–µ—Ä—Ç–∏ –ù–ï –∑–∞—Ü–∏–∫–ª–∏–≤–∞–µ—Ç—Å—è
play_die() –≤—ã–∑–≤–∞–Ω (–±–µ–∑ await, –∫–∞–∫ —É –≤—Ä–∞–≥–æ–≤)
–ê–Ω–∏–º–∞—Ü–∏—è —Å–º–µ—Ä—Ç–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ –¥–ª—è PlayerBody
–¢–µ–∫—É—â–∞—è –∞–Ω–∏–º–∞—Ü–∏—è –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è: die
–ü–µ—Ä—Å–æ–Ω–∞–∂ –º–µ—Ä—Ç–≤, –ù–ï –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—Å—è –∫ idle
–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ø–æ—Å–ª–µ–¥–Ω–∏–π –∫–∞–¥—Ä –∞–Ω–∏–º–∞—Ü–∏–∏ —Å–º–µ—Ä—Ç–∏: 10
–ê–Ω–∏–º–∞—Ü–∏—è –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–º –∫–∞–¥—Ä–µ —Å–º–µ—Ä—Ç–∏
–°–æ–æ–±—â–µ–Ω–∏–µ: –¢—ã –ø–æ–≥–∏–±. –î—É—à–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è.
```

### **2. –†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ **–ê–Ω–∏–º–∞—Ü–∏—è —Å–º–µ—Ä—Ç–∏ –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–µ—Ç—Å—è** - `play_die()` —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ **–ê–Ω–∏–º–∞—Ü–∏—è –ù–ï –∑–∞—Ü–∏–∫–ª–∏–≤–∞–µ—Ç—Å—è** - –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ
- ‚úÖ **–û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–º –∫–∞–¥—Ä–µ** - –ø–µ—Ä—Å–æ–Ω–∞–∂ –æ—Å—Ç–∞–µ—Ç—Å—è –º–µ—Ä—Ç–≤—ã–º
- ‚úÖ **–ù–ï –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –∫ idle** - –ø–µ—Ä—Å–æ–Ω–∞–∂ –æ—Å—Ç–∞–µ—Ç—Å—è –≤ –ø–æ–∑–µ —Å–º–µ—Ä—Ç–∏

## ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é!

–¢–µ–ø–µ—Ä—å —Å–∏—Å—Ç–µ–º–∞:
- ‚úÖ **–ê–Ω–∏–º–∞—Ü–∏—è —Å–º–µ—Ä—Ç–∏ –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–µ—Ç—Å—è** - `play_die()` —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ **–ê–Ω–∏–º–∞—Ü–∏—è –ù–ï –∑–∞—Ü–∏–∫–ª–∏–≤–∞–µ—Ç—Å—è** - –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ
- ‚úÖ **–û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–º –∫–∞–¥—Ä–µ** - –ø–µ—Ä—Å–æ–Ω–∞–∂ –æ—Å—Ç–∞–µ—Ç—Å—è –º–µ—Ä—Ç–≤—ã–º
- ‚úÖ **–ù–ï –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –∫ idle** - –ø–µ—Ä—Å–æ–Ω–∞–∂ –æ—Å—Ç–∞–µ—Ç—Å—è –≤ –ø–æ–∑–µ —Å–º–µ—Ä—Ç–∏

**–¢–µ–ø–µ—Ä—å –∞–Ω–∏–º–∞—Ü–∏—è —Å–º–µ—Ä—Ç–∏ –¥–æ–ª–∂–Ω–∞ –ø—Ä–æ–∏–≥—Ä–∞—Ç—å—Å—è –∏ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–º –∫–∞–¥—Ä–µ!** üéÆüíÄ
