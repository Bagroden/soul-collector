# üé¨ –ì–∞–π–¥ –ø–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—é –∑–≤—É–∫–æ–≤ –∏ –∞–Ω–∏–º–∞—Ü–∏–π –∫ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—è–º

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:
1. [–ó–≤—É–∫–∏ –¥–ª—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π](#–∑–≤—É–∫–∏-–¥–ª—è-—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π)
2. [–ê–Ω–∏–º–∞—Ü–∏–∏ –∞—Ç–∞–∫–∏](#–∞–Ω–∏–º–∞—Ü–∏–∏-–∞—Ç–∞–∫–∏)
3. [–í–∏–∑—É–∞–ª—å–Ω—ã–µ —Å–Ω–∞—Ä—è–¥—ã](#–≤–∏–∑—É–∞–ª—å–Ω—ã–µ-—Å–Ω–∞—Ä—è–¥—ã)
4. [–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è](#—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è)
5. [–ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞](#–ø—Ä–∏–º–µ—Ä—ã-–∫–æ–¥–∞)

---

## üîä –ó–≤—É–∫–∏ –¥–ª—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π

### **–ì–¥–µ –¥–æ–±–∞–≤–ª—è—Ç—å –∑–≤—É–∫–∏:**

#### **–î–ª—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π –≤—Ä–∞–≥–æ–≤:**
–§–∞–π–ª: `Scripts/Abilities/EnemyAbility.gd`

–ó–≤—É–∫–∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤ —Ñ—É–Ω–∫—Ü–∏–∏ `use_ability()` –≤ –±–ª–æ–∫–µ:
```gdscript
# –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º –∑–≤—É–∫–∏ –¥–ª—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π
if SoundManager:
    match id:
        "—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å_id":
            SoundManager.play_sound("sound_name", -5.0)
```

**–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ –≤ –∫–æ–¥–µ:** –°—Ç—Ä–æ–∫–∏ 192-212

#### **–î–ª—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π –∏–≥—Ä–æ–∫–∞:**
–§–∞–π–ª: `Scripts/Abilities/PlayerAbility.gd` (–±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å)
–ò–ª–∏ –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏, –Ω–∞—Å–ª–µ–¥—É—é—â–µ–π `PlayerAbility`

---

### **–ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –∑–≤—É–∫ –∫ –Ω–æ–≤–æ–π —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏:**

#### **–®–∞–≥ 1: –î–æ–±–∞–≤—å—Ç–µ –∑–≤—É–∫ –≤ SoundManager**

–§–∞–π–ª: `Scripts/SoundManager.gd`

```gdscript
func _ready():
    # –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–π –∑–≤—É–∫
    sounds["new_ability_sound"] = preload("res://Audio/Effects/new_ability.ogg")
```

#### **–®–∞–≥ 2: –í—ã–∑–æ–≤–∏—Ç–µ –∑–≤—É–∫ –≤ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏**

**–î–ª—è –≤—Ä–∞–≥–∞ (EnemyAbility.gd):**
```gdscript
# –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º –∑–≤—É–∫–∏ –¥–ª—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π
if SoundManager:
    match id:
        "new_ability_id":
            SoundManager.play_sound("new_ability_sound", -5.0)  # -5.0 dB –≥—Ä–æ–º–∫–æ—Å—Ç—å
```

**–î–ª—è –∏–≥—Ä–æ–∫–∞ (–≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏):**
```gdscript
func use_ability(owner: Node, _target: Node = null) -> Dictionary:
    # –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º –∑–≤—É–∫
    if SoundManager:
        SoundManager.play_sound("ability_sound", -5.0)
    
    # ... –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
```

---

### **–¢–∞–±–ª–∏—Ü–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∑–≤—É–∫–æ–≤:**

| –ó–≤—É–∫ | ID | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ |
|------|----|-----------------|
| –£–¥–∞—Ä –º–µ—á–æ–º | `sword_hit` | –§–∏–∑–∏—á–µ—Å–∫–∏–µ –∞—Ç–∞–∫–∏ |
| –ú–∞–≥–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä–µ–ª–∞ | `magic_arrow` | –ú–∞–≥–∏—á–µ—Å–∫–∏–µ —Å–Ω–∞—Ä—è–¥—ã |
| –£–∫—É—Å –∫—Ä—ã—Å—ã | `rat_bite` | –ö—Ä—ã—Å–∏–Ω—ã–π —É–∫—É—Å |
| –ê—Ç–∞–∫–∞ –ª–µ—Ç—É—á–µ–π –º—ã—à–∏ | `bat_attack` | –ü–∏–∫–∏—Ä–æ–≤–∞–Ω–∏–µ –º—ã—à–∏ |

---

## üé¨ –ê–Ω–∏–º–∞—Ü–∏–∏ –∞—Ç–∞–∫–∏

### **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∞–Ω–∏–º–∞—Ü–∏–π –ø–µ—Ä—Å–æ–Ω–∞–∂–∞:**

–ö–∞–∂–¥—ã–π –ø–µ—Ä—Å–æ–Ω–∞–∂ –∏–º–µ–µ—Ç —É–∑–µ–ª `Visual` (AnimatedSprite2D) —Å –∞–Ω–∏–º–∞—Ü–∏—è–º–∏:
- **`idle`** - —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–∫–æ—è
- **`attack`** - –∞–Ω–∏–º–∞—Ü–∏—è –∞—Ç–∞–∫–∏
- **`hurt`** - –∞–Ω–∏–º–∞—Ü–∏—è –ø–æ–ª—É—á–µ–Ω–∏—è —É—Ä–æ–Ω–∞
- **`die`** - –∞–Ω–∏–º–∞—Ü–∏—è —Å–º–µ—Ä—Ç–∏

---

### **–ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∞–Ω–∏–º–∞—Ü–∏—é –∞—Ç–∞–∫–∏:**

#### **–ú–µ—Ç–æ–¥ 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ (–¥–ª—è –æ–±—ã—á–Ω—ã—Ö –∞—Ç–∞–∫)**

–í `battle_manager.gd` –∞–Ω–∏–º–∞—Ü–∏—è –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:

```gdscript
# –î–ª—è –∏–≥—Ä–æ–∫–∞ (—Å—Ç—Ä–æ–∫–∞ 488-490)
var visual = player_node.get_node_or_null("Visual")
if visual and visual.has_method("play_attack"):
    visual.play_attack()

# –î–ª—è –≤—Ä–∞–≥–∞ (—Å—Ç—Ä–æ–∫–∞ 794-796)
var enemy_visual = enemy_node.get_node_or_null("Visual")
if enemy_visual and enemy_visual.has_method("play_attack"):
    enemy_visual.play_attack()
```

#### **–ú–µ—Ç–æ–¥ 2: –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ (–¥–ª—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π —Å–æ —Å–ø–µ—Ü—ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏)**

–î–ª—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π, —Ç—Ä–µ–±—É—é—â–∏—Ö —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –º–∞–≥–∏—á–µ—Å–∫–∏–µ —Å—Ç—Ä–µ–ª—ã):

```gdscript
# –ó–∞–ø—É—Å–∫–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é –∞—Ç–∞–∫–∏
var visual_node = character.get_node_or_null("Visual")
if visual_node and visual_node.has_method("play_attack"):
    visual_node.play_attack()

# –ñ–¥—ë–º –º–æ–º–µ–Ω—Ç–∞ –≤ –∞–Ω–∏–º–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤–∑–º–∞—Ö –ø–æ—Å–æ—Ö–∞)
await get_tree().create_timer(0.4).timeout

# –°–æ–∑–¥–∞—ë–º –≤–∏–∑—É–∞–ª—å–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç
_spawn_visual_effect()
```

---

### **–ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å –∞–Ω–∏–º–∞—Ü–∏—é –¥–ª—è –Ω–æ–≤–æ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞:**

#### **–®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ —Å–ø—Ä–∞–π—Ç—ã**
- –°–æ–∑–¥–∞–π—Ç–µ —Å–ø—Ä–∞–π—Ç—à–∏—Ç —Å –∫–∞–¥—Ä–∞–º–∏ –∞–Ω–∏–º–∞—Ü–∏–∏
- –ü–æ–º–µ—Å—Ç–∏—Ç–µ –≤ `Assets/Sprites/`

#### **–®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ AnimatedSprite2D**
1. –í —Å—Ü–µ–Ω–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ –¥–æ–±–∞–≤—å—Ç–µ —É–∑–µ–ª `AnimatedSprite2D` —Å –∏–º–µ–Ω–µ–º `Visual`
2. –°–æ–∑–¥–∞–π—Ç–µ `SpriteFrames`
3. –î–æ–±–∞–≤—å—Ç–µ –∞–Ω–∏–º–∞—Ü–∏–∏: `idle`, `attack`, `hurt`, `die`
4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ FPS –¥–ª—è –∫–∞–∂–¥–æ–π –∞–Ω–∏–º–∞—Ü–∏–∏

#### **–®–∞–≥ 3: –ü—Ä–∏–∫—Ä–µ–ø–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç**

–§–∞–π–ª: `Scripts/Battle/character_visual.gd`

```gdscript
extends AnimatedSprite2D

@export var idle_anim: StringName = "idle"
@export var attack_anim: StringName = "attack"
@export var hurt_anim: StringName = "hurt"
@export var die_anim: StringName = "die"
```

---

## üéØ –í–∏–∑—É–∞–ª—å–Ω—ã–µ —Å–Ω–∞—Ä—è–¥—ã

### **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–∏–∑—É–∞–ª—å–Ω—ã–µ —Å–Ω–∞—Ä—è–¥—ã:**

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–∏–∑—É–∞–ª—å–Ω—ã–µ —Å–Ω–∞—Ä—è–¥—ã –¥–ª—è:
- ‚úÖ –ú–∞–≥–∏—á–µ—Å–∫–∏—Ö –∞—Ç–∞–∫ –Ω–∞ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–∏
- ‚úÖ –°—Ç—Ä–µ–ª –∏ –º–µ—Ç–∞—Ç–µ–ª—å–Ω—ã—Ö —Å–Ω–∞—Ä—è–¥–æ–≤
- ‚úÖ –õ—é–±—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤, –ª–µ—Ç—è—â–∏—Ö –æ—Ç –∞—Ç–∞–∫—É—é—â–µ–≥–æ –∫ —Ü–µ–ª–∏

**–ù–ï –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–ª—è:**
- ‚ùå –ë–ª–∏–∂–Ω–∏—Ö –∞—Ç–∞–∫
- ‚ùå –ú–≥–Ω–æ–≤–µ–Ω–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤
- ‚ùå AOE —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π

---

### **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ —Å–Ω–∞—Ä—è–¥–∞:**

#### **–§–∞–π–ª —Å—Ü–µ–Ω—ã:** `Scenes/Battle/ProjectileName.tscn`

```
[node name="ProjectileName" type="AnimatedSprite2D"]
script = ProjectileScript.gd
```

#### **–§–∞–π–ª —Å–∫—Ä–∏–ø—Ç–∞:** `Scripts/Battle/ProjectileName.gd`

```gdscript
extends AnimatedSprite2D
class_name ProjectileName

@export var speed: float = 1000.0  # –°–∫–æ—Ä–æ—Å—Ç—å –ø–æ–ª—ë—Ç–∞
@export var arc_height: float = 50.0  # –í—ã—Å–æ—Ç–∞ –¥—É–≥–∏ (–¥–ª—è –ø–∞—Ä–∞–±–æ–ª—ã)

var target_position: Vector2
var start_position: Vector2
var flight_time: float = 0.0
var max_flight_time: float = 1.0

func setup(from: Vector2, to: Vector2, index: int = 0):
    """–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–ª—ë—Ç–∞"""
    start_position = from
    target_position = to
    global_position = from
    
    # –ü–æ–≤–æ—Ä–∞—á–∏–≤–∞–µ–º –∫ —Ü–µ–ª–∏
    look_at(target_position)
    
    # –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –≤—Ä–µ–º—è –ø–æ–ª—ë—Ç–∞
    var distance = start_position.distance_to(target_position)
    max_flight_time = distance / speed
    
    # –ó–∞–ø—É—Å–∫–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é
    if sprite_frames and sprite_frames.has_animation("default"):
        play("default")

func _process(delta: float):
    if flight_time >= max_flight_time:
        # –î–æ—Å—Ç–∏–≥–ª–∏ —Ü–µ–ª–∏ - —É–¥–∞–ª—è–µ–º
        queue_free()
        return
    
    flight_time += delta
    var progress = flight_time / max_flight_time
    
    # –õ–∏–Ω–µ–π–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ
    var linear_pos = start_position.lerp(target_position, progress)
    
    # –î–æ–±–∞–≤–ª—è–µ–º –ø–∞—Ä–∞–±–æ–ª—É (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
    var arc_offset = sin(progress * PI) * arc_height
    global_position = linear_pos + Vector2(0, -arc_offset)
    
    # –ü–æ–≤–æ—Ä–æ—Ç –ø–æ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—é –¥–≤–∏–∂–µ–Ω–∏—è
    var arc_derivative = cos(progress * PI) * PI * arc_height / max_flight_time
    var tangent_angle = atan2(
        (target_position.y - start_position.y) / max_flight_time - arc_derivative,
        (target_position.x - start_position.x) / max_flight_time
    )
    rotation = tangent_angle
```

---

### **–ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å –≤–∏–∑—É–∞–ª—å–Ω—ã–π —Å–Ω–∞—Ä—è–¥:**

#### **–®–∞–≥ 1: –°–æ–∑–¥–∞–π—Ç–µ —Å—Ü–µ–Ω—É —Å–Ω–∞—Ä—è–¥–∞**

1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é —Å—Ü–µ–Ω—É –≤ `Scenes/Battle/`
2. –ö–æ—Ä–Ω–µ–≤–æ–π —É–∑–µ–ª: `AnimatedSprite2D`
3. –ü—Ä–∏–∫—Ä–µ–ø–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç —Å–Ω–∞—Ä—è–¥–∞
4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–Ω–∏–º–∞—Ü–∏—é

#### **–®–∞–≥ 2: –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Å—Ü–µ–Ω—É –≤ battle_manager**

–§–∞–π–ª: `Scripts/Battle/battle_manager.gd`

```gdscript
# –í –Ω–∞—á–∞–ª–µ —Ñ–∞–π–ª–∞
const ProjectileScene = preload("res://Scenes/Battle/YourProjectile.tscn")
```

#### **–®–∞–≥ 3: –°–æ–∑–¥–∞–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–Ω–∞—Ä—è–¥–æ–≤**

```gdscript
func _spawn_projectiles(from_character: Node2D, to_character: Node2D, count: int):
    """–°–æ–∑–¥–∞—ë—Ç –≤–∏–∑—É–∞–ª—å–Ω—ã–µ —Å–Ω–∞—Ä—è–¥—ã"""
    if not ProjectileScene:
        return
    
    # –ü–æ–ª—É—á–∞–µ–º –ø–æ–∑–∏—Ü–∏–∏
    var from_pos = from_character.global_position
    var to_pos = to_character.global_position
    
    # –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø–æ–∑–∏—Ü–∏—é Visual, –µ—Å–ª–∏ –µ—Å—Ç—å
    if from_character.has_node("Visual"):
        from_pos = from_character.get_node("Visual").global_position
    if to_character.has_node("Visual"):
        to_pos = to_character.get_node("Visual").global_position
    
    # –°–º–µ—â–µ–Ω–∏–µ —Ç–æ—á–∫–∏ –≤—ã–ª–µ—Ç–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
    var is_enemy = from_character.global_position.x > to_character.global_position.x
    if is_enemy:
        from_pos += Vector2(-30, -80)  # –ò–∑ –ø–æ—Å–æ—Ö–∞/—Ä—É–∫–∏
    else:
        from_pos += Vector2(30, -80)
    
    # –°–æ–∑–¥–∞—ë–º —Å–Ω–∞—Ä—è–¥—ã —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π
    for i in range(count):
        var projectile = ProjectileScene.instantiate()
        $GameWorld.add_child(projectile)
        projectile.setup(from_pos, to_pos, 0)
        
        # –ó–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É —Å–Ω–∞—Ä—è–¥–∞–º–∏
        if i < count - 1:
            await get_tree().create_timer(0.5).timeout
```

---

## ‚è±Ô∏è –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è

### **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∞–Ω–∏–º–∞—Ü–∏–∏ –∏ —ç—Ñ—Ñ–µ–∫—Ç–æ–≤:**

#### **–ü—Ä–æ–±–ª–µ–º–∞:**
–í–∏–∑—É–∞–ª—å–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã (—Å–Ω–∞—Ä—è–¥—ã, –∑–≤—É–∫–∏) –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–ª—è—Ç—å—Å—è **–≤ –Ω—É–∂–Ω—ã–π –º–æ–º–µ–Ω—Ç** –∞–Ω–∏–º–∞—Ü–∏–∏ –∞—Ç–∞–∫–∏.

#### **–†–µ—à–µ–Ω–∏–µ:**
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∑–∞–¥–µ—Ä–∂–∫—É `await get_tree().create_timer()` –º–µ–∂–¥—É –∑–∞–ø—É—Å–∫–æ–º –∞–Ω–∏–º–∞—Ü–∏–∏ –∏ —ç—Ñ—Ñ–µ–∫—Ç–æ–º.

---

### **–®–∞–±–ª–æ–Ω —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏:**

```gdscript
# 1. –ó–∞–ø—É—Å–∫–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é –∞—Ç–∞–∫–∏
var visual_node = character.get_node_or_null("Visual")
if visual_node and visual_node.has_method("play_attack"):
    visual_node.play_attack()

# 2. –ñ–¥—ë–º –º–æ–º–µ–Ω—Ç–∞ –≤ –∞–Ω–∏–º–∞—Ü–∏–∏
await get_tree().create_timer(DELAY).timeout

# 3. –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º –∑–≤—É–∫
if SoundManager:
    SoundManager.play_sound("sound_name", -5.0)

# 4. –°–æ–∑–¥–∞—ë–º –≤–∏–∑—É–∞–ª—å–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç
_spawn_visual_effect()

# 5. –ù–∞–Ω–æ—Å–∏–º —É—Ä–æ–Ω (—Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∑–∞–¥–µ—Ä–∂–∫–æ–π, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
await get_tree().create_timer(0.3).timeout
target.take_damage(damage, damage_type)
```

---

### **–ö–∞–∫ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –∑–∞–¥–µ—Ä–∂–∫—É:**

#### **–ú–µ—Ç–æ–¥ 1: –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π**
1. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –∞–Ω–∏–º–∞—Ü–∏—é –∞—Ç–∞–∫–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
2. –ó–∞—Å–µ–∫–∏—Ç–µ –º–æ–º–µ–Ω—Ç, –∫–æ–≥–¥–∞ –¥–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è —ç—Ñ—Ñ–µ–∫—Ç
3. –†–∞–∑–¥–µ–ª–∏—Ç–µ –Ω–∞ FPS –∞–Ω–∏–º–∞—Ü–∏–∏

**–§–æ—Ä–º—É–ª–∞:** `delay = frame_number / fps`

**–ü—Ä–∏–º–µ—Ä:**
- –ê–Ω–∏–º–∞—Ü–∏—è attack: 16 FPS
- –í–∑–º–∞—Ö –Ω–∞ 6-–º –∫–∞–¥—Ä–µ
- –ó–∞–¥–µ—Ä–∂–∫–∞: 6 / 16 = 0.375 —Å–µ–∫ ‚âà **0.4 —Å–µ–∫**

#### **–ú–µ—Ç–æ–¥ 2: –ú–∞—Ä–∫–µ—Ä—ã –≤ –∞–Ω–∏–º–∞—Ü–∏–∏ (–¥–ª—è –±—É–¥—É—â–µ–≥–æ)**
–í Godot –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –º–∞—Ä–∫–µ—Ä—ã –≤ AnimationPlayer –∏ –æ—Ç–ª–∞–≤–ª–∏–≤–∞—Ç—å –∏—Ö —Å–∏–≥–Ω–∞–ª–∞–º–∏.

---

### **–¢–∞–±–ª–∏—Ü–∞ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã—Ö –∑–∞–¥–µ—Ä–∂–µ–∫:**

| –¢–∏–ø –∞–Ω–∏–º–∞—Ü–∏–∏ | –ó–∞–¥–µ—Ä–∂–∫–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------------|----------|----------|
| –ë—ã—Å—Ç—Ä—ã–π —É–¥–∞—Ä | 0.2 —Å–µ–∫ | –ù–∞—á–∞–ª–æ –∑–∞–º–∞—Ö–∞ |
| –°—Ä–µ–¥–Ω–∏–π —É–¥–∞—Ä | 0.4 —Å–µ–∫ | –ú–æ–º–µ–Ω—Ç —É–¥–∞—Ä–∞ |
| –ú–µ–¥–ª–µ–Ω–Ω—ã–π —É–¥–∞—Ä | 0.6 —Å–µ–∫ | –ó–∞–º–∞—Ö + —É–¥–∞—Ä |
| –í–∑–º–∞—Ö –ø–æ—Å–æ—Ö–æ–º | 0.4 —Å–µ–∫ | –ú–æ–º–µ–Ω—Ç –≤–∑–º–∞—Ö–∞ |
| –°—Ç—Ä–µ–ª—å–±–∞ –∏–∑ –ª—É–∫–∞ | 0.3 —Å–µ–∫ | –û—Ç–ø—É—Å–∫–∞–Ω–∏–µ —Ç–µ—Ç–∏–≤—ã |

---

## üìù –ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞

### **–ü—Ä–∏–º–µ—Ä 1: –ü—Ä–æ—Å—Ç–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å —Å–æ –∑–≤—É–∫–æ–º**

```gdscript
# –í EnemyAbility.gd –∏–ª–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
func use_ability(owner: Node, target: Node) -> Dictionary:
    # –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º –∑–≤—É–∫
    if SoundManager:
        SoundManager.play_sound("sword_hit", -5.0)
    
    # –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º —É—Ä–æ–Ω
    var damage = get_damage(owner)
    var is_crit = randf() < (owner.crit_chance / 100.0)
    
    if is_crit:
        damage = int(damage * 1.5)
    
    return {
        "success": true,
        "damage": damage,
        "is_crit": is_crit,
        "damage_type": damage_type,
        "message": owner.display_name + " –∏—Å–ø–æ–ª—å–∑—É–µ—Ç " + name + "!"
    }
```

---

### **–ü—Ä–∏–º–µ—Ä 2: –°–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å —Å –≤–∏–∑—É–∞–ª—å–Ω—ã–º–∏ —Å–Ω–∞—Ä—è–¥–∞–º–∏**

#### **–í battle_manager.gd:**

```gdscript
# –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
if result.get("magic_missiles", false):
    var missile_count = result.get("missile_count", 3)
    var missile_damage = result.get("missile_damage", 10)
    
    # –ó–∞–ø—É—Å–∫–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é –∞—Ç–∞–∫–∏
    var visual_node = attacker.get_node_or_null("Visual")
    if visual_node and visual_node.has_method("play_attack"):
        visual_node.play_attack()
    
    # –ñ–¥—ë–º –º–æ–º–µ–Ω—Ç–∞ –∫–∞—Å—Ç–∞
    await get_tree().create_timer(0.4).timeout
    
    # –°–æ–∑–¥–∞—ë–º —Å–Ω–∞—Ä—è–¥—ã
    _spawn_magic_missiles(attacker, target, missile_count)
    
    # –ù–∞–Ω–æ—Å–∏–º —É—Ä–æ–Ω —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π –º–µ–∂–¥—É —Å–Ω–∞—Ä—è–¥–∞–º–∏
    for i in range(missile_count):
        if i > 0:
            await get_tree().create_timer(0.5).timeout
        
        if _calculate_hit_chance(attacker, target, "missile_" + str(i+1), "–ú–∞–≥–∏—á–µ—Å–∫–∞—è —Ä–∞–∫–µ—Ç–∞"):
            target.take_damage(missile_damage, "magic")
            DamageNumberManager.show_damage_on_character(target, missile_damage, false, false, false, "magic")
```

---

### **–ü—Ä–∏–º–µ—Ä 3: –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–Ω–∞—Ä—è–¥—ã —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π**

```gdscript
# –ú–∞–≥–∏—á–µ—Å–∫–∏–µ —Å—Ç—Ä–µ–ª—ã (–∏–∑ —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏)
func _spawn_magic_arrow_projectiles(from_char: Node2D, to_char: Node2D, arrows_count: int):
    # –ü–æ–ª—É—á–∞–µ–º –ø–æ–∑–∏—Ü–∏–∏
    var from_pos = from_char.get_node("Visual").global_position
    var to_pos = to_char.get_node("Visual").global_position
    
    # –°–º–µ—â–µ–Ω–∏–µ —Ç–æ—á–∫–∏ –≤—ã–ª–µ—Ç–∞
    var is_enemy = from_char.global_position.x > to_char.global_position.x
    if is_enemy:
        from_pos += Vector2(-30, -80)  # –ò–∑ –ø–æ—Å–æ—Ö–∞
    else:
        from_pos += Vector2(30, -80)
    
    # –°–æ–∑–¥–∞—ë–º —Å—Ç—Ä–µ–ª—ã –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ
    for i in range(arrows_count):
        var arrow = MagicArrowProjectileScene.instantiate()
        $GameWorld.add_child(arrow)
        arrow.setup(from_pos, to_pos, 0)
        
        # –ó–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É —Å—Ç—Ä–µ–ª–∞–º–∏
        if i < arrows_count - 1:
            await get_tree().create_timer(0.5).timeout
```

---

### **–ü—Ä–∏–º–µ—Ä 4: –°–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å —Å–æ –∑–≤—É–∫–∞–º–∏ –ø–æ —Ç–∞–π–º–∏–Ω–≥—É**

```gdscript
# –í EnemyAbility.gd - –º–∞–≥–∏—á–µ—Å–∫–∏–µ —Å—Ç—Ä–µ–ª—ã
if id == "magic_arrows":
    var arrows_count = 1 + int(intelligence / 15)
    
    for i in range(arrows_count):
        # –ü–ª–∞–Ω–∏—Ä—É–µ–º –∑–≤—É–∫ —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π –¥–ª—è –∫–∞–∂–¥–æ–π —Å—Ç—Ä–µ–ª—ã
        if SoundManager:
            var scene_tree = owner.get_tree()
            if scene_tree:
                var delay = 0.60 * (i + 1)
                var timer = scene_tree.create_timer(delay)
                timer.timeout.connect(
                    func(): SoundManager.play_sound("magic_arrow", -5.0)
                )
```

---

## üé® –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

### **DO ‚úÖ:**

1. **–í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ SoundManager:**
   ```gdscript
   if SoundManager:
       SoundManager.play_sound("sound", -5.0)
   ```

2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∑–∞–¥–µ—Ä–∂–∫–∏ –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏:**
   ```gdscript
   await get_tree().create_timer(0.4).timeout
   ```

3. **–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–π—Ç–µ –≥—Ä–æ–º–∫–æ—Å—Ç—å –∑–≤—É–∫–æ–≤:**
   - –û–±—ã—á–Ω—ã–µ –∞—Ç–∞–∫–∏: `-5.0 dB`
   - –¢–∏—Ö–∏–µ –∑–≤—É–∫–∏: `-10.0 dB`
   - –ì—Ä–æ–º–∫–∏–µ –∑–≤—É–∫–∏: `0.0 dB`

4. **–î–æ–±–∞–≤–ª—è–π—Ç–µ —Å–ª—É—á–∞–π–Ω–æ–µ —Å–º–µ—â–µ–Ω–∏–µ –¥–ª—è —Å–Ω–∞—Ä—è–¥–æ–≤:**
   ```gdscript
   var random_offset = Vector2(randf_range(-20, 20), randf_range(-20, 20))
   target_pos += random_offset
   ```

5. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–∞—Ä–∞–±–æ–ª–∏—á–µ—Å–∫—É—é —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ—Å—Ç–∏:**
   ```gdscript
   var arc_offset = sin(progress * PI) * arc_height
   global_position = linear_pos + Vector2(0, -arc_offset)
   ```

---

### **DON'T ‚ùå:**

1. **–ù–µ –∑–∞–ø—É—Å–∫–∞–π—Ç–µ –∞–Ω–∏–º–∞—Ü–∏—é –¥–≤–∞–∂–¥—ã:**
   ```gdscript
   # –ü–õ–û–•–û - –∞–Ω–∏–º–∞—Ü–∏—è –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –¥–≤–∞–∂–¥—ã
   visual.play_attack()
   # ... –∫–æ–¥ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ ...
   visual.play_attack()  # –î—É–±–ª–∏–∫–∞—Ç!
   ```

2. **–ù–µ –∑–∞–±—ã–≤–∞–π—Ç–µ queue_free() –¥–ª—è —Å–Ω–∞—Ä—è–¥–æ–≤:**
   ```gdscript
   # –ü–õ–û–•–û - —Å–Ω–∞—Ä—è–¥ –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –≤ –ø–∞–º—è—Ç–∏
   if reached_target:
       # –ù–ï –£–î–ê–õ–Ø–ï–ú!
   
   # –•–û–†–û–®–û
   if reached_target:
       queue_free()
   ```

3. **–ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏:**
   ```gdscript
   # –ü–õ–û–•–û
   var from_pos = Vector2(100, 200)
   
   # –•–û–†–û–®–û
   var from_pos = character.get_node("Visual").global_position
   ```

4. **–ù–µ –±–ª–æ–∫–∏—Ä—É–π—Ç–µ –∏–≥—Ä—É –¥–æ–ª–≥–∏–º–∏ –∑–∞–¥–µ—Ä–∂–∫–∞–º–∏:**
   ```gdscript
   # –ü–õ–û–•–û - –∏–≥—Ä–∞ –∑–∞–≤–∏—Å–Ω–µ—Ç –Ω–∞ 3 —Å–µ–∫—É–Ω–¥—ã
   await get_tree().create_timer(3.0).timeout
   
   # –•–û–†–û–®–û - –±—ã—Å—Ç—Ä—ã–µ –∑–∞–¥–µ—Ä–∂–∫–∏
   await get_tree().create_timer(0.4).timeout
   ```

---

## üìä –ß–µ–∫-–ª–∏—Å—Ç –¥–ª—è –Ω–æ–≤–æ–π —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤–æ–π —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

- [ ] **–ó–≤—É–∫ –¥–æ–±–∞–≤–ª–µ–Ω** –≤ `SoundManager.gd`
- [ ] **–ó–≤—É–∫ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è** –≤ `use_ability()`
- [ ] **–ê–Ω–∏–º–∞—Ü–∏—è –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è** (–µ—Å–ª–∏ –Ω—É–∂–Ω–∞)
- [ ] **–ó–∞–¥–µ—Ä–∂–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞** –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- [ ] **–í–∏–∑—É–∞–ª—å–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã** —Å–æ–∑–¥–∞—é—Ç—Å—è –≤ –Ω—É–∂–Ω—ã–π –º–æ–º–µ–Ω—Ç
- [ ] **–°–Ω–∞—Ä—è–¥—ã —É–¥–∞–ª—è—é—Ç—Å—è** –ø–æ—Å–ª–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- [ ] **–£—Ä–æ–Ω –Ω–∞–Ω–æ—Å–∏—Ç—Å—è** —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —Ç–∏–ø–æ–º
- [ ] **–§–ª–∞–≥ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏** –¥–æ–±–∞–≤–ª–µ–Ω –≤ `return` —Å–ª–æ–≤–∞—Ä—å
- [ ] **–û–±—Ä–∞–±–æ—Ç–∫–∞ –≤ battle_manager** –¥–æ–±–∞–≤–ª–µ–Ω–∞ (–µ—Å–ª–∏ –Ω—É–∂–Ω–∞ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞)
- [ ] **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ

---

## üîç –û—Ç–ª–∞–¥–∫–∞

### **–ü—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è:**

#### **–ü—Ä–æ–±–ª–µ–º–∞: –ó–≤—É–∫ –Ω–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è**
```gdscript
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
1. –ó–≤—É–∫ –∑–∞–≥—Ä—É–∂–µ–Ω –≤ SoundManager.gd
2. –ü—Ä–æ–≤–µ—Ä–∫–∞ if SoundManager: –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç
3. –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏–º—è –∑–≤—É–∫–∞ –≤ play_sound()
```

#### **–ü—Ä–æ–±–ª–µ–º–∞: –ê–Ω–∏–º–∞—Ü–∏—è –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è**
```gdscript
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
1. –£–∑–µ–ª Visual —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
2. –£ Visual –µ—Å—Ç—å –º–µ—Ç–æ–¥ play_attack()
3. –ê–Ω–∏–º–∞—Ü–∏—è "attack" –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –≤ SpriteFrames
```

#### **–ü—Ä–æ–±–ª–µ–º–∞: –°–Ω–∞—Ä—è–¥—ã –Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã**
```gdscript
# –ò–∑–º–µ–Ω–∏—Ç–µ –∑–∞–¥–µ—Ä–∂–∫—É:
await get_tree().create_timer(0.3).timeout  # –†–∞–Ω—å—à–µ
await get_tree().create_timer(0.5).timeout  # –ü–æ–∑–∂–µ
```

#### **–ü—Ä–æ–±–ª–µ–º–∞: –°–Ω–∞—Ä—è–¥—ã –Ω–µ –∏—Å—á–µ–∑–∞—é—Ç**
```gdscript
# –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –µ—Å—Ç—å:
if flight_time >= max_flight_time:
    queue_free()  # –≠–¢–û –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û!
    return
```

---

## üìö –°–ø—Ä–∞–≤–æ—á–Ω—ã–µ —Ñ–∞–π–ª—ã

### **–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–æ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—è–º–∏:**

| –§–∞–π–ª | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|------|-----------|
| `Scripts/Abilities/EnemyAbility.gd` | –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π –≤—Ä–∞–≥–∞ |
| `Scripts/Abilities/PlayerAbility.gd` | –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π –∏–≥—Ä–æ–∫–∞ |
| `Scripts/Battle/battle_manager.gd` | –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π –≤ –±–æ—é |
| `Scripts/SoundManager.gd` | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–≤—É–∫–∞–º–∏ |
| `Scripts/Battle/character_visual.gd` | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–Ω–∏–º–∞—Ü–∏—è–º–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π |
| `Scripts/Battle/MagicArrowProjectile.gd` | –ü—Ä–∏–º–µ—Ä –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ —Å–Ω–∞—Ä—è–¥–∞ |

---

## ‚ú® –ü—Ä–∏–º–µ—Ä—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π

### **1. –ú–∞–≥–∏—á–µ—Å–∫–∏–µ —Å—Ç—Ä–µ–ª—ã (magic_arrows)**
- ‚úÖ –ó–≤—É–∫: `magic_arrow`
- ‚úÖ –ê–Ω–∏–º–∞—Ü–∏—è: `attack`
- ‚úÖ –í–∏–∑—É–∞–ª—å–Ω—ã–µ —Å–Ω–∞—Ä—è–¥—ã: `MagicArrowProjectile`
- ‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è: 0.4 —Å–µ–∫ –∑–∞–¥–µ—Ä–∂–∫–∞
- ‚úÖ –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–Ω–∞—Ä—è–¥—ã —Å –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–º 0.5 —Å–µ–∫

**–§–∞–π–ª—ã:**
- `Scripts/Abilities/MagicArrows.gd`
- `Scripts/Abilities/EnemyAbility.gd` (—Å—Ç—Ä–æ–∫–∏ 131-179)
- `Scripts/Battle/MagicArrowProjectile.gd`

---

### **2. –î–≤–æ–π–Ω–æ–π —É–¥–∞—Ä (double_strike)**
- ‚úÖ –ó–≤—É–∫: `sword_hit`
- ‚úÖ –ê–Ω–∏–º–∞—Ü–∏—è: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è
- ‚úÖ –î–≤–∞ —É–¥–∞—Ä–∞ —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π 0.3 —Å–µ–∫

**–§–∞–π–ª—ã:**
- `Scripts/Abilities/EnemyAbility.gd` (—Å—Ç—Ä–æ–∫–∏ 59-101)
- `Scripts/Battle/battle_manager.gd` (–æ–±—Ä–∞–±–æ—Ç–∫–∞ double_strike)

---

### **3. –Ø–¥–æ–≤–∏—Ç—ã–π —É–¥–∞—Ä (poison_strike)**
- ‚úÖ –ó–≤—É–∫: `sword_hit`
- ‚úÖ –ê–Ω–∏–º–∞—Ü–∏—è: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è
- ‚úÖ –ù–∞–ª–æ–∂–µ–Ω–∏–µ —ç—Ñ—Ñ–µ–∫—Ç–∞ —è–¥–∞

**–§–∞–π–ª—ã:**
- `Scripts/Abilities/EnemyAbility.gd` (—Å—Ç—Ä–æ–∫–∏ 103-129)

---

## üéØ –ò—Ç–æ–≥–æ

–≠—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –≤—Å–µ –∞—Å–ø–µ–∫—Ç—ã —Å–æ–∑–¥–∞–Ω–∏—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π —Å–æ –∑–≤—É–∫–∞–º–∏ –∏ –≤–∏–∑—É–∞–ª—å–Ω—ã–º–∏ —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏:

- ‚úÖ **–ó–≤—É–∫–∏** - –∫–∞–∫ –¥–æ–±–∞–≤–ª—è—Ç—å –∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å
- ‚úÖ **–ê–Ω–∏–º–∞—Ü–∏–∏** - –∫–∞–∫ –∑–∞–ø—É—Å–∫–∞—Ç—å –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å
- ‚úÖ **–°–Ω–∞—Ä—è–¥—ã** - –∫–∞–∫ —Å–æ–∑–¥–∞–≤–∞—Ç—å –≤–∏–∑—É–∞–ª—å–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã
- ‚úÖ **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è** - –∫–∞–∫ –≤—Å—ë —Å–≤—è–∑–∞—Ç—å –≤–æ–µ–¥–∏–Ω–æ
- ‚úÖ **–ü—Ä–∏–º–µ—Ä—ã** - –≥–æ—Ç–æ–≤—ã–µ —à–∞–±–ª–æ–Ω—ã –∫–æ–¥–∞
- ‚úÖ **–õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏** - —á—Ç–æ –¥–µ–ª–∞—Ç—å –∏ —á–µ–≥–æ –∏–∑–±–µ–≥–∞—Ç—å

**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–æ—Ç –≥–∞–π–¥ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤—ã—Ö —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π!** üöÄ

