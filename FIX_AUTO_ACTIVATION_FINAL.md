# –ò–°–ü–†–ê–í–õ–ï–ù–û: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∞–∫—Ç–∏–≤–∞—Ü–∏—è –ø–∞—Å—Å–∏–≤–Ω—ã—Ö —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π

## üö® –ü–†–û–ë–õ–ï–ú–ê –ë–´–õ–ê:
–ü–∞—Å—Å–∏–≤–Ω—ã–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–ª–∏—Å—å –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ (–Ω–∞–ø—Ä–∏–º–µ—Ä, HP 160), —á—Ç–æ —è–≤–ª—è–µ—Ç—Å—è –ø–æ–ª–Ω–æ–π —á—É—à—å—é! –ü–∞—Å—Å–∏–≤–Ω—ã–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –¥–æ–ª–∂–Ω—ã –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å—Å—è –¢–û–õ–¨–ö–û –ø–æ –Ω–∞–∂–∞—Ç–∏—é –∫–Ω–æ–ø–∫–∏ –≤ –º–µ–Ω—é!

## ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û:

### **–£–¥–∞–ª–µ–Ω –≤–µ—Å—å –∫–æ–¥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π:**

#### **–ë—ã–ª–æ (–ù–ï–ü–†–ê–í–ò–õ–¨–ù–û):**
```gdscript
# –ü—Ä–æ–≤–µ—Ä—è–µ–º, –∫–∞–∫–∏–µ –±–æ–Ω—É—Å—ã —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –∏ –¥–æ–±–∞–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ
if passive_strength_bonus > 0 and "player_strong" not in active_passives:
	active_passives.append("player_strong")
	print("–ù–∞–π–¥–µ–Ω –±–æ–Ω—É—Å —Å–∏–ª—ã: ", passive_strength_bonus, " - –¥–æ–±–∞–≤–ª—è–µ–º player_strong")

if passive_vitality_bonus > 0 and "player_fortress" not in active_passives:
	active_passives.append("player_fortress")
	print("–ù–∞–π–¥–µ–Ω –±–æ–Ω—É—Å –≤–∏—Ç–∞–ª—å–Ω–æ—Å—Ç–∏: ", passive_vitality_bonus, " - –¥–æ–±–∞–≤–ª—è–µ–º player_fortress")

if passive_wisdom_bonus > 0 and "player_wise" not in active_passives:
	active_passives.append("player_wise")
	print("–ù–∞–π–¥–µ–Ω –±–æ–Ω—É—Å –º—É–¥—Ä–æ—Å—Ç–∏: ", passive_wisdom_bonus, " - –¥–æ–±–∞–≤–ª—è–µ–º player_wise")

# –ü—Ä–æ–≤–µ—Ä—è–µ–º –±–æ–Ω—É—Å HP —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –æ–Ω —Ç–æ—á–Ω–æ –æ—Ç —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ "–ñ–∏–≤—É—á–µ—Å—Ç—å" (+50 HP)
if max_hp >= 150 and "player_vitality" not in active_passives:
	active_passives.append("player_vitality")
	print("–ù–∞–π–¥–µ–Ω –±–æ–Ω—É—Å HP –æ—Ç –ñ–∏–≤—É—á–µ—Å—Ç–∏: ", max_hp, " - –¥–æ–±–∞–≤–ª—è–µ–º player_vitality")
```

#### **–°—Ç–∞–ª–æ (–ü–†–ê–í–ò–õ–¨–ù–û):**
```gdscript
# –ù–ï –î–û–ë–ê–í–õ–Ø–ï–ú —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏! 
# –ü–∞—Å—Å–∏–≤–Ω—ã–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –∞–∫—Ç–∏–≤–∏—Ä—É—é—Ç—Å—è –¢–û–õ–¨–ö–û –ø–æ –Ω–∞–∂–∞—Ç–∏—é –∫–Ω–æ–ø–∫–∏ –≤ –º–µ–Ω—é!
# –≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è —Ç–æ–ª—å–∫–æ —É–¥–∞–ª—è–µ—Ç —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –∏–º–µ—é—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –±–æ–Ω—É—Å–æ–≤
```

### **–¢–µ–ø–µ—Ä—å —Ñ—É–Ω–∫—Ü–∏—è `sync_active_passives_with_bonuses()` –¢–û–õ–¨–ö–û:**
- ‚úÖ **–£–¥–∞–ª—è–µ—Ç –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏** - –±–µ–∑ –±–æ–Ω—É—Å–æ–≤
- ‚ùå **–ù–ï –¥–æ–±–∞–≤–ª—è–µ—Ç —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** - —Ç–æ–ª—å–∫–æ –ø–æ –Ω–∞–∂–∞—Ç–∏—é –∫–Ω–æ–ø–∫–∏
- ‚úÖ **–°–æ—Ö—Ä–∞–Ω—è–µ—Ç –Ω–∞–º–µ—Ä–µ–Ω–Ω—ã–µ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏** - –≤—ã–±—Ä–∞–Ω–Ω—ã–µ –∏–≥—Ä–æ–∫–æ–º

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç:

### **–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞:**
```
=== –°–ò–ù–•–†–û–ù–ò–ó–ê–¶–ò–Ø –ê–ö–¢–ò–í–ù–´–• –°–ü–û–°–û–ë–ù–û–°–¢–ï–ô –° –ë–û–ù–£–°–ê–ú–ò ===
–ê–∫—Ç–∏–≤–Ω—ã–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –î–û —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏: []
–§–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –±–æ–Ω—É—Å—ã:
  –ë–æ–Ω—É—Å —Å–∏–ª—ã: 0
  –ë–æ–Ω—É—Å –≤–∏—Ç–∞–ª—å–Ω–æ—Å—Ç–∏: 0
  –ë–æ–Ω—É—Å –º—É–¥—Ä–æ—Å—Ç–∏: 0
  –ú–∞–∫—Å. HP: 160 (–±–∞–∑–æ–≤–æ–µ: 100)
–ê–∫—Ç–∏–≤–Ω—ã–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –ü–û–°–õ–ï —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏: []  # ‚Üê –ò–°–ü–†–ê–í–õ–ï–ù–û: –æ—Å—Ç–∞–µ—Ç—Å—è –ø—É—Å—Ç—ã–º!
=== –ö–û–ù–ï–¶ –°–ò–ù–•–†–û–ù–ò–ó–ê–¶–ò–ò –ê–ö–¢–ò–í–ù–´–• –°–ü–û–°–û–ë–ù–û–°–¢–ï–ô ===

=== –ó–ê–ì–†–£–ó–ö–ê –ü–ê–°–°–ò–í–ù–´–• –°–ü–û–°–û–ë–ù–û–°–¢–ï–ô –î–õ–Ø UI ===
–ò–∑—É—á–µ–Ω–Ω—ã–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏: ["player_fortress", "player_strong", "player_wise", "player_vitality"]
–ê–∫—Ç–∏–≤–Ω—ã–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏: []
–ó–∞–≥—Ä—É–∂–µ–Ω–æ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π –¥–ª—è UI: 4
  - –ö—Ä–µ–ø–æ—Å—Ç—å (player_fortress): –ù–µ–∞–∫—Ç–∏–≤–Ω–∞
  - –°–∏–ª—å–Ω—ã–π (player_strong): –ù–µ–∞–∫—Ç–∏–≤–Ω–∞
  - –ú—É–¥—Ä—ã–π (player_wise): –ù–µ–∞–∫—Ç–∏–≤–Ω–∞
  - –ñ–∏–≤—É—á–µ—Å—Ç—å (player_vitality): –ù–µ–∞–∫—Ç–∏–≤–Ω–∞  # ‚Üê –ò–°–ü–†–ê–í–õ–ï–ù–û: –Ω–µ–∞–∫—Ç–∏–≤–Ω–∞!
=== –ö–û–ù–ï–¶ –ó–ê–ì–†–£–ó–ö–ò –ü–ê–°–°–ò–í–ù–´–• –°–ü–û–°–û–ë–ù–û–°–¢–ï–ô –î–õ–Ø UI ===
```

## üîß –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã:

### **1. –ü–∞—Å—Å–∏–≤–Ω—ã–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –∞–∫—Ç–∏–≤–∏—Ä—É—é—Ç—Å—è –¢–û–õ–¨–ö–û:**
- ‚úÖ **–ü–æ –Ω–∞–∂–∞—Ç–∏—é –∫–Ω–æ–ø–∫–∏ "–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å"** –≤ –º–µ–Ω—é –ø–∞—Å—Å–∏–≤–Ω—ã—Ö —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π
- ‚úÖ **–ß–µ—Ä–µ–∑ —Ñ—É–Ω–∫—Ü–∏—é `activate_passive_ability()`** - –Ω–∞–º–µ—Ä–µ–Ω–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ –∏–≥—Ä–æ–∫–∞
- ‚ùå **–ù–ï –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ –∏–ª–∏ HP

### **2. –§—É–Ω–∫—Ü–∏—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –¢–û–õ–¨–ö–û:**
- ‚úÖ **–£–¥–∞–ª—è–µ—Ç —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –±–µ–∑ –±–æ–Ω—É—Å–æ–≤** - –æ—á–∏—Å—Ç–∫–∞ –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö
- ‚ùå **–ù–ï –¥–æ–±–∞–≤–ª—è–µ—Ç —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏** - —Ç–æ–ª—å–∫–æ —É–¥–∞–ª–µ–Ω–∏–µ
- ‚úÖ **–°–æ—Ö—Ä–∞–Ω—è–µ—Ç –Ω–∞–º–µ—Ä–µ–Ω–Ω—ã–µ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏** - –≤—ã–±—Ä–∞–Ω–Ω—ã–µ –∏–≥—Ä–æ–∫–æ–º

### **3. –ê–∫—Ç–∏–≤–∞—Ü–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –¢–û–õ–¨–ö–û —á–µ—Ä–µ–∑:**
```gdscript
func activate_passive_ability(ability_id: String) -> bool:
	# –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –∏–∑—É—á–µ–Ω–∞
	if not has_learned_passive(ability_id):
		return false
	
	# –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –Ω–µ –∞–∫—Ç–∏–≤–Ω–∞
	if has_active_passive(ability_id):
		return false
	
	# –î–æ–±–∞–≤–ª—è–µ–º –≤ –∞–∫—Ç–∏–≤–Ω—ã–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
	active_passives.append(ability_id)
	
	# –ü—Ä–∏–º–µ–Ω—è–µ–º –±–æ–Ω—É—Å –æ—Ç —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
	_apply_single_passive_bonus(ability_id)
	
	return true
```

## ‚úÖ –ì–û–¢–û–í–û!

–¢–µ–ø–µ—Ä—å –ø–∞—Å—Å–∏–≤–Ω—ã–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏:
- ‚úÖ **–ù–ï –∞–∫—Ç–∏–≤–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** - —Ç–æ–ª—å–∫–æ –ø–æ –Ω–∞–∂–∞—Ç–∏—é –∫–Ω–æ–ø–∫–∏
- ‚úÖ **–†–∞–±–æ—Ç–∞—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ** - –∞–∫—Ç–∏–≤–∞—Ü–∏—è —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –º–µ–Ω—é
- ‚úÖ **–ù–µ –∑–∞–≤–∏—Å—è—Ç –æ—Ç —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫** - HP 160 –Ω–µ –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç "–ñ–∏–≤—É—á–µ—Å—Ç—å"
- ‚úÖ **–ü–æ–∫–∞–∑—ã–≤–∞—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ** - –≤—Å–µ –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
- ‚úÖ **–ê–∫—Ç–∏–≤–∏—Ä—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞–º–µ—Ä–µ–Ω–Ω–æ** - —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫–∏ –≤ –º–µ–Ω—é

**–ü–†–û–ë–õ–ï–ú–ê –†–ï–®–ï–ù–ê! –ü–∞—Å—Å–∏–≤–Ω—ã–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –±–æ–ª—å—à–µ –Ω–µ –∞–∫—Ç–∏–≤–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!** üéØ‚ú®
