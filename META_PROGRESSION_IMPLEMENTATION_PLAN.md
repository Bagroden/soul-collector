# –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π –º–µ—Ç–∞-–ø—Ä–æ–≥—Ä–µ—Å—Å–∏–∏

## üìã –û–±–∑–æ—Ä –∏–∑–º–µ–Ω–µ–Ω–∏–π

–ù–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–∞–≤–æ–∫ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ–±–Ω–æ–≤–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:

### –ö–ª—é—á–µ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:
1. **–≠—Ç–∞–ø 3**: –ö—Ä–∏—Å—Ç–∞–ª–ª –ø–æ–∑–Ω–∞–Ω–∏—è —Ç–µ–ø–µ—Ä—å –≤ **–¢—ë–º–Ω–æ–º –ª–µ—Å—É** (1-—è –ª–æ–∫–∞—Ü–∏—è), –±–æ—Å—Å - **–û—Ä–∫ –∫—É–ª—å—Ç–∏—Å—Ç**
2. **–≠—Ç–∞–ø 4**: –§–∏–ª–∞–∫—Ç–µ—Ä–∏—è –≤ **–ó–∞–±—Ä–æ—à–µ–Ω–Ω–æ–º –∫–ª–∞–¥–±–∏—â–µ** (3-—è –ª–æ–∫–∞—Ü–∏—è), –±–æ—Å—Å - **–î—Ä–µ–≤–Ω–∏–π —Å–∫–µ–ª–µ—Ç**
3. –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ: `has_eternity_sphere` ‚Üí `has_phylactery`

---

## üîß –≠—Ç–∞–ø 1: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ PlayerData.gd

### 1.1 –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∞-–ø—Ä–æ–≥—Ä–µ—Å—Å–∏–∏

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
```gdscript
var has_eternity_sphere: bool = false  # –ï—Å—Ç—å –ª–∏ –°—Ñ–µ—Ä–∞ –≤–µ—á–Ω–æ—Å—Ç–∏
```

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
```gdscript
# –ó–∞–º–µ–Ω–∏—Ç—å –Ω–∞:
var has_phylactery: bool = false  # –ï—Å—Ç—å –ª–∏ –§–∏–ª–∞–∫—Ç–µ—Ä–∏—è –Ω–µ–∫—Ä–æ–º–∞–Ω—Ç–∞
```

### 1.2 –§—É–Ω–∫—Ü–∏–∏ –≤—ã–¥–∞—á–∏ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤

**–¢–µ–∫—É—â–∞—è —Ñ—É–Ω–∫—Ü–∏—è:**
```gdscript
func give_eternity_sphere():
    """–í—ã–¥–∞–µ—Ç –∏–≥—Ä–æ–∫—É –°—Ñ–µ—Ä—É –≤–µ—á–Ω–æ—Å—Ç–∏"""
    has_eternity_sphere = true
    max_passive_level = 3
    max_soul_development_level = 6
    complete_quest("find_eternity_sphere")
    print("üåü –ü–æ–ª—É—á–µ–Ω–∞ –°—Ñ–µ—Ä–∞ –≤–µ—á–Ω–æ—Å—Ç–∏! –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã Mythic —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏!")
```

**–ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è:**
```gdscript
func give_phylactery():
    """–í—ã–¥–∞–µ—Ç –∏–≥—Ä–æ–∫—É –§–∏–ª–∞–∫—Ç–µ—Ä–∏—é –Ω–µ–∫—Ä–æ–º–∞–Ω—Ç–∞"""
    has_phylactery = true
    max_passive_level = 3  # –û—Ç–∫—Ä—ã–≤–∞–µ—Ç –∏–∑—É—á–µ–Ω–∏–µ Mythic —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π
    max_soul_development_level = 6  # –û—Ç–∫—Ä—ã–≤–∞–µ—Ç —Ä–∞–∑–≤–∏—Ç–∏–µ –¥—É—à–∏ —É—Ä–æ–≤–Ω–∏ 5-6
    complete_quest("find_phylactery")
    print("üíÄ –ü–æ–ª—É—á–µ–Ω–∞ –§–∏–ª–∞–∫—Ç–µ—Ä–∏—è! –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã Mythic —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏!")
```

### 1.3 –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è/–∑–∞–≥—Ä—É–∑–∫–∏

**–í —Ñ—É–Ω–∫—Ü–∏–∏ `save_data()`:**
```gdscript
# –ó–∞–º–µ–Ω–∏—Ç—å:
"has_eternity_sphere": has_eternity_sphere,

# –ù–∞:
"has_phylactery": has_phylactery,
```

**–í —Ñ—É–Ω–∫—Ü–∏–∏ `load_data()`:**
```gdscript
# –ó–∞–º–µ–Ω–∏—Ç—å:
has_eternity_sphere = data.get("has_eternity_sphere", false)

# –ù–∞:
has_phylactery = data.get("has_phylactery", false)
# –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞—Ç–Ω—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:
if data.has("has_eternity_sphere") and not has_phylactery:
    has_phylactery = data.get("has_eternity_sphere", false)
```

---

## üéØ –≠—Ç–∞–ø 2: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –∫–≤–µ—Å—Ç–æ–≤

### 2.1 –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ QuestSystem (–µ—Å–ª–∏ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)

**–ö–≤–µ—Å—Ç 2: –ö—Ä–∏—Å—Ç–∞–ª–ª –ø–æ–∑–Ω–∞–Ω–∏—è**
```gdscript
# –ò–∑–º–µ–Ω–∏—Ç—å:
quest_crystal.target_location = "–î—Ä–µ–≤–Ω–∏–µ —Ä—É–∏–Ω—ã"
quest_crystal.target_enemy = "–î—Ä–µ–≤–Ω–∏–π —Å—Ç—Ä–∞–∂"

# –ù–∞:
quest_crystal.target_location = "–¢—ë–º–Ω—ã–π –ª–µ—Å"
quest_crystal.target_enemy = "–û—Ä–∫ –∫—É–ª—å—Ç–∏—Å—Ç"
quest_crystal.description = "–ù–∞–π–¥–∏—Ç–µ –ö—Ä–∏—Å—Ç–∞–ª–ª –ø–æ–∑–Ω–∞–Ω–∏—è –≤ –¢—ë–º–Ω–æ–º –ª–µ—Å—É. –û—Ä–∫ –∫—É–ª—å—Ç–∏—Å—Ç –æ—Ö—Ä–∞–Ω—è–µ—Ç —ç—Ç–æ—Ç –∞—Ä—Ç–µ—Ñ–∞–∫—Ç –≤ –†–∏—Ç—É–∞–ª—å–Ω–æ–π –ø–æ–ª—è–Ω–µ."
```

**–ö–≤–µ—Å—Ç 3: –§–∏–ª–∞–∫—Ç–µ—Ä–∏—è (–ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å –∏–∑ –°—Ñ–µ—Ä—ã –≤–µ—á–Ω–æ—Å—Ç–∏)**
```gdscript
# –ó–∞–º–µ–Ω–∏—Ç—å –≤–µ—Å—å –∫–≤–µ—Å—Ç:
var quest_phylactery = Quest.new()
quest_phylactery.id = "find_phylactery"
quest_phylactery.title = "–§–∏–ª–∞–∫—Ç–µ—Ä–∏—è –Ω–µ–∫—Ä–æ–º–∞–Ω—Ç–∞"
quest_phylactery.description = "–ù–∞–π–¥–∏—Ç–µ –§–∏–ª–∞–∫—Ç–µ—Ä–∏—é –≤ –ó–∞–±—Ä–æ—à–µ–Ω–Ω–æ–º –∫–ª–∞–¥–±–∏—â–µ. –î—Ä–µ–≤–Ω–∏–π —Å–∫–µ–ª–µ—Ç –æ—Ö—Ä–∞–Ω—è–µ—Ç —ç—Ç–æ—Ç –∞—Ä—Ç–µ—Ñ–∞–∫—Ç –≤ –°–∫–ª–µ–ø–µ –Ω–µ–∫—Ä–æ–º–∞–Ω—Ç–∞."
quest_phylactery.target_location = "–ó–∞–±—Ä–æ—à–µ–Ω–Ω–æ–µ –∫–ª–∞–¥–±–∏—â–µ"
quest_phylactery.target_enemy = "–î—Ä–µ–≤–Ω–∏–π —Å–∫–µ–ª–µ—Ç"
quest_phylactery.reward_text = "–î–æ—Å—Ç—É–ø –∫ –∏–∑—É—á–µ–Ω–∏—é Mythic —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π"
quests["find_phylactery"] = quest_phylactery
```

### 2.2 –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —É—Å–ª–æ–≤–∏–π —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –∫–≤–µ—Å—Ç–æ–≤

**–í SoulSculptorDialog.gd –∏–ª–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ–º —Ñ–∞–π–ª–µ:**

```gdscript
# –ü–æ—Å–ª–µ –¥–æ—Å—Ç–∞–≤–∫–∏ –£—Ä–Ω—ã –¥—É—à:
elif PlayerData.soul_urn_delivered and not PlayerData.has_knowledge_crystal:
    # –ö–≤–µ—Å—Ç –Ω–∞ –ö—Ä–∏—Å—Ç–∞–ª–ª –ø–æ–∑–Ω–∞–Ω–∏—è (—Ç–µ–ø–µ—Ä—å –≤ –¢—ë–º–Ω–æ–º –ª–µ—Å—É)
    _show_knowledge_crystal_quest()

# –ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –ö—Ä–∏—Å—Ç–∞–ª–ª–∞ –ø–æ–∑–Ω–∞–Ω–∏—è:
elif PlayerData.has_knowledge_crystal and not PlayerData.has_phylactery:
    # –ö–≤–µ—Å—Ç –Ω–∞ –§–∏–ª–∞–∫—Ç–µ—Ä–∏—é (–≤ –ó–∞–±—Ä–æ—à–µ–Ω–Ω–æ–º –∫–ª–∞–¥–±–∏—â–µ)
    _show_phylactery_quest()
```

---

## üó∫Ô∏è –≠—Ç–∞–ø 3: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –∫–æ–º–Ω–∞—Ç –∏ –ª–æ–∫–∞—Ü–∏–π

### 3.1 –ö–≤–µ—Å—Ç–æ–≤–∞—è –∫–æ–º–Ω–∞—Ç–∞ "–†–∏—Ç—É–∞–ª—å–Ω–∞—è –ø–æ–ª—è–Ω–∞" (–¢—ë–º–Ω—ã–π –ª–µ—Å)

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- –ü–æ—è–≤–ª—è–µ—Ç—Å—è —Å —à–∞–Ω—Å–æ–º 50% –ø–æ—Å–ª–µ 3-–π –∫–æ–º–Ω–∞—Ç—ã –≤ –¢—ë–º–Ω–æ–º –ª–µ—Å—É
- –û—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –º–∏–Ω–∏-–±–æ—Å—Å–æ–º "–û—Ä–∫ –∫—É–ª—å—Ç–∏—Å—Ç" (Epic Orc Shaman)
- –ü–æ—Å–ª–µ –ø–æ–±–µ–¥—ã –≤—ã–¥–∞–µ—Ç—Å—è –ö—Ä–∏—Å—Ç–∞–ª–ª –ø–æ–∑–Ω–∞–Ω–∏—è
- –ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–≤–µ—Å—Ç–∞ —É–±–∏—Ä–∞–µ—Ç—Å—è –∏–∑ –ø—É–ª–∞ –∫–æ–º–Ω–∞—Ç

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
```gdscript
# –í LocationManager –∏–ª–∏ RoomSelector
func _should_spawn_ritual_clearing() -> bool:
    var player_data = PlayerManager.get_player_data()
    if not player_data:
        return false
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º —É—Å–ª–æ–≤–∏—è:
    # 1. –£—Ä–Ω–∞ –¥—É—à –¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∞
    # 2. –ö—Ä–∏—Å—Ç–∞–ª–ª –ø–æ–∑–Ω–∞–Ω–∏—è –µ—â–µ –Ω–µ –ø–æ–ª—É—á–µ–Ω
    # 3. –¢–µ–∫—É—â–∞—è –ª–æ–∫–∞—Ü–∏—è - –¢—ë–º–Ω—ã–π –ª–µ—Å
    # 4. –ö–æ–º–Ω–∞—Ç–∞ >= 3
    # 5. –®–∞–Ω—Å 50%
    
    if not player_data.soul_urn_delivered:
        return false
    if player_data.has_knowledge_crystal:
        return false
    if current_location != "dark_forest":
        return false
    if current_room_number < 3:
        return false
    
    return randf() < 0.5  # 50% —à–∞–Ω—Å
```

### 3.2 –ö–≤–µ—Å—Ç–æ–≤–∞—è –∫–æ–º–Ω–∞—Ç–∞ "–°–∫–ª–µ–ø –Ω–µ–∫—Ä–æ–º–∞–Ω—Ç–∞" (–ó–∞–±—Ä–æ—à–µ–Ω–Ω–æ–µ –∫–ª–∞–¥–±–∏—â–µ)

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- –ü–æ—è–≤–ª—è–µ—Ç—Å—è —Å —à–∞–Ω—Å–æ–º 50% –ø–æ—Å–ª–µ 3-–π –∫–æ–º–Ω–∞—Ç—ã –≤ –ó–∞–±—Ä–æ—à–µ–Ω–Ω–æ–º –∫–ª–∞–¥–±–∏—â–µ
- –û—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –º–∏–Ω–∏-–±–æ—Å—Å–æ–º "–î—Ä–µ–≤–Ω–∏–π —Å–∫–µ–ª–µ—Ç" (Legendary Elite Skeleton)
- –ü–æ—Å–ª–µ –ø–æ–±–µ–¥—ã –≤—ã–¥–∞–µ—Ç—Å—è –§–∏–ª–∞–∫—Ç–µ—Ä–∏—è
- –ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–≤–µ—Å—Ç–∞ —É–±–∏—Ä–∞–µ—Ç—Å—è –∏–∑ –ø—É–ª–∞ –∫–æ–º–Ω–∞—Ç

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
```gdscript
func _should_spawn_necromancer_crypt() -> bool:
    var player_data = PlayerManager.get_player_data()
    if not player_data:
        return false
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º —É—Å–ª–æ–≤–∏—è:
    # 1. –ö—Ä–∏—Å—Ç–∞–ª–ª –ø–æ–∑–Ω–∞–Ω–∏—è –ø–æ–ª—É—á–µ–Ω
    # 2. –§–∏–ª–∞–∫—Ç–µ—Ä–∏—è –µ—â–µ –Ω–µ –ø–æ–ª—É—á–µ–Ω–∞
    # 3. –¢–µ–∫—É—â–∞—è –ª–æ–∫–∞—Ü–∏—è - –ó–∞–±—Ä–æ—à–µ–Ω–Ω–æ–µ –∫–ª–∞–¥–±–∏—â–µ
    # 4. –ö–æ–º–Ω–∞—Ç–∞ >= 3
    # 5. –®–∞–Ω—Å 50%
    
    if not player_data.has_knowledge_crystal:
        return false
    if player_data.has_phylactery:
        return false
    if current_location != "abandoned_cemetery":
        return false
    if current_room_number < 3:
        return false
    
    return randf() < 0.5  # 50% —à–∞–Ω—Å
```

---

## üé® –≠—Ç–∞–ø 4: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI –∏ –ø–æ–¥—Å–∫–∞–∑–æ–∫

### 4.1 –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ AbilityLearningScreen.gd

**–§—É–Ω–∫—Ü–∏—è `_get_unlock_hint()`:**
```gdscript
func _get_unlock_hint(rarity: String) -> String:
    match rarity:
        "epic", "legendary":
            return "–ù–∞–π–¥–∏—Ç–µ –ö—Ä–∏—Å—Ç–∞–ª–ª –ø–æ–∑–Ω–∞–Ω–∏—è –≤ –¢—ë–º–Ω–æ–º –ª–µ—Å—É"  # –ò–∑–º–µ–Ω–µ–Ω–æ
        "mythic":
            return "–ù–∞–π–¥–∏—Ç–µ –§–∏–ª–∞–∫—Ç–µ—Ä–∏—é –≤ –ó–∞–±—Ä–æ—à–µ–Ω–Ω–æ–º –∫–ª–∞–¥–±–∏—â–µ"  # –ò–∑–º–µ–Ω–µ–Ω–æ
    return ""
```

**–§—É–Ω–∫—Ü–∏—è `_get_soul_development_unlock_hint()`:**
```gdscript
func _get_soul_development_unlock_hint(level: int) -> String:
    if level <= 2:
        return "–¢—Ä–µ–±—É–µ—Ç—Å—è: –£—Ä–Ω–∞ –¥—É—à"
    elif level <= 4:
        return "–¢—Ä–µ–±—É–µ—Ç—Å—è: –ö—Ä–∏—Å—Ç–∞–ª–ª –ø–æ–∑–Ω–∞–Ω–∏—è"
    elif level <= 6:
        return "–¢—Ä–µ–±—É–µ—Ç—Å—è: –§–∏–ª–∞–∫—Ç–µ—Ä–∏—è"  # –ò–∑–º–µ–Ω–µ–Ω–æ
    return ""
```

### 4.2 –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è

**–ò–∫–æ–Ω–∫–∏ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤:**
1. **–£—Ä–Ω–∞ –¥—É—à** - –¥—Ä–µ–≤–Ω–∏–π —Å–æ—Å—É–¥ —Å –≥–æ–ª—É–±—ã–º —Å–≤–µ—á–µ–Ω–∏–µ–º ‚úÖ
2. **–ö—Ä–∏—Å—Ç–∞–ª–ª –ø–æ–∑–Ω–∞–Ω–∏—è** - —Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π –∫—Ä–∏—Å—Ç–∞–ª–ª —Å —Ä—É–Ω–∞–º–∏ ‚úÖ
3. **–§–∏–ª–∞–∫—Ç–µ—Ä–∏—è** - —Ç–µ–º–Ω—ã–π —Å–æ—Å—É–¥ —Å –∑–µ–ª–µ–Ω–æ–≤–∞—Ç—ã–º —Å–≤–µ—á–µ–Ω–∏–µ–º (–≤–º–µ—Å—Ç–æ –∑–æ–ª–æ—Ç–æ–π —Å—Ñ–µ—Ä—ã) ‚ö†Ô∏è

---

## üìä –≠—Ç–∞–ø 5: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

### 5.1 –¢–∞–±–ª–∏—Ü–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∏–∏ (—Å—Ç—Ä–æ–∫–∞ 594-600)

**–¢–µ–∫—É—â–∞—è —Ç–∞–±–ª–∏—Ü–∞:**
```
| 3 | **–ö—Ä–∏—Å—Ç–∞–ª–ª –ø–æ–∑–Ω–∞–Ω–∏—è** | –î—Ä–µ–≤–Ω–∏–µ —Ä—É–∏–Ω—ã | –î—Ä–µ–≤–Ω–∏–π —Å—Ç—Ä–∞–∂ | ...
| 4 | **–°—Ñ–µ—Ä–∞ –≤–µ—á–Ω–æ—Å—Ç–∏** | –ü—Ä–æ–∫–ª—è—Ç—ã–µ –∫–∞—Ç–∞–∫–æ–º–±—ã | –í–ª–∞–¥—ã–∫–∞ –ø—Ä–æ–∫–ª—è—Ç—ã—Ö | ...
```

**–û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞:**
```
| 3 | **–ö—Ä–∏—Å—Ç–∞–ª–ª –ø–æ–∑–Ω–∞–Ω–∏—è** | –¢—ë–º–Ω—ã–π –ª–µ—Å | –û—Ä–∫ –∫—É–ª—å—Ç–∏—Å—Ç | ‚úÖ –£—Ä–æ–≤–µ–Ω—å 2 (–¥–æ Legendary) | ‚úÖ –£—Ä–æ–≤–Ω–∏ 3-4 |
| 4 | **–§–∏–ª–∞–∫—Ç–µ—Ä–∏—è** | –ó–∞–±—Ä–æ—à–µ–Ω–Ω–æ–µ –∫–ª–∞–¥–±–∏—â–µ | –î—Ä–µ–≤–Ω–∏–π —Å–∫–µ–ª–µ—Ç | ‚úÖ –£—Ä–æ–≤–µ–Ω—å 3 (Mythic) | ‚úÖ –£—Ä–æ–≤–Ω–∏ 5-6 |
```

### 5.2 –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–∞–∑–¥–µ–ª–∞ "–ë–∞–ª–∞–Ω—Å –∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–∏—è"

**–í—Ä–µ–º—è –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è:**
```
| –ö—Ä–∏—Å—Ç–∞–ª–ª –ø–æ–∑–Ω–∞–Ω–∏—è | 1.5-2 —á–∞—Å–∞ | 8-10 | –¢—ë–º–Ω—ã–π –ª–µ—Å |
| –§–∏–ª–∞–∫—Ç–µ—Ä–∏—è | 2.5-3.5 —á–∞—Å–∞ | 12-15 | –ó–∞–±—Ä–æ—à–µ–Ω–Ω–æ–µ –∫–ª–∞–¥–±–∏—â–µ |
```

**–°–ª–æ–∂–Ω–æ—Å—Ç—å –±–æ—Å—Å–æ–≤:**
```
- –û—Ä–∫ –∫—É–ª—å—Ç–∏—Å—Ç - –°—Ä–µ–¥–Ω–∏–π (—Ç—Ä–µ–±—É–µ—Ç –∑–Ω–∞–Ω–∏—è –º–µ—Ö–∞–Ω–∏–∫)
- –î—Ä–µ–≤–Ω–∏–π —Å–∫–µ–ª–µ—Ç - –°–ª–æ–∂–Ω—ã–π (—Ñ–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –º–∞—Å—Ç–µ—Ä—Å—Ç–≤–∞)
```

---

## üîÑ –≠—Ç–∞–ø 6: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ battle_manager.gd

### 6.1 –í—ã–¥–∞—á–∞ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤ –ø—Ä–∏ –ø–æ–±–µ–¥–µ –Ω–∞–¥ –±–æ—Å—Å–∞–º–∏

**–¢–µ–∫—É—â–∏–π –∫–æ–¥ (–ø—Ä–∏–º–µ—Ä–Ω–æ —Å—Ç—Ä–æ–∫–∞ 4150-4160):**
```gdscript
# –ö—Ä–∏—Å—Ç–∞–ª–ª –ø–æ–∑–Ω–∞–Ω–∏—è - —É –î—Ä–µ–≤–Ω–µ–≥–æ —Å—Ç—Ä–∞–∂–∞
if enemy_name == "Ancient Guardian" and not player_data.has_knowledge_crystal:
    player_data.give_knowledge_crystal()

# –°—Ñ–µ—Ä–∞ –≤–µ—á–Ω–æ—Å—Ç–∏ - —É –í–ª–∞–¥—ã–∫–∏ –ø—Ä–æ–∫–ª—è—Ç—ã—Ö
if enemy_name == "Lord of Cursed" and not player_data.has_eternity_sphere:
    player_data.give_eternity_sphere()
```

**–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –∫–æ–¥:**
```gdscript
# –ö—Ä–∏—Å—Ç–∞–ª–ª –ø–æ–∑–Ω–∞–Ω–∏—è - —É –û—Ä–∫–∞ –∫—É–ª—å—Ç–∏—Å—Ç–∞ –≤ –¢—ë–º–Ω–æ–º –ª–µ—Å—É
if enemy_name == "Orc Cultist" and not player_data.has_knowledge_crystal:
    if current_location == "dark_forest":  # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–∫–∞—Ü–∏–∏
        player_data.give_knowledge_crystal()

# –§–∏–ª–∞–∫—Ç–µ—Ä–∏—è - —É –î—Ä–µ–≤–Ω–µ–≥–æ —Å–∫–µ–ª–µ—Ç–∞ –≤ –ó–∞–±—Ä–æ—à–µ–Ω–Ω–æ–º –∫–ª–∞–¥–±–∏—â–µ
if enemy_name == "Ancient Skeleton" and not player_data.has_phylactery:
    if current_location == "abandoned_cemetery":  # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–∫–∞—Ü–∏–∏
        player_data.give_phylactery()
```

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1 (–ö—Ä–∏—Ç–∏—á–Ω–æ):
- [ ] –û–±–Ω–æ–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `has_eternity_sphere` ‚Üí `has_phylactery` –≤ PlayerData.gd
- [ ] –°–æ–∑–¥–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `give_phylactery()` –≤ PlayerData.gd
- [ ] –û–±–Ω–æ–≤–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ/–∑–∞–≥—Ä—É–∑–∫—É —Å –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å—é
- [ ] –û–±–Ω–æ–≤–∏—Ç—å –≤—ã–¥–∞—á—É –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤ –≤ battle_manager.gd
- [ ] –û–±–Ω–æ–≤–∏—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫–∏ –≤ AbilityLearningScreen.gd

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2 (–í–∞–∂–Ω–æ):
- [ ] –û–±–Ω–æ–≤–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –∫–≤–µ—Å—Ç–æ–≤ (QuestSystem –∏–ª–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π)
- [ ] –û–±–Ω–æ–≤–∏—Ç—å —É—Å–ª–æ–≤–∏—è —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –∫–≤–µ—Å—Ç–æ–≤ –≤ –¥–∏–∞–ª–æ–≥–∞—Ö
- [ ] –°–æ–∑–¥–∞—Ç—å –∫–≤–µ—Å—Ç–æ–≤—É—é –∫–æ–º–Ω–∞—Ç—É "–†–∏—Ç—É–∞–ª—å–Ω–∞—è –ø–æ–ª—è–Ω–∞" –¥–ª—è –¢—ë–º–Ω–æ–≥–æ –ª–µ—Å–∞
- [ ] –°–æ–∑–¥–∞—Ç—å –∫–≤–µ—Å—Ç–æ–≤—É—é –∫–æ–º–Ω–∞—Ç—É "–°–∫–ª–µ–ø –Ω–µ–∫—Ä–æ–º–∞–Ω—Ç–∞" –¥–ª—è –ó–∞–±—Ä–æ—à–µ–Ω–Ω–æ–≥–æ –∫–ª–∞–¥–±–∏—â–∞
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–ø–∞–≤–Ω –º–∏–Ω–∏-–±–æ—Å—Å–æ–≤ (–û—Ä–∫ –∫—É–ª—å—Ç–∏—Å—Ç, –î—Ä–µ–≤–Ω–∏–π —Å–∫–µ–ª–µ—Ç)

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3 (–ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ):
- [ ] –û–±–Ω–æ–≤–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É –ø—Ä–æ–≥—Ä–µ—Å—Å–∏–∏ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- [ ] –û–±–Ω–æ–≤–∏—Ç—å —Ä–∞–∑–¥–µ–ª "–ë–∞–ª–∞–Ω—Å –∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–∏—è" –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- [ ] –°–æ–∑–¥–∞—Ç—å –∏–∫–æ–Ω–∫—É –¥–ª—è –§–∏–ª–∞–∫—Ç–µ—Ä–∏–∏
- [ ] –û–±–Ω–æ–≤–∏—Ç—å –≤–∏–∑—É–∞–ª—å–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã –ø–æ–ª—É—á–µ–Ω–∏—è –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤
- [ ] –î–æ–±–∞–≤–∏—Ç—å –¥–∏–∞–ª–æ–≥–∏ –¥–ª—è –Ω–æ–≤—ã—Ö –∫–≤–µ—Å—Ç–æ–≤

---

## üîç –§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è

1. **Scripts/PlayerData.gd**
   - –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∞-–ø—Ä–æ–≥—Ä–µ—Å—Å–∏–∏
   - –§—É–Ω–∫—Ü–∏–∏ –≤—ã–¥–∞—á–∏ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ/–∑–∞–≥—Ä—É–∑–∫–∞

2. **Scripts/Battle/battle_manager.gd**
   - –í—ã–¥–∞—á–∞ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤ –ø—Ä–∏ –ø–æ–±–µ–¥–µ –Ω–∞–¥ –±–æ—Å—Å–∞–º–∏

3. **Scripts/UI/AbilityLearningScreen.gd**
   - –ü–æ–¥—Å–∫–∞–∑–∫–∏ –æ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π

4. **Scripts/UI/SoulSculptorDialog.gd** (–∏–ª–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π)
   - –£—Å–ª–æ–≤–∏—è —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –∫–≤–µ—Å—Ç–æ–≤

5. **Scripts/LocationManager.gd** –∏–ª–∏ **Scripts/RoomSelector.gd**
   - –õ–æ–≥–∏–∫–∞ —Å–ø–∞–≤–Ω–∞ –∫–≤–µ—Å—Ç–æ–≤—ã—Ö –∫–æ–º–Ω–∞—Ç

6. **META_PROGRESSION_SYSTEM.md**
   - –¢–∞–±–ª–∏—Ü–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∏–∏
   - –†–∞–∑–¥–µ–ª "–ë–∞–ª–∞–Ω—Å –∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–∏—è"

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

1. **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**: –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç–∞—Ä—ã—Ö —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–π –Ω—É–∂–Ω–æ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å `has_eternity_sphere` –≤ `has_phylactery`

2. **–ò–º–µ–Ω–∞ –≤—Ä–∞–≥–æ–≤**: –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –∏–º–µ–Ω–∞ "Orc Cultist" –∏ "Ancient Skeleton" —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Ä–µ–∞–ª—å–Ω—ã–º –∏–º–µ–Ω–∞–º –≤—Ä–∞–≥–æ–≤ –≤ –∏–≥—Ä–µ

3. **ID –ª–æ–∫–∞—Ü–∏–π**: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ ID –ª–æ–∫–∞—Ü–∏–π ("dark_forest", "abandoned_cemetery")

4. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ü–æ—Å–ª–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å—é —Ü–µ–ø–æ—á–∫—É –∫–≤–µ—Å—Ç–æ–≤ –æ—Ç –Ω–∞—á–∞–ª–∞ –¥–æ –∫–æ–Ω—Ü–∞

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025  
**–í–µ—Ä—Å–∏—è:** 1.1  
**–°—Ç–∞—Ç—É—Å:** –ì–æ—Ç–æ–≤ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

