# Обновление размера анимации молнии "Шаман бурь"

## Дата
28 октября 2025

## Изменение

Размер анимации молнии увеличен **в 2 раза** для более эффектного визуального отображения.

## Изменённые параметры

### До изменения:
```
Scale Start: 0.5  (начальный размер 50%)
Scale End: 1.0    (конечный размер 100%)
```

### После изменения:
```
Scale Start: 1.0  (начальный размер 100%)
Scale End: 2.0    (конечный размер 200%)
```

### Также обновлен размер при исчезновении:
```
Финальный размер: scale_end * 1.2 = 2.4 (было 1.3)
```

## Изменённые файлы

### 1. Scenes/Effects/LightningEffect.tscn
Обновлены параметры по умолчанию:
```gdscript
scale_start = 1.0  # Было: 0.5
scale_end = 2.0    # Было: 1.0
```

### 2. Scripts/Battle/LightningEffectAnimated.gd
Обновлен коэффициент финального размера при исчезновении:
```gdscript
fade_tween.tween_property(self, "scale", Vector2(scale_end * 1.2, scale_end * 1.2), fade_duration)
# Было: scale_end * 1.3
```

**Причина изменения:** С увеличенным размером (2.0) коэффициент 1.3 давал бы слишком большой размер (2.6), поэтому уменьшен до 1.2 (итого 2.4).

### 3. LIGHTNING_ANIMATION_SETUP.md
Обновлена документация с новыми значениями по умолчанию и примерами.

## Визуальное сравнение

### Старый размер (0.5 - 1.0):
```
Начало:  ⚡ (50% от базового спрайта)
Середина: ⚡ (75% от базового спрайта)
Конец:    ⚡ (100% от базового спрайта)
Исчезновение: ⚡ (130% от базового спрайта)
```

### Новый размер (1.0 - 2.0):
```
Начало:  ⚡⚡ (100% от базового спрайта)
Середина: ⚡⚡⚡ (150% от базового спрайта)
Конец:    ⚡⚡⚡⚡ (200% от базового спрайта)
Исчезновение: ⚡⚡⚡⚡⚡ (240% от базового спрайта)
```

**Результат:** Молния теперь в 2 раза больше и более заметна на поле боя!

## Настройка в редакторе

Если нужно изменить размер:

1. Откройте `Scenes/Effects/LightningEffect.tscn`
2. Выберите узел `LightningEffect`
3. В инспекторе найдите параметры:
   - **Scale Start** (1.0) - начальный размер
   - **Scale End** (2.0) - конечный размер

### Примеры настроек:

**Маленькая молния (для слабых врагов):**
```
Scale Start: 0.5
Scale End: 1.0
```

**Стандартная молния (текущее значение):**
```
Scale Start: 1.0
Scale End: 2.0
```

**Огромная молния (для боссов):**
```
Scale Start: 1.5
Scale End: 3.0
```

## Сочетание с другими параметрами

Для максимального эффекта мощной молнии:

```gdscript
# В LightningEffect.tscn
scale_start = 1.5
scale_end = 3.0
sound_volume_db = 5.0   # Громче
sound_pitch = 0.7       # Ниже (более глубокий звук)
fade_duration = 0.3     # Дольше держится
```

Для быстрой слабой молнии:

```gdscript
# В LightningEffect.tscn
scale_start = 0.5
scale_end = 1.0
sound_volume_db = -5.0  # Тише
sound_pitch = 1.3       # Выше (более резкий звук)
fade_duration = 0.1     # Быстро исчезает
```

## Влияние на игровой процесс

### До изменения:
- Эффект молнии был не очень заметен
- Игроки могли не замечать срабатывание пассивки
- Визуальный эффект не соответствовал мощности удара

### После изменения:
- ✅ Эффект молнии хорошо заметен
- ✅ Визуально впечатляющий эффект
- ✅ Соответствует мощности легендарной пассивки
- ✅ Игрок четко видит когда пассивка срабатывает
- ✅ Более эпичный визуальный стиль

## Производительность

Увеличение размера **не влияет на производительность**, так как:
- Это только масштабирование спрайта (GPU операция)
- Не добавляет дополнительных кадров
- Не создает дополнительных объектов
- Использует тот же spritesheet

## Дополнительные улучшения (опционально)

Если хотите еще больше усилить эффект:

### 1. Добавить screen shake (тряску экрана)
```gdscript
# В StormShaman.gd после создания эффекта
var camera = get_viewport().get_camera_2d()
if camera and camera.has_method("shake"):
    camera.shake(0.3, 5.0)  # Длительность, сила
```

### 2. Добавить flash эффект
```gdscript
# В LightningEffectAnimated.gd
func _play_animation():
    # Создать белую вспышку на весь экран
    var flash = ColorRect.new()
    flash.color = Color(1, 1, 1, 0.3)
    flash.size = get_viewport().size
    get_tree().root.add_child(flash)
    
    var flash_tween = create_tween()
    flash_tween.tween_property(flash, "color:a", 0.0, 0.1)
    await flash_tween.finished
    flash.queue_free()
```

### 3. Добавить particle эффект
Создать частицы искр вокруг молнии для еще большей эффектности.

## Результат

✅ Размер анимации молнии увеличен в 2 раза
✅ Эффект стал более заметным и впечатляющим
✅ Пропорции сохранены (плавное увеличение и исчезновение)
✅ Документация обновлена
✅ Производительность не пострадала

Теперь пассивка "Шаман бурь" выглядит достойно своей легендарной редкости! ⚡✨

