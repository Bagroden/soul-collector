# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞—Ü–∏–∫–ª–∏–≤–∞–Ω–∏—è –∞–Ω–∏–º–∞—Ü–∏–∏ —Å–º–µ—Ä—Ç–∏

## üéØ –ü—Ä–æ–±–ª–µ–º–∞:
–ê–Ω–∏–º–∞—Ü–∏—è —Å–º–µ—Ä—Ç–∏ –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–µ—Ç—Å—è, –Ω–æ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –∫ idle, –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è.

## üîç –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã:

### **1. –ü—Ä–æ–±–ª–µ–º–∞ –≤ –ª–æ–≥–∏–∫–µ –∞–Ω–∏–º–∞—Ü–∏–π:**
- ‚úÖ **–ê–Ω–∏–º–∞—Ü–∏—è —Å–º–µ—Ä—Ç–∏ –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–µ—Ç—Å—è** - `play_die()` —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚ùå **–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –∫ idle** - –∞–Ω–∏–º–∞—Ü–∏—è –Ω–µ –∑–∞—Ü–∏–∫–ª–∏–≤–∞–µ—Ç—Å—è
- ‚ùå **–ü–µ—Ä—Å–æ–Ω–∞–∂ –≤—ã–≥–ª—è–¥–∏—Ç –∂–∏–≤—ã–º** - –∞–Ω–∏–º–∞—Ü–∏—è idle –ø–æ—Å–ª–µ —Å–º–µ—Ä—Ç–∏

### **2. –ü—Ä–∏—á–∏–Ω–∞:**
–ê–Ω–∏–º–∞—Ü–∏—è —Å–º–µ—Ä—Ç–∏ –Ω–µ –∑–∞—Ü–∏–∫–ª–∏–≤–∞–µ—Ç—Å—è –∏ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –Ω–∞ —Å–ª–µ–¥—É—é—â—É—é –∞–Ω–∏–º–∞—Ü–∏—é (idle).

## üõ†Ô∏è –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

### **1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∞–Ω–∏–º–∞—Ü–∏–∏ —Å–º–µ—Ä—Ç–∏ –∫–∞–∫ –∑–∞—Ü–∏–∫–ª–µ–Ω–Ω–æ–π:**
```gdscript
func play_die() -> void:
	if has_animation(die_anim):
		# –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é
		animation = die_anim
		play(die_anim)
		# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é –∫–∞–∫ –∑–∞—Ü–∏–∫–ª–µ–Ω–Ω—É—é, —á—Ç–æ–±—ã –æ–Ω–∞ –Ω–µ –∑–∞–≤–µ—Ä—à–∞–ª–∞—Å—å
		sprite_frames.set_animation_loop(die_anim, true)
		print("–ê–Ω–∏–º–∞—Ü–∏—è —Å–º–µ—Ä—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –∫–∞–∫ –∑–∞—Ü–∏–∫–ª–µ–Ω–Ω–∞—è")
		# –ü–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –∫ —Å–∏–≥–Ω–∞–ª—É –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è, —á—Ç–æ–±—ã –ù–ï –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å—Å—è –∫ idle
		animation_finished.connect(_on_die_animation_finished, CONNECT_ONE_SHOT)
```

### **2. –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∞–Ω–∏–º–∞—Ü–∏–∏ –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–º –∫–∞–¥—Ä–µ:**
```gdscript
func _on_die_animation_finished():
	print("–ê–Ω–∏–º–∞—Ü–∏—è —Å–º–µ—Ä—Ç–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ –¥–ª—è ", get_parent().name)
	print("–¢–µ–∫—É—â–∞—è –∞–Ω–∏–º–∞—Ü–∏—è –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è: ", animation)
	# –ù–ï –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—Å—è –∫ idle - –ø–µ—Ä—Å–æ–Ω–∞–∂ –º–µ—Ä—Ç–≤!
	print("–ü–µ—Ä—Å–æ–Ω–∞–∂ –º–µ—Ä—Ç–≤, –ù–ï –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—Å—è –∫ idle")
	# –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–º –∫–∞–¥—Ä–µ —Å–º–µ—Ä—Ç–∏
	stop()
	print("–ê–Ω–∏–º–∞—Ü–∏—è –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–º –∫–∞–¥—Ä–µ —Å–º–µ—Ä—Ç–∏")
```

## üéÆ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:

### **1. –û—Ç–ª–∞–¥–æ—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–∫–∞–∂—É—Ç:**
```
–ò–≥—Ä–æ–∫ –ø–æ–≥–∏–±, –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é —Å–º–µ—Ä—Ç–∏...
Visual –Ω–∞–π–¥–µ–Ω: Visual:<AnimatedSprite2D#193290307301>
–í—ã–∑—ã–≤–∞–µ–º play_die()
play_die() –≤—ã–∑–≤–∞–Ω –¥–ª—è PlayerBody
die_anim = die
has_animation(die_anim) = true
sprite_frames = [SpriteFrames:1234]
current animation = idle
–ü—Ä–æ–∏–≥—Ä—ã–≤–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é —Å–º–µ—Ä—Ç–∏: die
–ê–Ω–∏–º–∞—Ü–∏—è –∑–∞–ø—É—â–µ–Ω–∞, —Ç–µ–∫—É—â–∞—è –∞–Ω–∏–º–∞—Ü–∏—è: die
–ê–Ω–∏–º–∞—Ü–∏—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ
–ê–Ω–∏–º–∞—Ü–∏—è —Å–º–µ—Ä—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –∫–∞–∫ –∑–∞—Ü–∏–∫–ª–µ–Ω–Ω–∞—è
play_die() –≤—ã–∑–≤–∞–Ω (–±–µ–∑ await, –∫–∞–∫ —É –≤—Ä–∞–≥–æ–≤)
–ê–Ω–∏–º–∞—Ü–∏—è —Å–º–µ—Ä—Ç–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ –¥–ª—è PlayerBody
–¢–µ–∫—É—â–∞—è –∞–Ω–∏–º–∞—Ü–∏—è –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è: die
–ü–µ—Ä—Å–æ–Ω–∞–∂ –º–µ—Ä—Ç–≤, –ù–ï –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—Å—è –∫ idle
–ê–Ω–∏–º–∞—Ü–∏—è –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–º –∫–∞–¥—Ä–µ —Å–º–µ—Ä—Ç–∏
–°–æ–æ–±—â–µ–Ω–∏–µ: –¢—ã –ø–æ–≥–∏–±. –î—É—à–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è.
```

### **2. –†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ **–ê–Ω–∏–º–∞—Ü–∏—è —Å–º–µ—Ä—Ç–∏ –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–µ—Ç—Å—è** - `play_die()` —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ **–ê–Ω–∏–º–∞—Ü–∏—è –∑–∞—Ü–∏–∫–ª–∏–≤–∞–µ—Ç—Å—è** - `sprite_frames.set_animation_loop(die_anim, true)`
- ‚úÖ **–û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–º –∫–∞–¥—Ä–µ** - `stop()`
- ‚úÖ **–ù–ï –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –∫ idle** - –ø–µ—Ä—Å–æ–Ω–∞–∂ –æ—Å—Ç–∞–µ—Ç—Å—è –º–µ—Ä—Ç–≤—ã–º

## ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é!

–¢–µ–ø–µ—Ä—å —Å–∏—Å—Ç–µ–º–∞:
- ‚úÖ **–ê–Ω–∏–º–∞—Ü–∏—è —Å–º–µ—Ä—Ç–∏ –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–µ—Ç—Å—è** - `play_die()` —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ **–ê–Ω–∏–º–∞—Ü–∏—è –∑–∞—Ü–∏–∫–ª–∏–≤–∞–µ—Ç—Å—è** - –Ω–µ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- ‚úÖ **–û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–º –∫–∞–¥—Ä–µ** - –ø–µ—Ä—Å–æ–Ω–∞–∂ –æ—Å—Ç–∞–µ—Ç—Å—è –º–µ—Ä—Ç–≤—ã–º
- ‚úÖ **–ù–ï –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –∫ idle** - —Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

**–¢–µ–ø–µ—Ä—å –∞–Ω–∏–º–∞—Ü–∏—è —Å–º–µ—Ä—Ç–∏ –¥–æ–ª–∂–Ω–∞ –ø—Ä–æ–∏–≥—Ä–∞—Ç—å—Å—è –∏ –æ—Å—Ç–∞—Ç—å—Å—è –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–º –∫–∞–¥—Ä–µ!** üéÆüíÄ
