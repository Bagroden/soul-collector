# –°–∏—Å—Ç–µ–º–∞ –¥–∏–∞–ª–æ–≥–æ–≤ –°–∫—É–ª—å–ø—Ç–æ—Ä–∞ –¥—É—à

## –û–±–∑–æ—Ä

–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –¥–∏–∞–ª–æ–≥–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è NPC "–°–∫—É–ª—å–ø—Ç–æ—Ä –¥—É—à", –ø–æ–∑–≤–æ–ª—è—é—â–∞—è –∏–≥—Ä–æ–∫—É –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å NPC –∏ –ø–æ–ª—É—á–∞—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Ä–∞–∑–ª–∏—á–Ω—ã–º —Ñ—É–Ω–∫—Ü–∏—è–º –ø—Ä–æ–∫–∞—á–∫–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞.

---

## –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã

### 1. SoulSculptorDialog.gd

**–§–∞–π–ª:** `Scripts/UI/SoulSculptorDialog.gd`  
**–¢–∏–ø:** Control  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –î–∏–∞–ª–æ–≥–æ–≤–æ–µ –æ–∫–Ω–æ —Å –º–µ–Ω—é –æ–ø—Ü–∏–π –∏ —Ç–µ–∫—Å—Ç–æ–≤—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏

#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ UI:

```
SoulSculptorDialog (Control)
‚îî‚îÄ‚îÄ DialogPanel (Panel) [600x500]
    ‚îî‚îÄ‚îÄ MainVBox (VBoxContainer)
        ‚îú‚îÄ‚îÄ TitleLabel (Label) - "üóø –°–∫—É–ª—å–ø—Ç–æ—Ä –¥—É—à"
        ‚îú‚îÄ‚îÄ HSeparator
        ‚îú‚îÄ‚îÄ MessageLabel (Label) - —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
        ‚îú‚îÄ‚îÄ OptionsContainer (VBoxContainer) - –∫–Ω–æ–ø–∫–∏ –º–µ–Ω—é
        ‚îú‚îÄ‚îÄ HSeparator
        ‚îî‚îÄ‚îÄ CloseButton (Button) - "–ó–∞–∫—Ä—ã—Ç—å" / "–ù–∞–∑–∞–¥"
```

#### –°–∏–≥–Ω–∞–ª—ã:

| –°–∏–≥–Ω–∞–ª | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|----------|
| `soul_development_requested` | –ó–∞–ø—Ä–æ—Å –Ω–∞ —Ä–∞–∑–≤–∏—Ç–∏–µ –¥—É—à–∏ |
| `passive_activation_requested` | –ó–∞–ø—Ä–æ—Å –Ω–∞ –∞–∫—Ç–∏–≤–∞—Ü–∏—é –ø–∞—Å—Å–∏–≤–Ω—ã—Ö —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π |
| `ability_learning_requested` | –ó–∞–ø—Ä–æ—Å –Ω–∞ –æ—Ç–∫—Ä—ã—Ç–∏–µ —ç–∫—Ä–∞–Ω–∞ –∏–∑—É—á–µ–Ω–∏—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π |
| `dialog_closed` | –î–∏–∞–ª–æ–≥ –∑–∞–∫—Ä—ã—Ç |

#### –ú–µ—Ç–æ–¥—ã:

**`show_menu()`**
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é —Å –æ–ø—Ü–∏—è–º–∏
- –°–æ–∑–¥–∞–µ—Ç —Ç—Ä–∏ –∫–Ω–æ–ø–∫–∏:
  1. "üåü –†–∞–∑–≤–∏—Ç–∏–µ –¥—É—à–∏"
  2. "‚ö° –ê–∫—Ç–∏–≤–∞—Ü–∏—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π"
  3. "üìö –ò–∑—É—á–µ–Ω–∏–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π"

**`show_message(message: String)`**
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ–∫—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
- –°–∫—Ä—ã–≤–∞–µ—Ç –æ–ø—Ü–∏–∏ –º–µ–Ω—é
- –ú–µ–Ω—è–µ—Ç –∫–Ω–æ–ø–∫—É "–ó–∞–∫—Ä—ã—Ç—å" –Ω–∞ "–ù–∞–∑–∞–¥"

**`_on_soul_development_pressed()`**
- –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ–ø—Ü–∏–∏ "–†–∞–∑–≤–∏—Ç–∏–µ –¥—É—à–∏"
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞ "–£—Ä–Ω–∞ –¥—É—à"
- –ï—Å–ª–∏ –Ω–µ—Ç –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞ - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ–∫—Å—Ç –∫–≤–µ—Å—Ç–∞
- –ï—Å–ª–∏ –µ—Å—Ç—å –∞—Ä—Ç–µ—Ñ–∞–∫—Ç - –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Ä–∞–∑–≤–∏—Ç–∏–µ –¥—É—à–∏ (TODO)

**`_on_passive_activation_pressed()`**
- –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ–ø—Ü–∏–∏ "–ê–∫—Ç–∏–≤–∞—Ü–∏—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π"
- –ó–∞–∫—Ä—ã–≤–∞–µ—Ç –¥–∏–∞–ª–æ–≥ –∏ –ø–æ—Å—ã–ª–∞–µ—Ç —Å–∏–≥–Ω–∞–ª `passive_activation_requested`
- –û—Ç–∫—Ä—ã–≤–∞–µ—Ç –æ–∫–Ω–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∞—Å—Å–∏–≤–Ω—ã–º–∏ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—è–º–∏ (–∞–∫—Ç–∏–≤–∞—Ü–∏—è/–¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è)

**`_on_ability_learning_pressed()`**
- –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ–ø—Ü–∏–∏ "–ò–∑—É—á–µ–Ω–∏–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π"
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞ "–£—Ä–Ω–∞ –¥—É—à"
- –ï—Å–ª–∏ –Ω–µ—Ç –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞ - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –¥–æ—Å—Ç–∞–≤–∏—Ç—å —É—Ä–Ω—É
- –ï—Å–ª–∏ –µ—Å—Ç—å –∞—Ä—Ç–µ—Ñ–∞–∫—Ç - –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –¥–∏–∞–ª–æ–≥ –∏ –ø–æ—Å—ã–ª–∞–µ—Ç —Å–∏–≥–Ω–∞–ª `ability_learning_requested`
- –û—Ç–∫—Ä—ã–≤–∞–µ—Ç —ç–∫—Ä–∞–Ω –∏–∑—É—á–µ–Ω–∏—è –Ω–æ–≤—ã—Ö —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π –∑–∞ –æ—Å–∫–æ–ª–∫–∏ –¥—É—à

---

### 2. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ SoulSculptor.gd

**–§–∞–π–ª:** `Scripts/NPC/SoulSculptor.gd`

#### –î–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

```gdscript
## –î–∏–∞–ª–æ–≥–æ–≤–æ–µ –æ–∫–Ω–æ
var dialog: Control = null
```

#### –î–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã:

**`_create_dialog()`**
- –°–æ–∑–¥–∞–µ—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä `SoulSculptorDialog`
- –î–æ–±–∞–≤–ª—è–µ—Ç –µ–≥–æ –∫ –∫–æ—Ä–Ω–µ–≤–æ–º—É —É–∑–ª—É —Å—Ü–µ–Ω—ã (CharacterPreparation)
- –ü–æ–¥–∫–ª—é—á–∞–µ—Ç —Å–∏–≥–Ω–∞–ª—ã
- –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –æ—Ç–ª–æ–∂–µ–Ω–Ω–æ —á–µ—Ä–µ–∑ `call_deferred()` –≤ `_ready()`

**`_on_npc_clicked()`** *(–º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω)*
- –û—Ç–∫—Ä—ã–≤–∞–µ—Ç –¥–∏–∞–ª–æ–≥ –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ NPC
- –í—ã–∑—ã–≤–∞–µ—Ç `dialog.show_menu()`
- –ü—Ä–æ–∏–≥—Ä—ã–≤–∞–µ—Ç –∑–≤—É–∫ "page"

**`_on_passive_learning_requested()`**
- –ü–æ–ª—É—á–∞–µ—Ç —Å–∏–≥–Ω–∞–ª –æ—Ç –¥–∏–∞–ª–æ–≥–∞
- –í—ã–∑—ã–≤–∞–µ—Ç `char_prep.open_passive_abilities_window()`

**`_on_dialog_closed()`**
- –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∑–∞–∫—Ä—ã—Ç–∏—è –¥–∏–∞–ª–æ–≥–∞
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

---

### 3. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ CharacterPreparation.gd

**–§–∞–π–ª:** `Scripts/UI/CharacterPreparation.gd`

#### –î–æ–±–∞–≤–ª–µ–Ω–Ω—ã–π –º–µ—Ç–æ–¥:

**`open_passive_abilities_window()`**
- –ü—É–±–ª–∏—á–Ω—ã–π –º–µ—Ç–æ–¥ –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –æ–∫–Ω–∞ –ø–∞—Å—Å–∏–≤–Ω—ã—Ö —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å–∏—Å—Ç–µ–º—É –ø–∞—Å—Å–∏–≤–Ω—ã—Ö —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π
- –ò–∑—É—á–∞–µ—Ç –±–∞–∑–æ–≤—ã–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ (–µ—Å–ª–∏ –µ—â–µ –Ω–µ –∏–∑—É—á–µ–Ω—ã)
- –í—ã–∑—ã–≤–∞–µ—Ç `_show_passive_abilities_window()`

**–ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è `_on_passive_button_pressed()`:**
- –¢–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `open_passive_abilities_window()`
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å –∫–Ω–æ–ø–∫–æ–π –Ω–∞ UI

---

## –ü–æ—Ç–æ–∫–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è

### –ü–æ—Ç–æ–∫ 1: –ö–ª–∏–∫ –Ω–∞ NPC ‚Üí –†–∞–∑–≤–∏—Ç–∏–µ –¥—É—à–∏

```
1. –ò–≥—Ä–æ–∫ –∫–ª–∏–∫–∞–µ—Ç –Ω–∞ –°–∫—É–ª—å–ø—Ç–æ—Ä–∞ –¥—É—à
   ‚îî‚îÄ> SoulSculptor._on_npc_clicked()
       ‚îî‚îÄ> dialog.show_menu()
           ‚îî‚îÄ> –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –º–µ–Ω—é —Å –æ–ø—Ü–∏—è–º–∏

2. –ò–≥—Ä–æ–∫ –≤—ã–±–∏—Ä–∞–µ—Ç "üåü –†–∞–∑–≤–∏—Ç–∏–µ –¥—É—à–∏"
   ‚îî‚îÄ> SoulSculptorDialog._on_soul_development_pressed()
       ‚îî‚îÄ> –ü—Ä–æ–≤–µ—Ä–∫–∞ has_soul_urn (TODO: –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å PlayerData)
           ‚îú‚îÄ> –ù–µ—Ç –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞: –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ–∫—Å—Ç –∫–≤–µ—Å—Ç–∞
           ‚îî‚îÄ> –ï—Å—Ç—å –∞—Ä—Ç–µ—Ñ–∞–∫—Ç: –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Ä–∞–∑–≤–∏—Ç–∏–µ –¥—É—à–∏

3. –ï—Å–ª–∏ –ø–æ–∫–∞–∑–∞–Ω —Ç–µ–∫—Å—Ç –∫–≤–µ—Å—Ç–∞:
   ‚îî‚îÄ> –ò–≥—Ä–æ–∫ –Ω–∞–∂–∏–º–∞–µ—Ç "–ù–∞–∑–∞–¥"
       ‚îî‚îÄ> –í–æ–∑–≤—Ä–∞—Ç –∫ –º–µ–Ω—é (show_menu())
```

### –ü–æ—Ç–æ–∫ 2: –ö–ª–∏–∫ –Ω–∞ NPC ‚Üí –ê–∫—Ç–∏–≤–∞—Ü–∏—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π

```
1. –ò–≥—Ä–æ–∫ –∫–ª–∏–∫–∞–µ—Ç –Ω–∞ –°–∫—É–ª—å–ø—Ç–æ—Ä–∞ –¥—É—à
   ‚îî‚îÄ> SoulSculptor._on_npc_clicked()
       ‚îî‚îÄ> dialog.show_menu()

2. –ò–≥—Ä–æ–∫ –≤—ã–±–∏—Ä–∞–µ—Ç "‚ö° –ê–∫—Ç–∏–≤–∞—Ü–∏—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π"
   ‚îî‚îÄ> SoulSculptorDialog._on_passive_activation_pressed()
       ‚îî‚îÄ> –ü–æ—Å—ã–ª–∞–µ—Ç —Å–∏–≥–Ω–∞–ª passive_activation_requested
           ‚îî‚îÄ> SoulSculptor._on_passive_activation_requested()
               ‚îî‚îÄ> CharacterPreparation.open_passive_abilities_window()
                   ‚îî‚îÄ> –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –æ–∫–Ω–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∞—Å—Å–∏–≤–Ω—ã–º–∏ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—è–º–∏
```

### –ü–æ—Ç–æ–∫ 3: –ö–ª–∏–∫ –Ω–∞ NPC ‚Üí –ò–∑—É—á–µ–Ω–∏–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π

```
1. –ò–≥—Ä–æ–∫ –∫–ª–∏–∫–∞–µ—Ç –Ω–∞ –°–∫—É–ª—å–ø—Ç–æ—Ä–∞ –¥—É—à
   ‚îî‚îÄ> SoulSculptor._on_npc_clicked()
       ‚îî‚îÄ> dialog.show_menu()

2. –ò–≥—Ä–æ–∫ –≤—ã–±–∏—Ä–∞–µ—Ç "üìö –ò–∑—É—á–µ–Ω–∏–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π"
   ‚îî‚îÄ> SoulSculptorDialog._on_ability_learning_pressed()
       ‚îî‚îÄ> –ü—Ä–æ–≤–µ—Ä–∫–∞ has_soul_urn (TODO: –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å PlayerData)
           ‚îú‚îÄ> –ù–µ—Ç –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞: –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —É—Ä–Ω—ã
           ‚îÇ   ‚îî‚îÄ> –ò–≥—Ä–æ–∫ –Ω–∞–∂–∏–º–∞–µ—Ç "–ù–∞–∑–∞–¥" ‚Üí –≤–æ–∑–≤—Ä–∞—Ç –∫ –º–µ–Ω—é
           ‚îî‚îÄ> –ï—Å—Ç—å –∞—Ä—Ç–µ—Ñ–∞–∫—Ç: –ø–æ—Å—ã–ª–∞–µ—Ç —Å–∏–≥–Ω–∞–ª ability_learning_requested
               ‚îî‚îÄ> SoulSculptor._on_ability_learning_requested()
                   ‚îî‚îÄ> CharacterPreparation._on_ability_learning_button_pressed()
                       ‚îî‚îÄ> –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —ç–∫—Ä–∞–Ω –∏–∑—É—á–µ–Ω–∏—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π
```

### –ü–æ—Ç–æ–∫ 4: –ó–∞–∫—Ä—ã—Ç–∏–µ –¥–∏–∞–ª–æ–≥–∞

```
1. –ò–≥—Ä–æ–∫ –Ω–∞–∂–∏–º–∞–µ—Ç "–ó–∞–∫—Ä—ã—Ç—å" (–≤ –º–µ–Ω—é)
   ‚îî‚îÄ> SoulSculptorDialog._on_close_button_pressed()
       ‚îî‚îÄ> hide() + –ø–æ—Å—ã–ª–∞–µ—Ç —Å–∏–≥–Ω–∞–ª dialog_closed

2. –ò–≥—Ä–æ–∫ –Ω–∞–∂–∏–º–∞–µ—Ç "–ù–∞–∑–∞–¥" (–≤ —Å–æ–æ–±—â–µ–Ω–∏–∏)
   ‚îî‚îÄ> SoulSculptorDialog._on_close_button_pressed()
       ‚îî‚îÄ> show_menu() (–≤–æ–∑–≤—Ä–∞—Ç –∫ –º–µ–Ω—é)

3. –ò–≥—Ä–æ–∫ –Ω–∞–∂–∏–º–∞–µ—Ç ESC
   ‚îî‚îÄ> SoulSculptorDialog._input()
       ‚îî‚îÄ> _on_close_button_pressed()
```

---

## –¢–µ–∫—Å—Ç—ã –¥–∏–∞–ª–æ–≥–æ–≤

### "–†–∞–∑–≤–∏—Ç–∏–µ –¥—É—à–∏" - –ü—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –£—Ä–Ω—ã –¥—É—à:

```
–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é —Ç–µ–±—è, –ø—É—Ç–Ω–∏–∫.

–Ø —á—É–≤—Å—Ç–≤—É—é –≤ —Ç–µ–±–µ —Å–∏–ª—É –¥—É—à... –Ø - –°–∫—É–ª—å–ø—Ç–æ—Ä –¥—É—à, –º–∞—Å—Ç–µ—Ä –¥—Ä–µ–≤–Ω–µ–≥–æ –∏—Å–∫—É—Å—Å—Ç–≤–∞ —Ä–∞–±–æ—Ç—ã —Å –¥—É—Ö–æ–≤–Ω–æ–π —ç–Ω–µ—Ä–≥–∏–µ–π.

–Ø –º–æ–≥—É –ø–æ–º–æ—á—å —Ç–µ–±–µ –Ω–∞—É—á–∏—Ç—å—Å—è –Ω–æ–≤—ã–º —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—è–º, –ø–µ—Ä–µ–Ω–∏–º–∞—è –∏—Ö —É –ø–æ–≤–µ—Ä–∂–µ–Ω–Ω—ã—Ö –≤—Ä–∞–≥–æ–≤. –ù–æ –¥–ª—è —ç—Ç–æ–≥–æ –º–Ω–µ –Ω—É–∂–µ–Ω –æ—Å–æ–±—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç - –£—Ä–Ω–∞ –¥—É—à.

–ú–Ω–æ–≥–æ –ª–µ—Ç –Ω–∞–∑–∞–¥ –Ω–µ—É–¥–∞—á–ª–∏–≤—ã–π –≤–æ—Ä —É–∫—Ä–∞–ª –µ—ë –∏ —Å–≥–∏–Ω—É–ª –≤ –ø–æ–¥–∑–µ–º–µ–ª—å—è—Ö –ø–æ–¥ –≥–æ—Ä–æ–¥–æ–º. –Ø —á—É–≤—Å—Ç–≤—É—é, —á—Ç–æ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç –≤—Å–µ –µ—â–µ —Ç–∞–º.

–í–µ—Ä–Ω–∏ –µ–≥–æ –º–Ω–µ –∏ —è —Å–º–æ–≥—É –ø–æ–º–æ—á—å —Ç–µ–±–µ.
```

*–ò—Å—Ç–æ—á–Ω–∏–∫: META_PROGRESSION_SYSTEM.md, –≠—Ç–∞–ø 1*

### "–ò–∑—É—á–µ–Ω–∏–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π" - –ü—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –£—Ä–Ω—ã –¥—É—à:

```
–Ø –≤–∏–∂—É —Ç–≤–æ–µ —Å—Ç—Ä–µ–º–ª–µ–Ω–∏–µ –∫ –∑–Ω–∞–Ω–∏—è–º, –Ω–æ —Å–Ω–∞—á–∞–ª–∞ –º–Ω–µ –Ω—É–∂–Ω–∞ –£—Ä–Ω–∞ –¥—É—à.

–ë–µ–∑ —ç—Ç–æ–≥–æ –¥—Ä–µ–≤–Ω–µ–≥–æ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞ —è –Ω–µ —Å–º–æ–≥—É –ø–æ–º–æ—á—å —Ç–µ–±–µ –∏–∑—É—á–∏—Ç—å —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –ø–æ–≤–µ—Ä–∂–µ–Ω–Ω—ã—Ö –≤—Ä–∞–≥–æ–≤.

–ù–∞–π–¥–∏ –£—Ä–Ω—É –¥—É—à –≤ –ø–æ–¥–∑–µ–º–µ–ª—å–µ –ø–æ–¥ –≥–æ—Ä–æ–¥–æ–º, –∏ —è –Ω–∞—É—á—É —Ç–µ–±—è –ø–µ—Ä–µ–Ω–∏–º–∞—Ç—å —Å–∏–ª—É –≤—Ä–∞–≥–æ–≤.
```

---

## –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è UI

### –¶–≤–µ—Ç–∞:

- **–ó–∞–≥–æ–ª–æ–≤–æ–∫:** `Color(0.9, 0.8, 0.5)` - –∑–æ–ª–æ—Ç–∏—Å—Ç—ã–π
- **–†–∞–∑–º–µ—Ä –∑–∞–≥–æ–ª–æ–≤–∫–∞:** 32px
- **–†–∞–∑–º–µ—Ä —Ç–µ–∫—Å—Ç–∞ –æ–ø—Ü–∏–π:** 20px
- **–†–∞–∑–º–µ—Ä —Ç–µ–∫—Å—Ç–∞ —Å–æ–æ–±—â–µ–Ω–∏—è:** 18px

### –†–∞–∑–º–µ—Ä—ã:

- **–î–∏–∞–ª–æ–≥–æ–≤–∞—è –ø–∞–Ω–µ–ª—å:** 600x500 –ø–∏–∫—Å–µ–ª–µ–π
- **–ö–Ω–æ–ø–∫–∏ –æ–ø—Ü–∏–π:** 500x60 –ø–∏–∫—Å–µ–ª–µ–π (–º–∏–Ω–∏–º—É–º)
- **–ö–Ω–æ–ø–∫–∞ –∑–∞–∫—Ä—ã—Ç–∏—è:** 200x50 –ø–∏–∫—Å–µ–ª–µ–π
- **–û—Ç—Å—Ç—É–ø—ã:** 20 –ø–∏–∫—Å–µ–ª–µ–π –º–µ–∂–¥—É —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏

### –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ:

- **–î–∏–∞–ª–æ–≥ —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω** –Ω–∞ —ç–∫—Ä–∞–Ω–µ
- **z_index = 100** - –ø–æ–≤–µ—Ä—Ö –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤

---

## TODO: –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

### 1. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–∏—Å—Ç–µ–º–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å–∞

```gdscript
# –í _on_soul_development_pressed():
var has_soul_urn = PlayerData.has_soul_urn  # –í–º–µ—Å—Ç–æ false
```

### 2. –ú–µ–Ω—é —Ä–∞–∑–≤–∏—Ç–∏—è –¥—É—à–∏

- –°–æ–∑–¥–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π —ç–∫—Ä–∞–Ω –¥–ª—è —Ä–∞–∑–≤–∏—Ç–∏—è –¥—É—à–∏
- –î–æ–±–∞–≤–∏—Ç—å –µ–≥–æ –æ—Ç–∫—Ä—ã—Ç–∏–µ –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞

### 3. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∏–∞–ª–æ–≥–∏

- –î–∏–∞–ª–æ–≥–∏ –¥–ª—è –¥—Ä—É–≥–∏—Ö –∫–≤–µ—Å—Ç–æ–≤ (–ö—Ä–∏—Å—Ç–∞–ª–ª –ø–æ–∑–Ω–∞–Ω–∏—è, –°—Ñ–µ—Ä–∞ –≤–µ—á–Ω–æ—Å—Ç–∏)
- –°–ª—É—á–∞–π–Ω—ã–µ —Ä–µ–ø–ª–∏–∫–∏ –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ—Å–µ—â–µ–Ω–∏—è—Ö
- –ü–æ–¥—Å–∫–∞–∑–∫–∏ –∏ –ª–æ—Ä –æ –º–∏—Ä–µ –∏–≥—Ä—ã

### 4. –í–∏–∑—É–∞–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

- –ü–æ—Ä—Ç—Ä–µ—Ç NPC –≤ –¥–∏–∞–ª–æ–≥–æ–≤–æ–º –æ–∫–Ω–µ
- –ê–Ω–∏–º–∞—Ü–∏–∏ –ø–æ—è–≤–ª–µ–Ω–∏—è/–∏—Å—á–µ–∑–∞–Ω–∏—è –¥–∏–∞–ª–æ–≥–∞
- –ó–≤—É–∫–æ–≤—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–π –æ–ø—Ü–∏–∏
- –ò–∫–æ–Ω–∫–∏ —Ä—è–¥–æ–º —Å –æ–ø—Ü–∏—è–º–∏ –º–µ–Ω—é

### 5. –°–∏—Å—Ç–µ–º–∞ –∫–≤–µ—Å—Ç–æ–≤

- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∫–≤–µ—Å—Ç–æ–≤ –≤ –¥–∏–∞–ª–æ–≥–µ
- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –∫–≤–µ—Å—Ç–æ–≤
- –ù–∞–≥—Ä–∞–¥—ã –∑–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–≤–µ—Å—Ç–æ–≤

---

## –û—Ç–ª–∞–¥–∫–∞

### –õ–æ–≥–∏:

**–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –¥–∏–∞–ª–æ–≥–∞:**
```
üí¨ –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏–∞–ª–æ–≥–æ–≤–æ–≥–æ –æ–∫–Ω–∞...
‚úÖ –î–∏–∞–ª–æ–≥ –¥–æ–±–∞–≤–ª–µ–Ω –∫ CharacterPreparation
‚úÖ –°–∏–≥–Ω–∞–ª—ã –¥–∏–∞–ª–æ–≥–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω—ã
```

**–ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –º–µ–Ω—é:**
```
üóø –°–∫—É–ª—å–ø—Ç–æ—Ä –¥—É—à: –û—Ç–∫—Ä—ã–≤–∞–µ–º –¥–∏–∞–ª–æ–≥
üìã –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –º–µ–Ω—é –°–∫—É–ª—å–ø—Ç–æ—Ä–∞ –¥—É—à
‚úÖ –ú–µ–Ω—é –æ—Ç–∫—Ä—ã—Ç–æ
```

**–ü—Ä–∏ –≤—ã–±–æ—Ä–µ –æ–ø—Ü–∏–π:**
```
üåü –ù–∞–∂–∞—Ç–æ: –†–∞–∑–≤–∏—Ç–∏–µ –¥—É—à–∏
üí¨ –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ: [—Ç–µ–∫—Å—Ç –∫–≤–µ—Å—Ç–∞]
```

```
‚ö° –ù–∞–∂–∞—Ç–æ: –ê–∫—Ç–∏–≤–∞—Ü–∏—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π
‚ö° –ó–∞–ø—Ä–æ—Å –Ω–∞ –æ—Ç–∫—Ä—ã—Ç–∏–µ –æ–∫–Ω–∞ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –ø–∞—Å—Å–∏–≤–Ω—ã—Ö —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π
üìö –û—Ç–∫—Ä—ã—Ç–∏–µ –æ–∫–Ω–∞ –ø–∞—Å—Å–∏–≤–Ω—ã—Ö —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π...
```

```
üìö –ù–∞–∂–∞—Ç–æ: –ò–∑—É—á–µ–Ω–∏–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π
üí¨ –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ: [—Ç–µ–∫—Å—Ç –æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —É—Ä–Ω—ã]
// –ò–õ–ò –µ—Å–ª–∏ —É—Ä–Ω–∞ –µ—Å—Ç—å:
üìö –ó–∞–ø—Ä–æ—Å –Ω–∞ –æ—Ç–∫—Ä—ã—Ç–∏–µ —ç–∫—Ä–∞–Ω–∞ –∏–∑—É—á–µ–Ω–∏—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π
```

### –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:

**–î–∏–∞–ª–æ–≥ –Ω–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ - –±—ã–ª –ª–∏ —Å–æ–∑–¥–∞–Ω –¥–∏–∞–ª–æ–≥
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ `dialog` –Ω–µ `null`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ `dialog.visible == true` –ø–æ—Å–ª–µ `show_menu()`

**–û–∫–Ω–æ –∏–∑—É—á–µ–Ω–∏—è –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –º–µ—Ç–æ–¥ `open_passive_abilities_window()` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —Å–∏–≥–Ω–∞–ª `passive_learning_requested` –ø–æ–¥–∫–ª—é—á–µ–Ω
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –≤—ã–∑–æ–≤–æ–≤ –º–µ—Ç–æ–¥–æ–≤

**ESC –Ω–µ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –¥–∏–∞–ª–æ–≥:**
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —ç–∫—à–Ω `ui_cancel` –æ–ø—Ä–µ–¥–µ–ª–µ–Ω –≤ InputMap
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –¥–∏–∞–ª–æ–≥ –ø–æ–ª—É—á–∞–µ—Ç `_input` —Å–æ–±—ã—Ç–∏—è

---

## –°–≤—è–∑—å —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π

- **META_PROGRESSION_SYSTEM.md** - —Å–∏—Å—Ç–µ–º–∞ –º–µ—Ç–∞-–ø—Ä–æ–≥—Ä–µ—Å—Å–∏–∏ –∏ –∫–≤–µ—Å—Ç–æ–≤
- **SOUL_SCULPTOR_NPC.md** - –æ–ø–∏—Å–∞–Ω–∏–µ NPC –°–∫—É–ª—å–ø—Ç–æ—Ä–∞ –¥—É—à
- **ABILITY_LEARNING_SCREEN_GUIDE.md** - –æ–∫–Ω–æ –∏–∑—É—á–µ–Ω–∏—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 20 –Ω–æ—è–±—Ä—è 2025  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 20 –Ω–æ—è–±—Ä—è 2025  
**–í–µ—Ä—Å–∏—è:** 1.1  
**–°—Ç–∞—Ç—É—Å:** –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (3 –æ–ø—Ü–∏–∏ –º–µ–Ω—é)

