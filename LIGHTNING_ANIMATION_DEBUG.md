# –û—Ç–ª–∞–¥–∫–∞ –∞–Ω–∏–º–∞—Ü–∏–∏ –º–æ–ª–Ω–∏–∏ –¥–ª—è "–®–∞–º–∞–Ω –±—É—Ä—å"

## –î–∞—Ç–∞
28 –æ–∫—Ç—è–±—Ä—è 2025

## –ü—Ä–æ–±–ª–µ–º–∞
–ü–∞—Å—Å–∏–≤–∫–∞ "–®–∞–º–∞–Ω –±—É—Ä—å" —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∏ –Ω–∞–Ω–æ—Å–∏—Ç —É—Ä–æ–Ω, –Ω–æ –∞–Ω–∏–º–∞—Ü–∏—è –º–æ–ª–Ω–∏–∏ –Ω–µ –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–µ—Ç—Å—è.

## –î–æ–±–∞–≤–ª–µ–Ω–Ω–∞—è –æ—Ç–ª–∞–¥–∫–∞

### 1. –û—Ç–ª–∞–¥–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è —ç—Ñ—Ñ–µ–∫—Ç–∞ (StormShaman.gd)

**–§–∞–π–ª:** `Scripts/PassiveAbilities/Legendary/StormShaman.gd`
**–§—É–Ω–∫—Ü–∏—è:** `_spawn_lightning_effect()`

–î–æ–±–∞–≤–ª–µ–Ω—ã –ª–æ–≥–∏ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞:

```
üå©Ô∏è –°–æ–∑–¥–∞–Ω–∏–µ —ç—Ñ—Ñ–µ–∫—Ç–∞ –º–æ–ª–Ω–∏–∏...
‚úÖ –°—Ü–µ–Ω–∞ –º–æ–ª–Ω–∏–∏ –∑–∞–≥—Ä—É–∂–µ–Ω–∞
‚úÖ –≠–∫–∑–µ–º–ø–ª—è—Ä –º–æ–ª–Ω–∏–∏ —Å–æ–∑–¥–∞–Ω: [AnimatedSprite2D:1234]
‚úÖ BattleManager –Ω–∞–π–¥–µ–Ω: BattleScene
‚úÖ –≠—Ñ—Ñ–µ–∫—Ç –¥–æ–±–∞–≤–ª–µ–Ω –≤ —Å—Ü–µ–Ω—É –±–æ—è
üìç –ü–æ–∑–∏—Ü–∏—è —Ü–µ–ª–∏: (100, 200)
‚úÖ –í—ã–∑–≤–∞–Ω –º–µ—Ç–æ–¥ setup() —ç—Ñ—Ñ–µ–∫—Ç–∞
```

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è:**
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ü–µ–Ω—ã `LightningEffect.tscn`
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ —ç—Ñ—Ñ–µ–∫—Ç–∞
- ‚úÖ –ü–æ–∏—Å–∫ BattleManager (–ø—Ä–æ–±—É–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–ø–æ—Å–æ–±–æ–≤)
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —ç—Ñ—Ñ–µ–∫—Ç–∞ –≤ –¥–µ—Ä–µ–≤–æ —Å—Ü–µ–Ω—ã
- ‚úÖ –í—ã–∑–æ–≤ –º–µ—Ç–æ–¥–∞ `setup()`

### 2. –û—Ç–ª–∞–¥–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∞–Ω–∏–º–∞—Ü–∏–∏ (LightningEffectAnimated.gd)

**–§–∞–π–ª:** `Scripts/Battle/LightningEffectAnimated.gd`
**–§—É–Ω–∫—Ü–∏—è:** `_ready()`

```
‚ö° LightningEffect _ready() –≤—ã–∑–≤–∞–Ω
‚ö° –ù–∞—á–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã: scale=(0.5, 0.5), modulate=(1.5, 1.5, 1.8, 0)
‚ö° SpriteFrames: [SpriteFrames:5678]
‚ö° –î–æ—Å—Ç—É–ø–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏: ["lightning"]
```

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è:**
- ‚úÖ –í—ã–∑–æ–≤ `_ready()`
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞—á–∞–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- ‚úÖ –ù–∞–ª–∏—á–∏–µ SpriteFrames
- ‚úÖ –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∞–Ω–∏–º–∞—Ü–∏–π

### 3. –û—Ç–ª–∞–¥–∫–∞ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è (LightningEffectAnimated.gd)

**–§—É–Ω–∫—Ü–∏—è:** `setup()`

```
‚ö° setup() –≤—ã–∑–≤–∞–Ω —Å –ø–æ–∑–∏—Ü–∏–µ–π: (100, 200)
‚ö° –ò—Ç–æ–≥–æ–≤–∞—è –ø–æ–∑–∏—Ü–∏—è —ç—Ñ—Ñ–µ–∫—Ç–∞: (105, 95)
```

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è:**
- ‚úÖ –í—Ö–æ–¥–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è —Ü–µ–ª–∏
- ‚úÖ –ò—Ç–æ–≥–æ–≤–∞—è –ø–æ–∑–∏—Ü–∏—è —ç—Ñ—Ñ–µ–∫—Ç–∞ (—Å —É—á–µ—Ç–æ–º —Å–º–µ—â–µ–Ω–∏—è)

### 4. –û—Ç–ª–∞–¥–∫–∞ –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–Ω–∏—è –∞–Ω–∏–º–∞—Ü–∏–∏ (LightningEffectAnimated.gd)

**–§—É–Ω–∫—Ü–∏—è:** `_play_animation()`

```
‚ö° _play_animation() –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è
‚ö° –§–∞–∑–∞ 1: –ü–æ—è–≤–ª–µ–Ω–∏–µ...
‚ö° –§–∞–∑–∞ 1 –∑–∞–≤–µ—Ä—à–µ–Ω–∞
‚ö° –§–∞–∑–∞ 2: –ü—Ä–æ–∏–≥—Ä—ã–≤–∞–Ω–∏–µ –∞–Ω–∏–º–∞—Ü–∏–∏ 'lightning'...
‚ö° play('lightning') –≤—ã–∑–≤–∞–Ω–∞, is_playing=true
‚ö° –ü—É–ª—å—Å–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ: 8
‚ö° –§–∞–∑–∞ 2 –∑–∞–≤–µ—Ä—à–µ–Ω–∞ (–∞–Ω–∏–º–∞—Ü–∏—è –∑–∞–∫–æ–Ω—á–∏–ª–∞—Å—å)
‚ö° –§–∞–∑–∞ 3: –ò—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏–µ...
‚ö° –§–∞–∑–∞ 3 –∑–∞–≤–µ—Ä—à–µ–Ω–∞
‚ö° –£–¥–∞–ª–µ–Ω–∏–µ —ç—Ñ—Ñ–µ–∫—Ç–∞ –º–æ–ª–Ω–∏–∏
```

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è:**
- ‚úÖ –§–∞–∑–∞ 1: –ü–æ—è–≤–ª–µ–Ω–∏–µ (tween –¥–ª—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç–∏ –∏ —Ä–∞–∑–º–µ—Ä–∞)
- ‚úÖ –§–∞–∑–∞ 2: –ü—Ä–æ–∏–≥—Ä—ã–≤–∞–Ω–∏–µ –∞–Ω–∏–º–∞—Ü–∏–∏
  - –í—ã–∑–æ–≤ `play("lightning")`
  - –°—Ç–∞—Ç—É—Å `is_playing()`
  - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ü–∏–∫–ª–æ–≤ –ø—É–ª—å—Å–∞—Ü–∏–∏
  - –û–∂–∏–¥–∞–Ω–∏–µ `animation_finished`
- ‚úÖ –§–∞–∑–∞ 3: –ò—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏–µ
- ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ —ç—Ñ—Ñ–µ–∫—Ç–∞

## –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### –ü—Ä–æ–±–ª–µ–º–∞ 1: –°—Ü–µ–Ω–∞ –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
**–õ–æ–≥–∏:**
```
‚ö†Ô∏è –ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å —Å—Ü–µ–Ω—É LightningEffect
```
**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç—å: `res://Scenes/Effects/LightningEffect.tscn`
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —Ñ–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Å—Ü–µ–Ω–∞ –Ω–µ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∞

### –ü—Ä–æ–±–ª–µ–º–∞ 2: BattleManager –Ω–µ –Ω–∞–π–¥–µ–Ω
**–õ–æ–≥–∏:**
```
‚ö†Ô∏è –ù–µ —É–¥–∞–ª–æ—Å—å –Ω–∞–π—Ç–∏ BattleManager —á–µ—Ä–µ–∑ /root/BattleScene
‚ö†Ô∏è BattleManager –Ω–µ –Ω–∞–π–¥–µ–Ω –≤–æ–æ–±—â–µ, –∏—Å–ø–æ–ª—å–∑—É–µ–º get_tree().root
‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –Ω–∞–π—Ç–∏ –º–µ—Å—Ç–æ –¥–ª—è —Ä–∞–∑–º–µ—â–µ–Ω–∏—è —ç—Ñ—Ñ–µ–∫—Ç–∞
```
**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–º—è —É–∑–ª–∞ —Å—Ü–µ–Ω—ã –±–æ—è
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å—Ü–µ–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–æ–π —Å–ø–æ—Å–æ–± –ø–æ–ª—É—á–µ–Ω–∏—è BattleManager

### –ü—Ä–æ–±–ª–µ–º–∞ 3: SpriteFrames –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
**–õ–æ–≥–∏:**
```
‚ùå SpriteFrames –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω!
```
**–†–µ—à–µ–Ω–∏–µ:**
- –û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ü–µ–Ω—É `LightningEffect.tscn`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —É AnimatedSprite2D —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä `sprite_frames`
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –ø—É—Ç—å –∫ `LightningBolt_Frames.tres` –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω

### –ü—Ä–æ–±–ª–µ–º–∞ 4: –ê–Ω–∏–º–∞—Ü–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞
**–õ–æ–≥–∏:**
```
‚ö†Ô∏è –ê–Ω–∏–º–∞—Ü–∏—è 'lightning' –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ –∏–ª–∏ SpriteFrames –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç
‚ö†Ô∏è sprite_frames=[SpriteFrames:1234]
‚ö†Ô∏è has_animation('lightning')=false
```
**–†–µ—à–µ–Ω–∏–µ:**
- –û—Ç–∫—Ä–æ–π—Ç–µ `LightningBolt_Frames.tres`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –∞–Ω–∏–º–∞—Ü–∏—è –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è "lightning"
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤ –∞–Ω–∏–º–∞—Ü–∏–∏ –µ—Å—Ç—å –∫–∞–¥—Ä—ã

### –ü—Ä–æ–±–ª–µ–º–∞ 5: –ê–Ω–∏–º–∞—Ü–∏—è –Ω–µ –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–µ—Ç—Å—è
**–õ–æ–≥–∏:**
```
‚ö° play('lightning') –≤—ã–∑–≤–∞–Ω–∞, is_playing=false
‚ö° –ü—É–ª—å—Å–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ: 0
```
**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –∞–Ω–∏–º–∞—Ü–∏—è –Ω–µ –ø—É—Å—Ç–∞—è
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —Å–∫–æ—Ä–æ—Å—Ç—å –∞–Ω–∏–º–∞—Ü–∏–∏ > 0
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –∫–∞–¥—Ä—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω—ã

### –ü—Ä–æ–±–ª–µ–º–∞ 6: –≠—Ñ—Ñ–µ–∫—Ç –Ω–µ –≤–∏–¥–µ–Ω
**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**
1. **–ü–æ–∑–∏—Ü–∏—è –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ —ç–∫—Ä–∞–Ω–∞:**
   ```
   üìç –ü–æ–∑–∏—Ü–∏—è —Ü–µ–ª–∏: (-1000, -1000)
   ```
   –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–∑–∏—Ü–∏—é —Ü–µ–ª–∏

2. **–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è:**
   ```
   ‚ö° –§–∞–∑–∞ 1: –ü–æ—è–≤–ª–µ–Ω–∏–µ...
   [–Ω–µ—Ç "–§–∞–∑–∞ 1 –∑–∞–≤–µ—Ä—à–µ–Ω–∞"]
   ```
   –ü—Ä–æ–±–ª–µ–º–∞ —Å Tween

3. **–†–∞–∑–º–µ—Ä —Å–ª–∏—à–∫–æ–º –º–∞–ª–µ–Ω—å–∫–∏–π:**
   ```
   ‚ö° –ù–∞—á–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã: scale=(0.01, 0.01)
   ```
   –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä `scale_start`

4. **Z-–∏–Ω–¥–µ–∫—Å:**
   –≠—Ñ—Ñ–µ–∫—Ç –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–∑–∞–¥–∏ –¥—Ä—É–≥–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤

## –ö–∞–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

### –®–∞–≥ 1: –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∏–≥—Ä—É —Å –ª–æ–≥–∞–º–∏
1. –û—Ç–∫—Ä–æ–π—Ç–µ –∏–≥—Ä—É
2. –ò–∑—É—á–∏—Ç–µ –ø–∞—Å—Å–∏–≤–∫—É "–®–∞–º–∞–Ω –±—É—Ä—å"
3. –ù–∞—á–Ω–∏—Ç–µ –±–æ–π —Å –≤—Ä–∞–≥–æ–º
4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–∞–≥–∏—á–µ—Å–∫—É—é –∞—Ç–∞–∫—É (–°–ø–∏—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π —É–¥–∞—Ä –∏–ª–∏ –ú–∞–≥–∏—á–µ—Å–∫–∏–µ —Å—Ç—Ä–µ–ª—ã)

### –®–∞–≥ 2: –ê–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –ª–æ–≥–∏

**–ù–æ—Ä–º–∞–ª—å–Ω–æ–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–µ (–ø–æ–ª–Ω—ã–π –ª–æ–≥):**
```
üå©Ô∏è –®–∞–º–∞–Ω –±—É—Ä—å: –ø—Ä–æ–≤–µ—Ä–∫–∞ –∞—Ç–∞–∫–∏, —Ç–∏–ø —É—Ä–æ–Ω–∞: magic
‚ö° –®–∞–º–∞–Ω –±—É—Ä—å: –º–∞–≥–∏—á–µ—Å–∫–∞—è –∞—Ç–∞–∫–∞! –£—Ä–æ–≤–µ–Ω—å: 1, –®–∞–Ω—Å –º–æ–ª–Ω–∏–∏: 5.0%, –ë—Ä–æ—Å–æ–∫: 3.45
‚ú® –ú–û–õ–ù–ò–Ø –°–†–ê–ë–û–¢–ê–õ–ê! –£—Ä–æ–Ω: 35 (INT: 20 + WIS: 15)
üå©Ô∏è –°–æ–∑–¥–∞–Ω–∏–µ —ç—Ñ—Ñ–µ–∫—Ç–∞ –º–æ–ª–Ω–∏–∏...
‚úÖ –°—Ü–µ–Ω–∞ –º–æ–ª–Ω–∏–∏ –∑–∞–≥—Ä—É–∂–µ–Ω–∞
‚úÖ –≠–∫–∑–µ–º–ø–ª—è—Ä –º–æ–ª–Ω–∏–∏ —Å–æ–∑–¥–∞–Ω: [AnimatedSprite2D:1234]
‚úÖ BattleManager –Ω–∞–π–¥–µ–Ω: BattleScene
‚úÖ –≠—Ñ—Ñ–µ–∫—Ç –¥–æ–±–∞–≤–ª–µ–Ω –≤ —Å—Ü–µ–Ω—É –±–æ—è
üìç –ü–æ–∑–∏—Ü–∏—è —Ü–µ–ª–∏: (640, 360)
‚úÖ –í—ã–∑–≤–∞–Ω –º–µ—Ç–æ–¥ setup() —ç—Ñ—Ñ–µ–∫—Ç–∞
‚ö° LightningEffect _ready() –≤—ã–∑–≤–∞–Ω
‚ö° –ù–∞—á–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã: scale=(0.5, 0.5), modulate=(1.5, 1.5, 1.8, 0)
‚ö° SpriteFrames: [SpriteFrames:5678]
‚ö° –î–æ—Å—Ç—É–ø–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏: ["lightning"]
‚ö° setup() –≤—ã–∑–≤–∞–Ω —Å –ø–æ–∑–∏—Ü–∏–µ–π: (640, 360)
‚ö° –ò—Ç–æ–≥–æ–≤–∞—è –ø–æ–∑–∏—Ü–∏—è —ç—Ñ—Ñ–µ–∫—Ç–∞: (645, 255)
‚ö° _play_animation() –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è
‚ö° –§–∞–∑–∞ 1: –ü–æ—è–≤–ª–µ–Ω–∏–µ...
‚ö° –§–∞–∑–∞ 1 –∑–∞–≤–µ—Ä—à–µ–Ω–∞
‚ö° –§–∞–∑–∞ 2: –ü—Ä–æ–∏–≥—Ä—ã–≤–∞–Ω–∏–µ –∞–Ω–∏–º–∞—Ü–∏–∏ 'lightning'...
‚ö° play('lightning') –≤—ã–∑–≤–∞–Ω–∞, is_playing=true
‚ö° –ü—É–ª—å—Å–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ: 8
‚ö° –§–∞–∑–∞ 2 –∑–∞–≤–µ—Ä—à–µ–Ω–∞ (–∞–Ω–∏–º–∞—Ü–∏—è –∑–∞–∫–æ–Ω—á–∏–ª–∞—Å—å)
‚ö° –§–∞–∑–∞ 3: –ò—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏–µ...
‚ö° –§–∞–∑–∞ 3 –∑–∞–≤–µ—Ä—à–µ–Ω–∞
‚ö° –£–¥–∞–ª–µ–Ω–∏–µ —ç—Ñ—Ñ–µ–∫—Ç–∞ –º–æ–ª–Ω–∏–∏
```

### –®–∞–≥ 3: –ù–∞–π–¥–∏—Ç–µ –ø—Ä–æ–±–ª–µ–º—É
–ù–∞–π–¥–∏—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–µ–µ —É—Å–ø–µ—à–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –ª–æ–≥–∞—Ö –∏ —Å–ª–µ–¥—É—é—â–µ–µ –∑–∞ –Ω–∏–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ.

**–ü—Ä–∏–º–µ—Ä—ã:**

**–ü—Ä–∏–º–µ—Ä 1: –ü—Ä–æ–±–ª–µ–º–∞ —Å –∑–∞–≥—Ä—É–∑–∫–æ–π —Å—Ü–µ–Ω—ã**
```
‚ú® –ú–û–õ–ù–ò–Ø –°–†–ê–ë–û–¢–ê–õ–ê! –£—Ä–æ–Ω: 35 (INT: 20 + WIS: 15)
üå©Ô∏è –°–æ–∑–¥–∞–Ω–∏–µ —ç—Ñ—Ñ–µ–∫—Ç–∞ –º–æ–ª–Ω–∏–∏...
‚ö†Ô∏è –ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å —Å—Ü–µ–Ω—É LightningEffect
```
‚Üí –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç—å –∫ —Å—Ü–µ–Ω–µ

**–ü—Ä–∏–º–µ—Ä 2: –ü—Ä–æ–±–ª–µ–º–∞ —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π**
```
‚ö° –§–∞–∑–∞ 2: –ü—Ä–æ–∏–≥—Ä—ã–≤–∞–Ω–∏–µ –∞–Ω–∏–º–∞—Ü–∏–∏ 'lightning'...
‚ö†Ô∏è –ê–Ω–∏–º–∞—Ü–∏—è 'lightning' –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ –∏–ª–∏ SpriteFrames –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç
```
‚Üí –ü—Ä–æ–≤–µ—Ä—å—Ç–µ SpriteFrames —Ä–µ—Å—É—Ä—Å

**–ü—Ä–∏–º–µ—Ä 3: –ê–Ω–∏–º–∞—Ü–∏—è –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–æ –Ω–µ –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–µ—Ç—Å—è**
```
‚ö° play('lightning') –≤—ã–∑–≤–∞–Ω–∞, is_playing=false
```
‚Üí –ê–Ω–∏–º–∞—Ü–∏—è –ø—É—Å—Ç–∞—è –∏–ª–∏ —Å–∫–æ—Ä–æ—Å—Ç—å = 0

## –ë—ã—Å—Ç—Ä—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –ï—Å–ª–∏ —Å—Ü–µ–Ω–∞ –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è:
```gdscript
# –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø—Ä—è–º–æ–π –ø—É—Ç—å
var lightning_scene = preload("res://Scenes/Effects/LightningEffect.tscn")
```

### –ï—Å–ª–∏ BattleManager –Ω–µ –Ω–∞–π–¥–µ–Ω:
```gdscript
# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ GameWorld –≤–º–µ—Å—Ç–æ BattleScene
var game_world = target.get_node_or_null("/root/BattleScene/GameWorld")
if game_world:
    game_world.add_child(lightning_effect)
```

### –ï—Å–ª–∏ –∞–Ω–∏–º–∞—Ü–∏—è –Ω–µ –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–µ—Ç—Å—è:
```gdscript
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ:
# 1. –û—Ç–∫—Ä–æ–π—Ç–µ LightningBolt_Frames.tres
# 2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —Å–∫–æ—Ä–æ—Å—Ç—å –∞–Ω–∏–º–∞—Ü–∏–∏ > 0
# 3. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –µ—Å—Ç—å —Ö–æ—Ç—è –±—ã 1 –∫–∞–¥—Ä
# 4. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø—Ä–æ–∏–≥—Ä–∞—Ç—å –∞–Ω–∏–º–∞—Ü–∏—é –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ (–∫–Ω–æ–ø–∫–∞ Play)
```

### –ï—Å–ª–∏ —ç—Ñ—Ñ–µ–∫—Ç —Å–æ–∑–¥–∞–µ—Ç—Å—è –Ω–æ –Ω–µ –≤–∏–¥–µ–Ω:
```gdscript
# –í LightningEffectAnimated.gd –∏–∑–º–µ–Ω–∏—Ç–µ –Ω–∞—á–∞–ª—å–Ω—É—é –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å:
modulate = Color(1.5, 1.5, 1.8, 1.0)  # –ò–∑–º–µ–Ω–∏–ª–∏ —Å 0.0 –Ω–∞ 1.0

# –ò–ª–∏ —É–≤–µ–ª–∏—á—å—Ç–µ —Ä–∞–∑–º–µ—Ä:
scale = Vector2(2.0, 2.0)  # –í–º–µ—Å—Ç–æ 0.5
```

### –ï—Å–ª–∏ –Ω—É–∂–Ω–æ —É–ø—Ä–æ—Å—Ç–∏—Ç—å –∞–Ω–∏–º–∞—Ü–∏—é –¥–ª—è —Ç–µ—Å—Ç–∞:
```gdscript
func _play_animation():
    """–£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è –¥–ª—è —Ç–µ—Å—Ç–∞"""
    print("‚ö° –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è")
    
    # –ü—Ä–æ—Å—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —ç—Ñ—Ñ–µ–∫—Ç
    modulate = Color(2.0, 2.0, 2.5, 1.0)
    
    if sprite_frames and sprite_frames.has_animation("lightning"):
        play("lightning")
        await animation_finished
    else:
        await get_tree().create_timer(1.0).timeout
    
    queue_free()
```

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –∏–≥—Ä—É –∏ –∏–∑—É—á–∏—Ç–µ –ø–∞—Å—Å–∏–≤–∫—É**
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–∞–≥–∏—á–µ—Å–∫–∏–µ –∞—Ç–∞–∫–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑**
3. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ª–æ–≥–∏ –∏–∑ –∫–æ–Ω—Å–æ–ª–∏**
4. **–û—Ç–ø—Ä–∞–≤—å—Ç–µ –º–Ω–µ –ª–æ–≥–∏** - —è —Å–º–æ–≥—É —Ç–æ—á–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –≥–¥–µ –ø—Ä–æ–±–ª–µ–º–∞

## –£–¥–∞–ª–µ–Ω–∏–µ –æ—Ç–ª–∞–¥–∫–∏

–ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –ø—Ä–æ–±–ª–µ–º–∞ –±—É–¥–µ—Ç —Ä–µ—à–µ–Ω–∞, –º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å –≤—Å–µ `print()` –∏–∑ —Ñ–∞–π–ª–æ–≤:
- `Scripts/PassiveAbilities/Legendary/StormShaman.gd`
- `Scripts/Battle/LightningEffectAnimated.gd`

–ò–ª–∏ –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∏—Ö –¥–ª—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

## –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:
–ë–æ–ª—å—à–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ print() –º–æ–∂–µ—Ç –Ω–µ–º–Ω–æ–≥–æ –∑–∞–º–µ–¥–ª–∏—Ç—å –∏–≥—Ä—É. –ü–æ—Å–ª–µ –æ—Ç–ª–∞–¥–∫–∏ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Ö —É–¥–∞–ª–∏—Ç—å.

### –ö–æ–Ω—Å–æ–ª—å:
–í Godot –∫–æ–Ω—Å–æ–ª—å –º–æ–∂–µ—Ç –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –µ—Å–ª–∏ –∏—Ö —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–∏–ª—å—Ç—Ä —á—Ç–æ–±—ã –≤–∏–¥–µ—Ç—å —Ç–æ–ª—å–∫–æ —Å–æ–æ–±—â–µ–Ω–∏—è —Å ‚ö° –∏–ª–∏ üå©Ô∏è.

### –¢–∞–π–º–∏–Ω–≥:
–ï—Å–ª–∏ –∞–Ω–∏–º–∞—Ü–∏—è –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–µ—Ç—Å—è —Å–ª–∏—à–∫–æ–º –±—ã—Å—Ç—Ä–æ, —É–≤–µ–ª–∏—á—å—Ç–µ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤ `LightningBolt_Frames.tres` (—É–º–µ–Ω—å—à–∏—Ç–µ FPS —Å 12 –¥–æ 8).

## –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫

- [ ] –õ–æ–≥–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —Å–æ–∑–¥–∞–Ω–∏–µ —ç—Ñ—Ñ–µ–∫—Ç–∞
- [ ] –õ–æ–≥–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –∑–∞–≥—Ä—É–∑–∫—É SpriteFrames
- [ ] –õ–æ–≥–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –∑–∞–ø—É—Å–∫ –∞–Ω–∏–º–∞—Ü–∏–∏
- [ ] –õ–æ–≥–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç is_playing=true
- [ ] –ê–Ω–∏–º–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ
- [ ] –≠—Ñ—Ñ–µ–∫—Ç –≤–∏–¥–µ–Ω –Ω–∞ —ç–∫—Ä–∞–Ω–µ –±–æ—è
- [ ] –≠—Ñ—Ñ–µ–∫—Ç –ø–æ—è–≤–ª—è–µ—Ç—Å—è –Ω–∞–¥ –≤—Ä–∞–≥–æ–º
- [ ] –≠—Ñ—Ñ–µ–∫—Ç –∏—Å—á–µ–∑–∞–µ—Ç –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

–ï—Å–ª–∏ –≤—Å–µ –ø—É–Ω–∫—Ç—ã –≤—ã–ø–æ–ª–Ω–µ–Ω—ã - –∞–Ω–∏–º–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç! ‚ö°‚ú®

