# üîß –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ú–ù–û–ñ–ï–°–¢–í–ï–ù–ù–û–ï –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–ï –°–ü–ò–†–ò–¢–ò–ß–ï–°–ö–û–ì–û –£–î–ê–†–ê

## ‚ùå **–ü–†–û–ë–õ–ï–ú–ê**

–ü—Ä–∏ **–±—ã—Å—Ç—Ä–æ–º –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–º –Ω–∞–∂–∞—Ç–∏–∏** –Ω–∞ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å "–°–ø–∏—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π —É–¥–∞—Ä" –≤—ã–ø—É—Å–∫–∞–ª–æ—Å—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–Ω–∞—Ä—è–¥–æ–≤ –∑–∞ –æ–¥–∏–Ω —Ö–æ–¥, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–ª–æ –∏–≥—Ä–æ–∫—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –±–µ–∑ –∑–∞—Ç—Ä–∞—Ç –æ—á–∫–æ–≤ –¥–µ–π—Å—Ç–≤–∏–π.

### **–ü—Ä–∏—á–∏–Ω–∞:**

–û—á–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π (–û–î) —Å–ø–∏—Å—ã–≤–∞–ª–∏—Å—å **–≤ –∫–æ–Ω—Ü–µ** –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ (–ø–æ—Å–ª–µ –≤—Å–µ—Ö –∞–Ω–∏–º–∞—Ü–∏–π –∏ –Ω–∞–Ω–µ—Å–µ–Ω–∏—è —É—Ä–æ–Ω–∞), –∞ –Ω–µ **–≤ –Ω–∞—á–∞–ª–µ** –ø—Ä–∏ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏.

```gdscript
// –ë–´–õ–û (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ):
1. –ò–≥—Ä–æ–∫ –Ω–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤ (–º–∞–Ω–∞, –≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç—å)
3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ñ–ª–∞–≥–∞ using_ability = true
4. –ó–∞–ø—É—Å–∫ –∞–Ω–∏–º–∞—Ü–∏–∏ –∫–∞—Å—Ç–∞ (0.3 —Å–µ–∫)
5. –°–æ–∑–¥–∞–Ω–∏–µ —Å–Ω–∞—Ä—è–¥–∞
6. –ü–æ–ª–µ—Ç —Å–Ω–∞—Ä—è–¥–∞ (0.4 —Å–µ–∫)
7. –ù–∞–Ω–µ—Å–µ–Ω–∏–µ —É—Ä–æ–Ω–∞
8. spend_action_point() ‚Üê –ó–î–ï–°–¨, —á–µ—Ä–µ–∑ ~0.7 —Å–µ–∫—É–Ω–¥! ‚ùå

–ï—Å–ª–∏ –∏–≥—Ä–æ–∫ –Ω–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É 3 —Ä–∞–∑–∞ –ø–æ–¥—Ä—è–¥:
‚Üí 3 —Å–Ω–∞—Ä—è–¥–∞ –≤—ã–ª–µ—Ç–∞—é—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
‚Üí –û–î —Å–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ 1 —Ä–∞–∑ (–≤ –∫–æ–Ω—Ü–µ –ø–µ—Ä–≤–æ–≥–æ)
```

---

## ‚úÖ **–†–ï–®–ï–ù–ò–ï**

### **–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

1. **–î–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞—â–∏—Ç–∞ –æ—Ç –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –Ω–∞–∂–∞—Ç–∏–π:**
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–ª–∞–≥–∞ `using_ability` –≤ –Ω–∞—á–∞–ª–µ —Ñ—É–Ω–∫—Ü–∏–∏
   - –ï—Å–ª–∏ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è ‚Üí –∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º –Ω–∞–∂–∞—Ç–∏–µ

2. **–ü–µ—Ä–µ–º–µ—â–µ–Ω–æ —Å–ø–∏—Å–∞–Ω–∏–µ –û–î:**
   - –û–î —Ç–µ–ø–µ—Ä—å —Å–ø–∏—Å—ã–≤–∞—é—Ç—Å—è **—Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–µ—Å—É—Ä—Å–æ–≤**
   - **–î–æ –∑–∞–ø—É—Å–∫–∞ –∞–Ω–∏–º–∞—Ü–∏–π –∏ —Å–Ω–∞—Ä—è–¥–æ–≤**

```gdscript
// –°–¢–ê–õ–û (–ø—Ä–∞–≤–∏–ª—å–Ω–æ):
1. –ò–≥—Ä–æ–∫ –Ω–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
2. –ü—Ä–æ–≤–µ—Ä–∫–∞: using_ability == true? ‚Üí –í—ã—Ö–æ–¥
3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤ (–º–∞–Ω–∞, –≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç—å)
4. spend_action_point() ‚Üê –°–†–ê–ó–£! ‚úÖ
5. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ñ–ª–∞–≥–∞ using_ability = true
6. –ó–∞–ø—É—Å–∫ –∞–Ω–∏–º–∞—Ü–∏–∏ –∫–∞—Å—Ç–∞
7. –°–æ–∑–¥–∞–Ω–∏–µ —Å–Ω–∞—Ä—è–¥–∞
8. –ü–æ–ª–µ—Ç —Å–Ω–∞—Ä—è–¥–∞
9. –ù–∞–Ω–µ—Å–µ–Ω–∏–µ —É—Ä–æ–Ω–∞

–ï—Å–ª–∏ –∏–≥—Ä–æ–∫ –Ω–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É 3 —Ä–∞–∑–∞ –ø–æ–¥—Ä—è–¥:
‚Üí 1-–µ –Ω–∞–∂–∞—Ç–∏–µ: –°–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è
‚Üí 2-–µ –Ω–∞–∂–∞—Ç–∏–µ: using_ability == true ‚Üí –ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è ‚úÖ
‚Üí 3-–µ –Ω–∞–∂–∞—Ç–∏–µ: using_ability == true ‚Üí –ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è ‚úÖ
‚Üí –¢–æ–ª—å–∫–æ 1 —Å–Ω–∞—Ä—è–¥, –∫–∞–∫ –∏ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å!
```

---

## üîß **–¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –ò–ó–ú–ï–ù–ï–ù–ò–Ø**

### **–§–∞–π–ª:** `Scripts/Battle/battle_manager.gd`

---

#### **–ò–∑–º–µ–Ω–µ–Ω–∏–µ 1: –ó–∞—â–∏—Ç–∞ –æ—Ç –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –Ω–∞–∂–∞—Ç–∏–π (—Å—Ç—Ä–æ–∫–∞ ~3274)**

**–î–û–ë–ê–í–õ–ï–ù–û:**
```gdscript
func use_player_ability(ability_id: String):
	"""–ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∞–∫—Ç–∏–≤–Ω—É—é —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –∏–≥—Ä–æ–∫–∞"""
	
	if state != "player_turn":
		print("–û–®–ò–ë–ö–ê: –ù–µ —Ö–æ–¥ –∏–≥—Ä–æ–∫–∞, —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ: ", state)
		return
	
	# ‚úÖ –î–û–ë–ê–í–õ–ï–ù–û: –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–∏ —É–∂–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å
	if player_node.using_ability:
		print("DEBUG: –°–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º –ø–æ–≤—Ç–æ—Ä–Ω–æ–µ –Ω–∞–∂–∞—Ç–∏–µ")
		return
	
	# –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –æ—á–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π
	if not player_node.has_action_points():
		_show_message("–ù–µ—Ç –æ—á–∫–æ–≤ –¥–µ–π—Å—Ç–≤–∏–π!")
		return
```

**–ß—Ç–æ —ç—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- ‚úÖ –ë–ª–æ–∫–∏—Ä—É–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –≤—ã–∑–æ–≤—ã —Ñ—É–Ω–∫—Ü–∏–∏, –ø–æ–∫–∞ –ø—Ä–µ–¥—ã–¥—É—â–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –µ—â–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è
- ‚úÖ –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –≤—ã–ø—É—Å–∫ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–Ω–∞—Ä—è–¥–æ–≤
- ‚úÖ –ó–∞—â–∏—â–∞–µ—Ç –æ—Ç –±—ã—Å—Ç—Ä—ã—Ö –∫–ª–∏–∫–æ–≤

---

#### **–ò–∑–º–µ–Ω–µ–Ω–∏–µ 2: –°–ø–∏—Å–∞–Ω–∏–µ –û–î –≤ –Ω–∞—á–∞–ª–µ (—Å—Ç—Ä–æ–∫–∞ ~3298)**

**–ë–´–õ–û:**
```gdscript
# –ü—Ä–æ–≤–µ—Ä—è–µ–º, –º–æ–∂–µ—Ç –ª–∏ –∏–≥—Ä–æ–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å
if not ability.can_use(player_node):
	_show_message("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ä–µ—Å—É—Ä—Å–æ–≤ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏!")
	return

# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ñ–ª–∞–≥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
player_node.using_ability = true
```

**–°–¢–ê–õ–û:**
```gdscript
# –ü—Ä–æ–≤–µ—Ä—è–µ–º, –º–æ–∂–µ—Ç –ª–∏ –∏–≥—Ä–æ–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å
if not ability.can_use(player_node):
	_show_message("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ä–µ—Å—É—Ä—Å–æ–≤ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏!")
	return

# ‚úÖ –î–û–ë–ê–í–õ–ï–ù–û: –¢—Ä–∞—Ç–∏–º –æ—á–∫–æ –¥–µ–π—Å—Ç–≤–∏–π –°–†–ê–ó–£
player_node.spend_action_point()

# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ñ–ª–∞–≥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
player_node.using_ability = true
```

**–ß—Ç–æ —ç—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- ‚úÖ –°–ø–∏—Å—ã–≤–∞–µ—Ç –û–î **–¥–æ –∑–∞–ø—É—Å–∫–∞ –∞–Ω–∏–º–∞—Ü–∏–∏**
- ‚úÖ –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –¥–∞–∂–µ –µ—Å–ª–∏ –∏–≥—Ä–æ–∫ –æ–±–æ–π–¥–µ—Ç –∑–∞—â–∏—Ç—É `using_ability`, —É –Ω–µ–≥–æ –Ω–µ –±—É–¥–µ—Ç –û–î –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∫–∞—Å—Ç–∞
- ‚úÖ –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —ç–∫—Å–ø–ª–æ–π—Ç —Å –±–µ—Å–ø–ª–∞—Ç–Ω—ã–º–∏ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—è–º–∏

---

#### **–ò–∑–º–µ–Ω–µ–Ω–∏–µ 3: –£–¥–∞–ª–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä—É—é—â–µ–≥–æ —Å–ø–∏—Å–∞–Ω–∏—è (—Å—Ç—Ä–æ–∫–∞ ~3797)**

**–ë–´–õ–û:**
```gdscript
		# –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∞—Ç–∞–∫–∏ –æ—Ç –ø–∞—Å—Å–∏–≤–Ω—ã—Ö —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π –∏–≥—Ä–æ–∫–∞
		_check_extra_attacks(player_node, target, damage_type)
	
	# –¢—Ä–∞—Ç–∏–º –æ—á–∫–æ –¥–µ–π—Å—Ç–≤–∏–π
	player_node.spend_action_point()  ‚Üê ‚ùå –î–£–ë–õ–ò–ö–ê–¢
	
	# –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –µ—â–µ –æ—á–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π
	if player_node.has_action_points():
```

**–°–¢–ê–õ–û:**
```gdscript
		# –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∞—Ç–∞–∫–∏ –æ—Ç –ø–∞—Å—Å–∏–≤–Ω—ã—Ö —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π –∏–≥—Ä–æ–∫–∞
		_check_extra_attacks(player_node, target, damage_type)
	
	# ‚úÖ –û—á–∫–æ –¥–µ–π—Å—Ç–≤–∏–π —É–∂–µ –ø–æ—Ç—Ä–∞—á–µ–Ω–æ –≤ –Ω–∞—á–∞–ª–µ —Ñ—É–Ω–∫—Ü–∏–∏
	
	# –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –µ—â–µ –æ—á–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π
	if player_node.has_action_points():
```

**–ß—Ç–æ —ç—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- ‚úÖ –£–±–∏—Ä–∞–µ—Ç –¥—É–±–ª–∏—Ä—É—é—â–µ–µ —Å–ø–∏—Å–∞–Ω–∏–µ –û–î
- ‚úÖ –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –¥–≤–æ–π–Ω–æ–µ —Å–ø–∏—Å–∞–Ω–∏–µ (–±—ã–ª–æ –±—ã -2 –û–î –≤–º–µ—Å—Ç–æ -1)
- ‚úÖ –õ–æ–≥–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ `has_action_points()` –≤—Å–µ –µ—â–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

## üìä **–°–•–ï–ú–ê –†–ê–ë–û–¢–´**

### **–î–û –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**

```
[–ò–≥—Ä–æ–∫ –Ω–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É]
       ‚Üì
[–ü—Ä–æ–≤–µ—Ä–∫–∞ state]
       ‚Üì
[–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤ (–º–∞–Ω–∞)]
       ‚Üì
[using_ability = true]
       ‚Üì
[–ê–Ω–∏–º–∞—Ü–∏—è 0.3 —Å–µ–∫] ‚Üê –ò–≥—Ä–æ–∫ –º–æ–∂–µ—Ç –Ω–∞–∂–∞—Ç—å —Å–Ω–æ–≤–∞!
       ‚Üì
[–°–Ω–∞—Ä—è–¥ 0.4 —Å–µ–∫]   ‚Üê –ò–≥—Ä–æ–∫ –º–æ–∂–µ—Ç –Ω–∞–∂–∞—Ç—å —Å–Ω–æ–≤–∞!
       ‚Üì
[–ù–∞–Ω–µ—Å–µ–Ω–∏–µ —É—Ä–æ–Ω–∞]
       ‚Üì
[spend_action_point()] ‚Üê –ó–î–ï–°–¨! –°–ª–∏—à–∫–æ–º –ø–æ–∑–¥–Ω–æ! ‚ùå
```

---

### **–ü–û–°–õ–ï –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**

```
[–ò–≥—Ä–æ–∫ –Ω–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É]
       ‚Üì
[–ü—Ä–æ–≤–µ—Ä–∫–∞ state]
       ‚Üì
[–ü—Ä–æ–≤–µ—Ä–∫–∞ using_ability] ‚Üê –ë–õ–û–ö–ò–†–£–ï–¢ –ø–æ–≤—Ç–æ—Ä—ã!
       ‚Üì
[–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤ (–º–∞–Ω–∞)]
       ‚Üì
[spend_action_point()] ‚Üê –°–†–ê–ó–£! ‚úÖ
       ‚Üì
[using_ability = true]
       ‚Üì
[–ê–Ω–∏–º–∞—Ü–∏—è 0.3 —Å–µ–∫] ‚Üê –ü–æ–≤—Ç–æ—Ä—ã –±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è!
       ‚Üì
[–°–Ω–∞—Ä—è–¥ 0.4 —Å–µ–∫]   ‚Üê –ü–æ–≤—Ç–æ—Ä—ã –±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è!
       ‚Üì
[–ù–∞–Ω–µ—Å–µ–Ω–∏–µ —É—Ä–æ–Ω–∞]
       ‚Üì
[using_ability = false]
```

---

## üéÆ **–í–õ–ò–Ø–ù–ò–ï –ù–ê –ì–ï–ô–ú–ü–õ–ï–ô**

### **–î–û –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–±–∞–≥):**
```
–ò–≥—Ä–æ–∫:
- –ù–∞–∂–∏–º–∞–µ—Ç "–°–ø–∏—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π —É–¥–∞—Ä" 3 —Ä–∞–∑–∞ –±—ã—Å—Ç—Ä–æ
- –í—ã–ø—É—Å–∫–∞–µ—Ç—Å—è 3 —Å–Ω–∞—Ä—è–¥–∞
- –¢—Ä–∞—Ç–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ 1 –û–î –∏ 15 –º–∞–Ω—ã
- –ù–∞–Ω–æ—Å–∏—Ç—Å—è —Ç—Ä–æ–π–Ω–æ–π —É—Ä–æ–Ω

–†–µ–∑—É–ª—å—Ç–∞—Ç:
‚ùå –≠–∫—Å–ø–ª–æ–π—Ç
‚ùå –õ–µ–≥–∫–∞—è –ø–æ–±–µ–¥–∞ –Ω–∞–¥ –±–æ—Å—Å–∞–º–∏
‚ùå –ù–∞—Ä—É—à–µ–Ω–Ω—ã–π –±–∞–ª–∞–Ω—Å
```

---

### **–ü–û–°–õ–ï –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
```
–ò–≥—Ä–æ–∫:
- –ù–∞–∂–∏–º–∞–µ—Ç "–°–ø–∏—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π —É–¥–∞—Ä" 3 —Ä–∞–∑–∞ –±—ã—Å—Ç—Ä–æ
- –í—ã–ø—É—Å–∫–∞–µ—Ç—Å—è 1 —Å–Ω–∞—Ä—è–¥
- –¢—Ä–∞—Ç–∏—Ç—Å—è 1 –û–î –∏ 15 –º–∞–Ω—ã
- –û—Å—Ç–∞–ª—å–Ω—ã–µ –Ω–∞–∂–∞—Ç–∏—è –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è

–†–µ–∑—É–ª—å—Ç–∞—Ç:
‚úÖ –ë–∞–ª–∞–Ω—Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω
‚úÖ –°–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –∑–∞–¥—É–º–∞–Ω–æ
‚úÖ 1 —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å = 1 –û–î
```

---

## üîç **–¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï**

### **–¢–µ—Å—Ç 1: –û–¥–∏–Ω–æ—á–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**
```
1. –ù–∞—á–∞—Ç—å –±–æ–π
2. –ù–∞–∂–∞—Ç—å "–°–ø–∏—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π —É–¥–∞—Ä" –û–î–ò–ù —Ä–∞–∑
3. –î–æ–∂–¥–∞—Ç—å—Å—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∞–Ω–∏–º–∞—Ü–∏–∏

–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
‚úÖ –í—ã–ø—É—Å–∫–∞–µ—Ç—Å—è 1 —Å–Ω–∞—Ä—è–¥
‚úÖ –¢—Ä–∞—Ç–∏—Ç—Å—è 1 –û–î
‚úÖ –¢—Ä–∞—Ç–∏—Ç—Å—è 15 –º–∞–Ω—ã
‚úÖ –í—Ä–∞–≥ –ø–æ–ª—É—á–∞–µ—Ç —É—Ä–æ–Ω
```

---

### **–¢–µ—Å—Ç 2: –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –Ω–∞–∂–∞—Ç–∏–µ**
```
1. –ù–∞—á–∞—Ç—å –±–æ–π
2. –ù–∞–∂–∞—Ç—å "–°–ø–∏—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π —É–¥–∞—Ä" 5 —Ä–∞–∑ –ü–û–î–†–Ø–î (–±—ã—Å—Ç—Ä–æ)
3. –ù–∞–±–ª—é–¥–∞—Ç—å –∑–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º

–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
‚úÖ –í—ã–ø—É—Å–∫–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ 1 —Å–Ω–∞—Ä—è–¥
‚úÖ –¢—Ä–∞—Ç–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ 1 –û–î
‚úÖ –¢—Ä–∞—Ç–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ 15 –º–∞–Ω—ã
‚úÖ –û—Å—Ç–∞–ª—å–Ω—ã–µ 4 –Ω–∞–∂–∞—Ç–∏—è –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è
‚úÖ –í –∫–æ–Ω—Å–æ–ª–∏: "DEBUG: –°–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º –ø–æ–≤—Ç–æ—Ä–Ω–æ–µ –Ω–∞–∂–∞—Ç–∏–µ" (4 —Ä–∞–∑–∞)
```

---

### **–¢–µ—Å—Ç 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–µ–∑ –û–î**
```
1. –ù–∞—á–∞—Ç—å –±–æ–π
2. –ü–æ—Ç—Ä–∞—Ç–∏—Ç—å –≤—Å–µ –û–î (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∞—Ç–∞–∫–∞–º–∏)
3. –ü–æ–ø—ã—Ç–∞—Ç—å—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å "–°–ø–∏—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π —É–¥–∞—Ä"

–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
‚úÖ –ü–æ—è–≤–ª—è–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ "–ù–µ—Ç –æ—á–∫–æ–≤ –¥–µ–π—Å—Ç–≤–∏–π!"
‚úÖ –°–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –Ω–µ –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è
‚úÖ –ú–∞–Ω–∞ –Ω–µ —Ç—Ä–∞—Ç–∏—Ç—Å—è
```

---

### **–¢–µ—Å—Ç 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ –û–î –ø–æ—Å–ª–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**
```
1. –ù–∞—á–∞—Ç—å –±–æ–π —Å 2 –û–î
2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å "–°–ø–∏—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π —É–¥–∞—Ä"
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –û–î

–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
‚úÖ –û—Å—Ç–∞–µ—Ç—Å—è 1 –û–î
‚úÖ –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ—â–µ –æ–¥–Ω–æ –¥–µ–π—Å—Ç–≤–∏–µ
‚úÖ –ü–æ—è–≤–ª—è–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ "–£ –≤–∞—Å –µ—Å—Ç—å –µ—â–µ –æ–¥–Ω–æ –¥–µ–π—Å—Ç–≤–∏–µ!"
```

---

### **–¢–µ—Å—Ç 5: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥—Ä—É–≥–∏—Ö —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π**
```
1. –ù–∞—á–∞—Ç—å –±–æ–π
2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å "–°–ø–∏—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π —É–¥–∞—Ä" (–±—ã—Å—Ç—Ä–æ 3 —Ä–∞–∑–∞)
3. –°—Ä–∞–∑—É –∂–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å "–ö–∏–Ω–µ—Ç–∏—á–µ—Å–∫–∏–π —É–¥–∞—Ä" (–±—ã—Å—Ç—Ä–æ 3 —Ä–∞–∑–∞)

–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
‚úÖ –í—ã–ø—É—Å–∫–∞–µ—Ç—Å—è 1 —Å–Ω–∞—Ä—è–¥ —Å–ø–∏—Ä–∏—Ç–∏—á–µ—Å–∫–æ–≥–æ —É–¥–∞—Ä–∞
‚úÖ –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è 1 –∫–∏–Ω–µ—Ç–∏—á–µ—Å–∫–∏–π —É–¥–∞—Ä
‚úÖ –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –Ω–∞–∂–∞—Ç–∏—è –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è
```

---

## ‚ö†Ô∏è **–í–û–ó–ú–û–ñ–ù–´–ï –í–û–ü–†–û–°–´**

### **Q: –≠—Ç–æ –≤–ª–∏—è–µ—Ç –Ω–∞ –¥—Ä—É–≥–∏–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏?**
```
A: ‚úÖ –î–∞, –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –í–°–ï–• —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π:
   - –°–ø–∏—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π —É–¥–∞—Ä
   - –ö–∏–Ω–µ—Ç–∏—á–µ—Å–∫–∏–π —É–¥–∞—Ä
   - –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –¥—É—à–∏
   - –õ—é–±—ã–µ –±—É–¥—É—â–∏–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
```

### **Q: –ß—Ç–æ –µ—Å–ª–∏ –∏–≥—Ä–æ–∫ —Å–ª—É—á–∞–π–Ω–æ –∫–ª–∏–∫–Ω–µ—Ç –¥–≤–∞–∂–¥—ã?**
```
A: ‚úÖ –í—Ç–æ—Ä–æ–π –∫–ª–∏–∫ –±—É–¥–µ—Ç –ø—Ä–æ–∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω.
   –ò–≥—Ä–æ–∫ –Ω–µ –ø–æ—Ç–µ—Ä—è–µ—Ç –Ω–∏—á–µ–≥–æ (–Ω–∏ –û–î, –Ω–∏ –º–∞–Ω—É).
   –≠—Ç–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ.
```

### **Q: –≠—Ç–æ –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å –±—ã—Å—Ç—Ä–æ–π –∏–≥—Ä–æ–π?**
```
A: ‚ùå –ù–µ—Ç. –ó–∞—â–∏—Ç–∞ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ø–æ–∫–∞ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å
   –∞–∫—Ç–∏–≤–Ω–∞ (~0.7 —Å–µ–∫ –¥–ª—è —Å–ø–∏—Ä–∏—Ç–∏—á–µ—Å–∫–æ–≥–æ —É–¥–∞—Ä–∞).
   –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ª–µ–¥—É—é—â—É—é —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å.
```

### **Q: –ß—Ç–æ —Å –ø–∞—Å—Å–∏–≤–Ω—ã–º–∏ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—è–º–∏ –Ω–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è?**
```
A: ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ. –ü—Ä–æ–≤–µ—Ä–∫–∞ has_action_points()
   –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ—Å–ª–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏.
   –ï—Å–ª–∏ –ø–∞—Å—Å–∏–≤–∫–∞ –¥–∞–ª–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –û–î, –∏–≥—Ä–æ–∫ –º–æ–∂–µ—Ç
   –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ—â–µ –æ–¥–Ω—É —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å.
```

---

## üìù **–ò–¢–û–ì**

### **–ü—Ä–æ–±–ª–µ–º–∞:**
- ‚ùå –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –∑–∞ 1 –û–î
- ‚ùå –≠–∫—Å–ø–ª–æ–π—Ç —Å –±–µ—Å–ø–ª–∞—Ç–Ω—ã–º —É—Ä–æ–Ω–æ–º
- ‚ùå –ù–∞—Ä—É—à–µ–Ω–Ω—ã–π –±–∞–ª–∞–Ω—Å –±–æ—è

### **–†–µ—à–µ–Ω–∏–µ:**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞—â–∏—Ç–∞ –æ—Ç –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –Ω–∞–∂–∞—Ç–∏–π (`using_ability`)
- ‚úÖ –û–î —Å–ø–∏—Å—ã–≤–∞—é—Ç—Å—è —Å—Ä–∞–∑—É –ø—Ä–∏ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏
- ‚úÖ –£–¥–∞–ª–µ–Ω–æ –¥—É–±–ª–∏—Ä—É—é—â–µ–µ —Å–ø–∏—Å–∞–Ω–∏–µ –≤ –∫–æ–Ω—Ü–µ

### **–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ 1 –Ω–∞–∂–∞—Ç–∏–µ = 1 —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å = 1 –û–î
- ‚úÖ –ë–∞–ª–∞–Ω—Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω
- ‚úÖ –≠–∫—Å–ø–ª–æ–π—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω
- ‚úÖ –í—Å–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –∑–∞—â–∏—â–µ–Ω—ã
- ‚úÖ –ù–∏–∫–∞–∫–∏—Ö –æ—à–∏–±–æ–∫ linter

### **–ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- ‚úÖ `Scripts/Battle/battle_manager.gd` (3 –∏–∑–º–µ–Ω–µ–Ω–∏—è)
- ‚úÖ `SPIRITUAL_STRIKE_MULTIPLE_CAST_FIX.md` (–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è)

---

## üí° **–î–õ–Ø –†–ê–ó–†–ê–ë–û–¢–ß–ò–ö–û–í**

### **–û–±—â–∏–π –ø—Ä–∏–Ω—Ü–∏–ø:**
```
–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤—ã—Ö —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π:
1. –í–°–ï–ì–î–ê —Å–ø–∏—Å—ã–≤–∞–π—Ç–µ —Ä–µ—Å—É—Ä—Å—ã (–û–î, –º–∞–Ω–∞, –≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç—å) –°–†–ê–ó–£
2. –í–°–ï–ì–î–ê –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Ñ–ª–∞–≥ using_ability –≤ –Ω–∞—á–∞–ª–µ
3. –ù–ï —Å–ø–∏—Å—ã–≤–∞–π—Ç–µ —Ä–µ—Å—É—Ä—Å—ã –≤ –∫–æ–Ω—Ü–µ/—Å–µ—Ä–µ–¥–∏–Ω–µ –∞–Ω–∏–º–∞—Ü–∏–∏
```

### **–ü–ª–æ—Ö–æ–π –ø–∞—Ç—Ç–µ—Ä–Ω (–ù–ï –¥–µ–ª–∞–π—Ç–µ —Ç–∞–∫):**
```gdscript
func use_ability():
    start_animation()
    await animation_finished
    apply_damage()
    spend_resources() ‚Üê ‚ùå –°–ª–∏—à–∫–æ–º –ø–æ–∑–¥–Ω–æ!
```

### **–•–æ—Ä–æ—à–∏–π –ø–∞—Ç—Ç–µ—Ä–Ω (–¥–µ–ª–∞–π—Ç–µ —Ç–∞–∫):**
```gdscript
func use_ability():
    if using_ability: return ‚Üê ‚úÖ –ó–∞—â–∏—Ç–∞
    spend_resources() ‚Üê ‚úÖ –°–†–ê–ó–£!
    using_ability = true
    start_animation()
    await animation_finished
    apply_damage()
    using_ability = false
```

---

**–ê–≤—Ç–æ—Ä:** Claude AI Assistant  
**–î–∞—Ç–∞:** 2024  
**–í–µ—Ä—Å–∏—è:** beta 0.6.11

